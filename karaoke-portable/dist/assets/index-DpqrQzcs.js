(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function Bc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wd={exports:{}},co={};var Qb;function sN(){if(Qb)return co;Qb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var h in o)h!=="key"&&(u[h]=o[h])}else u=o;return o=u.ref,{$$typeof:t,type:r,key:c,ref:o!==void 0?o:null,props:u}}return co.Fragment=e,co.jsx=i,co.jsxs=i,co}var Kb;function rN(){return Kb||(Kb=1,wd.exports=sN()),wd.exports}var _=rN(),Cd={exports:{}},Se={};var Xb;function aN(){if(Xb)return Se;Xb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),v=Symbol.iterator;function x(M){return M===null||typeof M!="object"?null:(M=v&&M[v]||M["@@iterator"],typeof M=="function"?M:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,E={};function A(M,G,W){this.props=M,this.context=G,this.refs=E,this.updater=W||w}A.prototype.isReactComponent={},A.prototype.setState=function(M,G){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,G,"setState")},A.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function N(){}N.prototype=A.prototype;function D(M,G,W){this.props=M,this.context=G,this.refs=E,this.updater=W||w}var L=D.prototype=new N;L.constructor=D,C(L,A.prototype),L.isPureReactComponent=!0;var B=Array.isArray;function ne(){}var K={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function ee(M,G,W){var J=W.ref;return{$$typeof:t,type:M,key:G,ref:J!==void 0?J:null,props:W}}function se(M,G){return ee(M.type,G,M.props)}function ye(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function ve(M){var G={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(W){return G[W]})}var Ee=/\/+/g;function Ve(M,G){return typeof M=="object"&&M!==null&&M.key!=null?ve(""+M.key):G.toString(36)}function X(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(ne,ne):(M.status="pending",M.then(function(G){M.status==="pending"&&(M.status="fulfilled",M.value=G)},function(G){M.status==="pending"&&(M.status="rejected",M.reason=G)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function j(M,G,W,J,fe){var _e=typeof M;(_e==="undefined"||_e==="boolean")&&(M=null);var de=!1;if(M===null)de=!0;else switch(_e){case"bigint":case"string":case"number":de=!0;break;case"object":switch(M.$$typeof){case t:case e:de=!0;break;case g:return de=M._init,j(de(M._payload),G,W,J,fe)}}if(de)return fe=fe(M),de=J===""?"."+Ve(M,0):J,B(fe)?(W="",de!=null&&(W=de.replace(Ee,"$&/")+"/"),j(fe,G,W,"",function(ce){return ce})):fe!=null&&(ye(fe)&&(fe=se(fe,W+(fe.key==null||M&&M.key===fe.key?"":(""+fe.key).replace(Ee,"$&/")+"/")+de)),G.push(fe)),1;de=0;var Te=J===""?".":J+":";if(B(M))for(var Z=0;Z<M.length;Z++)J=M[Z],_e=Te+Ve(J,Z),de+=j(J,G,W,_e,fe);else if(Z=x(M),typeof Z=="function")for(M=Z.call(M),Z=0;!(J=M.next()).done;)J=J.value,_e=Te+Ve(J,Z++),de+=j(J,G,W,_e,fe);else if(_e==="object"){if(typeof M.then=="function")return j(X(M),G,W,J,fe);throw G=String(M),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return de}function Y(M,G,W){if(M==null)return M;var J=[],fe=0;return j(M,J,"","",function(_e){return G.call(W,_e,fe++)}),J}function H(M){if(M._status===-1){var G=M._result;G=G(),G.then(function(W){(M._status===0||M._status===-1)&&(M._status=1,M._result=W)},function(W){(M._status===0||M._status===-1)&&(M._status=2,M._result=W)}),M._status===-1&&(M._status=0,M._result=G)}if(M._status===1)return M._result.default;throw M._result}var ie=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},ue={map:Y,forEach:function(M,G,W){Y(M,function(){G.apply(this,arguments)},W)},count:function(M){var G=0;return Y(M,function(){G++}),G},toArray:function(M){return Y(M,function(G){return G})||[]},only:function(M){if(!ye(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Se.Activity=y,Se.Children=ue,Se.Component=A,Se.Fragment=i,Se.Profiler=o,Se.PureComponent=D,Se.StrictMode=r,Se.Suspense=m,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,Se.__COMPILER_RUNTIME={__proto__:null,c:function(M){return K.H.useMemoCache(M)}},Se.cache=function(M){return function(){return M.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(M,G,W){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var J=C({},M.props),fe=M.key;if(G!=null)for(_e in G.key!==void 0&&(fe=""+G.key),G)!z.call(G,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&G.ref===void 0||(J[_e]=G[_e]);var _e=arguments.length-2;if(_e===1)J.children=W;else if(1<_e){for(var de=Array(_e),Te=0;Te<_e;Te++)de[Te]=arguments[Te+2];J.children=de}return ee(M.type,fe,J)},Se.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Se.createElement=function(M,G,W){var J,fe={},_e=null;if(G!=null)for(J in G.key!==void 0&&(_e=""+G.key),G)z.call(G,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(fe[J]=G[J]);var de=arguments.length-2;if(de===1)fe.children=W;else if(1<de){for(var Te=Array(de),Z=0;Z<de;Z++)Te[Z]=arguments[Z+2];fe.children=Te}if(M&&M.defaultProps)for(J in de=M.defaultProps,de)fe[J]===void 0&&(fe[J]=de[J]);return ee(M,_e,fe)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(M){return{$$typeof:h,render:M}},Se.isValidElement=ye,Se.lazy=function(M){return{$$typeof:g,_payload:{_status:-1,_result:M},_init:H}},Se.memo=function(M,G){return{$$typeof:d,type:M,compare:G===void 0?null:G}},Se.startTransition=function(M){var G=K.T,W={};K.T=W;try{var J=M(),fe=K.S;fe!==null&&fe(W,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(ne,ie)}catch(_e){ie(_e)}finally{G!==null&&W.types!==null&&(G.types=W.types),K.T=G}},Se.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},Se.use=function(M){return K.H.use(M)},Se.useActionState=function(M,G,W){return K.H.useActionState(M,G,W)},Se.useCallback=function(M,G){return K.H.useCallback(M,G)},Se.useContext=function(M){return K.H.useContext(M)},Se.useDebugValue=function(){},Se.useDeferredValue=function(M,G){return K.H.useDeferredValue(M,G)},Se.useEffect=function(M,G){return K.H.useEffect(M,G)},Se.useEffectEvent=function(M){return K.H.useEffectEvent(M)},Se.useId=function(){return K.H.useId()},Se.useImperativeHandle=function(M,G,W){return K.H.useImperativeHandle(M,G,W)},Se.useInsertionEffect=function(M,G){return K.H.useInsertionEffect(M,G)},Se.useLayoutEffect=function(M,G){return K.H.useLayoutEffect(M,G)},Se.useMemo=function(M,G){return K.H.useMemo(M,G)},Se.useOptimistic=function(M,G){return K.H.useOptimistic(M,G)},Se.useReducer=function(M,G,W){return K.H.useReducer(M,G,W)},Se.useRef=function(M){return K.H.useRef(M)},Se.useState=function(M){return K.H.useState(M)},Se.useSyncExternalStore=function(M,G,W){return K.H.useSyncExternalStore(M,G,W)},Se.useTransition=function(){return K.H.useTransition()},Se.version="19.2.4",Se}var Wb;function _p(){return Wb||(Wb=1,Cd.exports=aN()),Cd.exports}var T=_p();const ke=Bc(T);var Ed={exports:{}},fo={},Ad={exports:{}},Rd={};var $b;function oN(){return $b||($b=1,(function(t){function e(j,Y){var H=j.length;j.push(Y);e:for(;0<H;){var ie=H-1>>>1,ue=j[ie];if(0<o(ue,Y))j[ie]=Y,j[H]=ue,H=ie;else break e}}function i(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var Y=j[0],H=j.pop();if(H!==Y){j[0]=H;e:for(var ie=0,ue=j.length,M=ue>>>1;ie<M;){var G=2*(ie+1)-1,W=j[G],J=G+1,fe=j[J];if(0>o(W,H))J<ue&&0>o(fe,W)?(j[ie]=fe,j[J]=H,ie=J):(j[ie]=W,j[G]=H,ie=G);else if(J<ue&&0>o(fe,H))j[ie]=fe,j[J]=H,ie=J;else break e}}return Y}function o(j,Y){var H=j.sortIndex-Y.sortIndex;return H!==0?H:j.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var m=[],d=[],g=1,y=null,v=3,x=!1,w=!1,C=!1,E=!1,A=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function L(j){for(var Y=i(d);Y!==null;){if(Y.callback===null)r(d);else if(Y.startTime<=j)r(d),Y.sortIndex=Y.expirationTime,e(m,Y);else break;Y=i(d)}}function B(j){if(C=!1,L(j),!w)if(i(m)!==null)w=!0,ne||(ne=!0,ve());else{var Y=i(d);Y!==null&&X(B,Y.startTime-j)}}var ne=!1,K=-1,z=5,ee=-1;function se(){return E?!0:!(t.unstable_now()-ee<z)}function ye(){if(E=!1,ne){var j=t.unstable_now();ee=j;var Y=!0;try{e:{w=!1,C&&(C=!1,N(K),K=-1),x=!0;var H=v;try{t:{for(L(j),y=i(m);y!==null&&!(y.expirationTime>j&&se());){var ie=y.callback;if(typeof ie=="function"){y.callback=null,v=y.priorityLevel;var ue=ie(y.expirationTime<=j);if(j=t.unstable_now(),typeof ue=="function"){y.callback=ue,L(j),Y=!0;break t}y===i(m)&&r(m),L(j)}else r(m);y=i(m)}if(y!==null)Y=!0;else{var M=i(d);M!==null&&X(B,M.startTime-j),Y=!1}}break e}finally{y=null,v=H,x=!1}Y=void 0}}finally{Y?ve():ne=!1}}}var ve;if(typeof D=="function")ve=function(){D(ye)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,Ve=Ee.port2;Ee.port1.onmessage=ye,ve=function(){Ve.postMessage(null)}}else ve=function(){A(ye,0)};function X(j,Y){K=A(function(){j(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(j){switch(v){case 1:case 2:case 3:var Y=3;break;default:Y=v}var H=v;v=Y;try{return j()}finally{v=H}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(j,Y){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var H=v;v=j;try{return Y()}finally{v=H}},t.unstable_scheduleCallback=function(j,Y,H){var ie=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ie+H:ie):H=ie,j){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=H+ue,j={id:g++,callback:Y,priorityLevel:j,startTime:H,expirationTime:ue,sortIndex:-1},H>ie?(j.sortIndex=H,e(d,j),i(m)===null&&j===i(d)&&(C?(N(K),K=-1):C=!0,X(B,H-ie))):(j.sortIndex=ue,e(m,j),w||x||(w=!0,ne||(ne=!0,ve()))),j},t.unstable_shouldYield=se,t.unstable_wrapCallback=function(j){var Y=v;return function(){var H=v;v=Y;try{return j.apply(this,arguments)}finally{v=H}}}})(Rd)),Rd}var Zb;function lN(){return Zb||(Zb=1,Ad.exports=oN()),Ad.exports}var Nd={exports:{}},Ht={};var Jb;function uN(){if(Jb)return Ht;Jb=1;var t=_p();function e(m){var d="https://react.dev/errors/"+m;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,d,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:m,containerInfo:d,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,d){if(m==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ht.createPortal=function(m,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return u(m,d,null,g)},Ht.flushSync=function(m){var d=c.T,g=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=d,r.p=g,r.d.f()}},Ht.preconnect=function(m,d){typeof m=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(m,d))},Ht.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},Ht.preinit=function(m,d){if(typeof m=="string"&&d&&typeof d.as=="string"){var g=d.as,y=h(g,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,x=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?r.d.S(m,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:x}):g==="script"&&r.d.X(m,{crossOrigin:y,integrity:v,fetchPriority:x,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ht.preinitModule=function(m,d){if(typeof m=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=h(d.as,d.crossOrigin);r.d.M(m,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(m)},Ht.preload=function(m,d){if(typeof m=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,y=h(g,d.crossOrigin);r.d.L(m,g,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ht.preloadModule=function(m,d){if(typeof m=="string")if(d){var g=h(d.as,d.crossOrigin);r.d.m(m,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(m)},Ht.requestFormReset=function(m){r.d.r(m)},Ht.unstable_batchedUpdates=function(m,d){return m(d)},Ht.useFormState=function(m,d,g){return c.H.useFormState(m,d,g)},Ht.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ht.version="19.2.4",Ht}var e_;function oT(){if(e_)return Nd.exports;e_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Nd.exports=uN(),Nd.exports}var t_;function cN(){if(t_)return fo;t_=1;var t=lN(),e=_p(),i=oT();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function h(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(r(188))}function d(n){var s=n.alternate;if(!s){if(s=u(n),s===null)throw Error(r(188));return s!==n?null:n}for(var a=n,l=s;;){var f=a.return;if(f===null)break;var p=f.alternate;if(p===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===a)return m(f),n;if(p===l)return m(f),s;p=p.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=p;else{for(var b=!1,S=f.child;S;){if(S===a){b=!0,a=f,l=p;break}if(S===l){b=!0,l=f,a=p;break}S=S.sibling}if(!b){for(S=p.child;S;){if(S===a){b=!0,a=p,l=f;break}if(S===l){b=!0,l=p,a=f;break}S=S.sibling}if(!b)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:s}function g(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=g(n),s!==null)return s;n=n.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),D=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),ye=Symbol.iterator;function ve(n){return n===null||typeof n!="object"?null:(n=ye&&n[ye]||n["@@iterator"],typeof n=="function"?n:null)}var Ee=Symbol.for("react.client.reference");function Ve(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Ee?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case C:return"Fragment";case A:return"Profiler";case E:return"StrictMode";case B:return"Suspense";case ne:return"SuspenseList";case ee:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case w:return"Portal";case D:return n.displayName||"Context";case N:return(n._context.displayName||"Context")+".Consumer";case L:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case K:return s=n.displayName||null,s!==null?s:Ve(n.type)||"Memo";case z:s=n._payload,n=n._init;try{return Ve(n(s))}catch{}}return null}var X=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},ie=[],ue=-1;function M(n){return{current:n}}function G(n){0>ue||(n.current=ie[ue],ie[ue]=null,ue--)}function W(n,s){ue++,ie[ue]=n.current,n.current=s}var J=M(null),fe=M(null),_e=M(null),de=M(null);function Te(n,s){switch(W(_e,s),W(fe,n),W(J,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?gb(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=gb(s),n=yb(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}G(J),W(J,n)}function Z(){G(J),G(fe),G(_e)}function ce(n){n.memoizedState!==null&&W(de,n);var s=J.current,a=yb(s,n.type);s!==a&&(W(fe,n),W(J,a))}function $(n){fe.current===n&&(G(J),G(fe)),de.current===n&&(G(de),ao._currentValue=H)}var ge,Ie;function tt(n){if(ge===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);ge=s&&s[1]||"",Ie=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ge+n+Ie}var At=!1;function xt(n,s){if(!n||At)return"";At=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(U){var V=U}Reflect.construct(n,[],Q)}else{try{Q.call()}catch(U){V=U}n.call(Q.prototype)}}else{try{throw Error()}catch(U){V=U}(Q=n())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(U){if(U&&V&&typeof U.stack=="string")return[U.stack,V.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),b=p[0],S=p[1];if(b&&S){var R=b.split(`
`),I=S.split(`
`);for(f=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;f<I.length&&!I[f].includes("DetermineComponentFrameRoot");)f++;if(l===R.length||f===I.length)for(l=R.length-1,f=I.length-1;1<=l&&0<=f&&R[l]!==I[f];)f--;for(;1<=l&&0<=f;l--,f--)if(R[l]!==I[f]){if(l!==1||f!==1)do if(l--,f--,0>f||R[l]!==I[f]){var F=`
`+R[l].replace(" at new "," at ");return n.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",n.displayName)),F}while(1<=l&&0<=f);break}}}finally{At=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?tt(a):""}function Un(n,s){switch(n.tag){case 26:case 27:case 5:return tt(n.type);case 16:return tt("Lazy");case 13:return n.child!==s&&s!==null?tt("Suspense Fallback"):tt("Suspense");case 19:return tt("SuspenseList");case 0:case 15:return xt(n.type,!1);case 11:return xt(n.type.render,!1);case 1:return xt(n.type,!0);case 31:return tt("Activity");default:return""}}function $s(n){try{var s="",a=null;do s+=Un(n,a),a=n,n=n.return;while(n);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var hs=Object.prototype.hasOwnProperty,ga=t.unstable_scheduleCallback,ya=t.unstable_cancelCallback,PE=t.unstable_shouldYield,IE=t.unstable_requestPaint,sn=t.unstable_now,VE=t.unstable_getCurrentPriorityLevel,Kg=t.unstable_ImmediatePriority,Xg=t.unstable_UserBlockingPriority,pl=t.unstable_NormalPriority,zE=t.unstable_LowPriority,Wg=t.unstable_IdlePriority,BE=t.log,UE=t.unstable_setDisableYieldValue,va=null,rn=null;function Ai(n){if(typeof BE=="function"&&UE(n),rn&&typeof rn.setStrictMode=="function")try{rn.setStrictMode(va,n)}catch{}}var an=Math.clz32?Math.clz32:GE,HE=Math.log,FE=Math.LN2;function GE(n){return n>>>=0,n===0?32:31-(HE(n)/FE|0)|0}var gl=256,yl=262144,vl=4194304;function ds(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function bl(n,s,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,p=n.suspendedLanes,b=n.pingedLanes;n=n.warmLanes;var S=l&134217727;return S!==0?(l=S&~p,l!==0?f=ds(l):(b&=S,b!==0?f=ds(b):a||(a=S&~n,a!==0&&(f=ds(a))))):(S=l&~p,S!==0?f=ds(S):b!==0?f=ds(b):a||(a=l&~n,a!==0&&(f=ds(a)))),f===0?0:s!==0&&s!==f&&(s&p)===0&&(p=f&-f,a=s&-s,p>=a||p===32&&(a&4194048)!==0)?s:f}function ba(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function qE(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $g(){var n=vl;return vl<<=1,(vl&62914560)===0&&(vl=4194304),n}function hf(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function _a(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function YE(n,s,a,l,f,p){var b=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var S=n.entanglements,R=n.expirationTimes,I=n.hiddenUpdates;for(a=b&~a;0<a;){var F=31-an(a),Q=1<<F;S[F]=0,R[F]=-1;var V=I[F];if(V!==null)for(I[F]=null,F=0;F<V.length;F++){var U=V[F];U!==null&&(U.lane&=-536870913)}a&=~Q}l!==0&&Zg(n,l,0),p!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=p&~(b&~s))}function Zg(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var l=31-an(s);n.entangledLanes|=s,n.entanglements[l]=n.entanglements[l]|1073741824|a&261930}function Jg(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var l=31-an(a),f=1<<l;f&s|n[l]&s&&(n[l]|=s),a&=~f}}function ey(n,s){var a=s&-s;return a=(a&42)!==0?1:df(a),(a&(n.suspendedLanes|s))!==0?0:a}function df(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function mf(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function ty(){var n=Y.p;return n!==0?n:(n=window.event,n===void 0?32:Bb(n.type))}function ny(n,s){var a=Y.p;try{return Y.p=n,s()}finally{Y.p=a}}var Ri=Math.random().toString(36).slice(2),kt="__reactFiber$"+Ri,Kt="__reactProps$"+Ri,Zs="__reactContainer$"+Ri,pf="__reactEvents$"+Ri,QE="__reactListeners$"+Ri,KE="__reactHandles$"+Ri,iy="__reactResources$"+Ri,xa="__reactMarker$"+Ri;function gf(n){delete n[kt],delete n[Kt],delete n[pf],delete n[QE],delete n[KE]}function Js(n){var s=n[kt];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Zs]||a[kt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=wb(n);n!==null;){if(a=n[kt])return a;n=wb(n)}return s}n=a,a=n.parentNode}return null}function er(n){if(n=n[kt]||n[Zs]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function Sa(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function tr(n){var s=n[iy];return s||(s=n[iy]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Rt(n){n[xa]=!0}var sy=new Set,ry={};function ms(n,s){nr(n,s),nr(n+"Capture",s)}function nr(n,s){for(ry[n]=s,n=0;n<s.length;n++)sy.add(s[n])}var XE=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ay={},oy={};function WE(n){return hs.call(oy,n)?!0:hs.call(ay,n)?!1:XE.test(n)?oy[n]=!0:(ay[n]=!0,!1)}function _l(n,s,a){if(WE(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function xl(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function Jn(n,s,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+l)}}function mn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ly(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function $E(n,s,a){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,p=l.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(b){a=""+b,p.call(this,b)}}),Object.defineProperty(n,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(b){a=""+b},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function yf(n){if(!n._valueTracker){var s=ly(n)?"checked":"value";n._valueTracker=$E(n,s,""+n[s])}}function uy(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return n&&(l=ly(n)?n.checked?"true":"false":n.value),n=l,n!==a?(s.setValue(n),!0):!1}function Sl(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var ZE=/[\n"\\]/g;function pn(n){return n.replace(ZE,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function vf(n,s,a,l,f,p,b,S){n.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.type=b:n.removeAttribute("type"),s!=null?b==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+mn(s)):n.value!==""+mn(s)&&(n.value=""+mn(s)):b!=="submit"&&b!=="reset"||n.removeAttribute("value"),s!=null?bf(n,b,mn(s)):a!=null?bf(n,b,mn(a)):l!=null&&n.removeAttribute("value"),f==null&&p!=null&&(n.defaultChecked=!!p),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+mn(S):n.removeAttribute("name")}function cy(n,s,a,l,f,p,b,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),s!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||s!=null)){yf(n);return}a=a!=null?""+mn(a):"",s=s!=null?""+mn(s):a,S||s===n.value||(n.value=s),n.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=S?n.checked:!!l,n.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.name=b),yf(n)}function bf(n,s,a){s==="number"&&Sl(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function ir(n,s,a,l){if(n=n.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=s.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+mn(a),s=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function fy(n,s,a){if(s!=null&&(s=""+mn(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+mn(a):""}function hy(n,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(X(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=mn(s),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l),yf(n)}function sr(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var JE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dy(n,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":l?n.setProperty(s,a):typeof a!="number"||a===0||JE.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function my(n,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&dy(n,f,l)}else for(var p in s)s.hasOwnProperty(p)&&dy(n,p,s[p])}function _f(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tl(n){return tA.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function ei(){}var xf=null;function Sf(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var rr=null,ar=null;function py(n){var s=er(n);if(s&&(n=s.stateNode)){var a=n[Kt]||null;e:switch(n=s.stateNode,s.type){case"input":if(vf(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==n&&l.form===n.form){var f=l[Kt]||null;if(!f)throw Error(r(90));vf(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===n.form&&uy(l)}break e;case"textarea":fy(n,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&ir(n,!!a.multiple,s,!1)}}}var Tf=!1;function gy(n,s,a){if(Tf)return n(s,a);Tf=!0;try{var l=n(s);return l}finally{if(Tf=!1,(rr!==null||ar!==null)&&(cu(),rr&&(s=rr,n=ar,ar=rr=null,py(s),n)))for(s=0;s<n.length;s++)py(n[s])}}function Ta(n,s){var a=n.stateNode;if(a===null)return null;var l=a[Kt]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wf=!1;if(ti)try{var wa={};Object.defineProperty(wa,"passive",{get:function(){wf=!0}}),window.addEventListener("test",wa,wa),window.removeEventListener("test",wa,wa)}catch{wf=!1}var Ni=null,Cf=null,wl=null;function yy(){if(wl)return wl;var n,s=Cf,a=s.length,l,f="value"in Ni?Ni.value:Ni.textContent,p=f.length;for(n=0;n<a&&s[n]===f[n];n++);var b=a-n;for(l=1;l<=b&&s[a-l]===f[p-l];l++);return wl=f.slice(n,1<l?1-l:void 0)}function Cl(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function El(){return!0}function vy(){return!1}function Xt(n){function s(a,l,f,p,b){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(a=n[S],this[S]=a?a(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?El:vy,this.isPropagationStopped=vy,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=El)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=El)},persist:function(){},isPersistent:El}),s}var ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Al=Xt(ps),Ca=y({},ps,{view:0,detail:0}),nA=Xt(Ca),Ef,Af,Ea,Rl=y({},Ca,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nf,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ea&&(Ea&&n.type==="mousemove"?(Ef=n.screenX-Ea.screenX,Af=n.screenY-Ea.screenY):Af=Ef=0,Ea=n),Ef)},movementY:function(n){return"movementY"in n?n.movementY:Af}}),by=Xt(Rl),iA=y({},Rl,{dataTransfer:0}),sA=Xt(iA),rA=y({},Ca,{relatedTarget:0}),Rf=Xt(rA),aA=y({},ps,{animationName:0,elapsedTime:0,pseudoElement:0}),oA=Xt(aA),lA=y({},ps,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),uA=Xt(lA),cA=y({},ps,{data:0}),_y=Xt(cA),fA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mA(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=dA[n])?!!s[n]:!1}function Nf(){return mA}var pA=y({},Ca,{key:function(n){if(n.key){var s=fA[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Cl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?hA[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nf,charCode:function(n){return n.type==="keypress"?Cl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Cl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),gA=Xt(pA),yA=y({},Rl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xy=Xt(yA),vA=y({},Ca,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nf}),bA=Xt(vA),_A=y({},ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),xA=Xt(_A),SA=y({},Rl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),TA=Xt(SA),wA=y({},ps,{newState:0,oldState:0}),CA=Xt(wA),EA=[9,13,27,32],Mf=ti&&"CompositionEvent"in window,Aa=null;ti&&"documentMode"in document&&(Aa=document.documentMode);var AA=ti&&"TextEvent"in window&&!Aa,Sy=ti&&(!Mf||Aa&&8<Aa&&11>=Aa),Ty=" ",wy=!1;function Cy(n,s){switch(n){case"keyup":return EA.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ey(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var or=!1;function RA(n,s){switch(n){case"compositionend":return Ey(s);case"keypress":return s.which!==32?null:(wy=!0,Ty);case"textInput":return n=s.data,n===Ty&&wy?null:n;default:return null}}function NA(n,s){if(or)return n==="compositionend"||!Mf&&Cy(n,s)?(n=yy(),wl=Cf=Ni=null,or=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Sy&&s.locale!=="ko"?null:s.data;default:return null}}var MA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ay(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!MA[n.type]:s==="textarea"}function Ry(n,s,a,l){rr?ar?ar.push(l):ar=[l]:rr=l,s=yu(s,"onChange"),0<s.length&&(a=new Al("onChange","change",null,a,l),n.push({event:a,listeners:s}))}var Ra=null,Na=null;function DA(n){cb(n,0)}function Nl(n){var s=Sa(n);if(uy(s))return n}function Ny(n,s){if(n==="change")return s}var My=!1;if(ti){var Df;if(ti){var kf="oninput"in document;if(!kf){var Dy=document.createElement("div");Dy.setAttribute("oninput","return;"),kf=typeof Dy.oninput=="function"}Df=kf}else Df=!1;My=Df&&(!document.documentMode||9<document.documentMode)}function ky(){Ra&&(Ra.detachEvent("onpropertychange",Oy),Na=Ra=null)}function Oy(n){if(n.propertyName==="value"&&Nl(Na)){var s=[];Ry(s,Na,n,Sf(n)),gy(DA,s)}}function kA(n,s,a){n==="focusin"?(ky(),Ra=s,Na=a,Ra.attachEvent("onpropertychange",Oy)):n==="focusout"&&ky()}function OA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Nl(Na)}function LA(n,s){if(n==="click")return Nl(s)}function jA(n,s){if(n==="input"||n==="change")return Nl(s)}function PA(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var on=typeof Object.is=="function"?Object.is:PA;function Ma(n,s){if(on(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!hs.call(s,f)||!on(n[f],s[f]))return!1}return!0}function Ly(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function jy(n,s){var a=Ly(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=s&&l>=s)return{node:a,offset:s-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ly(a)}}function Py(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Py(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Iy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Sl(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Sl(n.document)}return s}function Of(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var IA=ti&&"documentMode"in document&&11>=document.documentMode,lr=null,Lf=null,Da=null,jf=!1;function Vy(n,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;jf||lr==null||lr!==Sl(l)||(l=lr,"selectionStart"in l&&Of(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Da&&Ma(Da,l)||(Da=l,l=yu(Lf,"onSelect"),0<l.length&&(s=new Al("onSelect","select",null,s,a),n.push({event:s,listeners:l}),s.target=lr)))}function gs(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var ur={animationend:gs("Animation","AnimationEnd"),animationiteration:gs("Animation","AnimationIteration"),animationstart:gs("Animation","AnimationStart"),transitionrun:gs("Transition","TransitionRun"),transitionstart:gs("Transition","TransitionStart"),transitioncancel:gs("Transition","TransitionCancel"),transitionend:gs("Transition","TransitionEnd")},Pf={},zy={};ti&&(zy=document.createElement("div").style,"AnimationEvent"in window||(delete ur.animationend.animation,delete ur.animationiteration.animation,delete ur.animationstart.animation),"TransitionEvent"in window||delete ur.transitionend.transition);function ys(n){if(Pf[n])return Pf[n];if(!ur[n])return n;var s=ur[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in zy)return Pf[n]=s[a];return n}var By=ys("animationend"),Uy=ys("animationiteration"),Hy=ys("animationstart"),VA=ys("transitionrun"),zA=ys("transitionstart"),BA=ys("transitioncancel"),Fy=ys("transitionend"),Gy=new Map,If="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");If.push("scrollEnd");function Mn(n,s){Gy.set(n,s),ms(s,[n])}var Ml=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},gn=[],cr=0,Vf=0;function Dl(){for(var n=cr,s=Vf=cr=0;s<n;){var a=gn[s];gn[s++]=null;var l=gn[s];gn[s++]=null;var f=gn[s];gn[s++]=null;var p=gn[s];if(gn[s++]=null,l!==null&&f!==null){var b=l.pending;b===null?f.next=f:(f.next=b.next,b.next=f),l.pending=f}p!==0&&qy(a,f,p)}}function kl(n,s,a,l){gn[cr++]=n,gn[cr++]=s,gn[cr++]=a,gn[cr++]=l,Vf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function zf(n,s,a,l){return kl(n,s,a,l),Ol(n)}function vs(n,s){return kl(n,null,null,s),Ol(n)}function qy(n,s,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,p=n.return;p!==null;)p.childLanes|=a,l=p.alternate,l!==null&&(l.childLanes|=a),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(f=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,f&&s!==null&&(f=31-an(a),n=p.hiddenUpdates,l=n[f],l===null?n[f]=[s]:l.push(s),s.lane=a|536870912),p):null}function Ol(n){if(50<Ja)throw Ja=0,Kh=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var fr={};function UA(n,s,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(n,s,a,l){return new UA(n,s,a,l)}function Bf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ni(n,s){var a=n.alternate;return a===null?(a=ln(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Yy(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Ll(n,s,a,l,f,p){var b=0;if(l=n,typeof n=="function")Bf(n)&&(b=1);else if(typeof n=="string")b=YR(n,a,J.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case ee:return n=ln(31,a,s,f),n.elementType=ee,n.lanes=p,n;case C:return bs(a.children,f,p,s);case E:b=8,f|=24;break;case A:return n=ln(12,a,s,f|2),n.elementType=A,n.lanes=p,n;case B:return n=ln(13,a,s,f),n.elementType=B,n.lanes=p,n;case ne:return n=ln(19,a,s,f),n.elementType=ne,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case D:b=10;break e;case N:b=9;break e;case L:b=11;break e;case K:b=14;break e;case z:b=16,l=null;break e}b=29,a=Error(r(130,n===null?"null":typeof n,"")),l=null}return s=ln(b,a,s,f),s.elementType=n,s.type=l,s.lanes=p,s}function bs(n,s,a,l){return n=ln(7,n,l,s),n.lanes=a,n}function Uf(n,s,a){return n=ln(6,n,null,s),n.lanes=a,n}function Qy(n){var s=ln(18,null,null,0);return s.stateNode=n,s}function Hf(n,s,a){return s=ln(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Ky=new WeakMap;function yn(n,s){if(typeof n=="object"&&n!==null){var a=Ky.get(n);return a!==void 0?a:(s={value:n,source:s,stack:$s(s)},Ky.set(n,s),s)}return{value:n,source:s,stack:$s(s)}}var hr=[],dr=0,jl=null,ka=0,vn=[],bn=0,Mi=null,Hn=1,Fn="";function ii(n,s){hr[dr++]=ka,hr[dr++]=jl,jl=n,ka=s}function Xy(n,s,a){vn[bn++]=Hn,vn[bn++]=Fn,vn[bn++]=Mi,Mi=n;var l=Hn;n=Fn;var f=32-an(l)-1;l&=~(1<<f),a+=1;var p=32-an(s)+f;if(30<p){var b=f-f%5;p=(l&(1<<b)-1).toString(32),l>>=b,f-=b,Hn=1<<32-an(s)+f|a<<f|l,Fn=p+n}else Hn=1<<p|a<<f|l,Fn=n}function Ff(n){n.return!==null&&(ii(n,1),Xy(n,1,0))}function Gf(n){for(;n===jl;)jl=hr[--dr],hr[dr]=null,ka=hr[--dr],hr[dr]=null;for(;n===Mi;)Mi=vn[--bn],vn[bn]=null,Fn=vn[--bn],vn[bn]=null,Hn=vn[--bn],vn[bn]=null}function Wy(n,s){vn[bn++]=Hn,vn[bn++]=Fn,vn[bn++]=Mi,Hn=s.id,Fn=s.overflow,Mi=n}var Ot=null,nt=null,Pe=!1,Di=null,_n=!1,qf=Error(r(519));function ki(n){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Oa(yn(s,n)),qf}function $y(n){var s=n.stateNode,a=n.type,l=n.memoizedProps;switch(s[kt]=n,s[Kt]=l,a){case"dialog":De("cancel",s),De("close",s);break;case"iframe":case"object":case"embed":De("load",s);break;case"video":case"audio":for(a=0;a<to.length;a++)De(to[a],s);break;case"source":De("error",s);break;case"img":case"image":case"link":De("error",s),De("load",s);break;case"details":De("toggle",s);break;case"input":De("invalid",s),cy(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":De("invalid",s);break;case"textarea":De("invalid",s),hy(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||mb(s.textContent,a)?(l.popover!=null&&(De("beforetoggle",s),De("toggle",s)),l.onScroll!=null&&De("scroll",s),l.onScrollEnd!=null&&De("scrollend",s),l.onClick!=null&&(s.onclick=ei),s=!0):s=!1,s||ki(n,!0)}function Zy(n){for(Ot=n.return;Ot;)switch(Ot.tag){case 5:case 31:case 13:_n=!1;return;case 27:case 3:_n=!0;return;default:Ot=Ot.return}}function mr(n){if(n!==Ot)return!1;if(!Pe)return Zy(n),Pe=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||ud(n.type,n.memoizedProps)),a=!a),a&&nt&&ki(n),Zy(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));nt=Tb(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));nt=Tb(n)}else s===27?(s=nt,Yi(n.type)?(n=md,md=null,nt=n):nt=s):nt=Ot?Sn(n.stateNode.nextSibling):null;return!0}function _s(){nt=Ot=null,Pe=!1}function Yf(){var n=Di;return n!==null&&(Jt===null?Jt=n:Jt.push.apply(Jt,n),Di=null),n}function Oa(n){Di===null?Di=[n]:Di.push(n)}var Qf=M(null),xs=null,si=null;function Oi(n,s,a){W(Qf,s._currentValue),s._currentValue=a}function ri(n){n._currentValue=Qf.current,G(Qf)}function Kf(n,s,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),n===a)break;n=n.return}}function Xf(n,s,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var p=f.dependencies;if(p!==null){var b=f.child;p=p.firstContext;e:for(;p!==null;){var S=p;p=f;for(var R=0;R<s.length;R++)if(S.context===s[R]){p.lanes|=a,S=p.alternate,S!==null&&(S.lanes|=a),Kf(p.return,a,n),l||(b=null);break e}p=S.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(r(341));b.lanes|=a,p=b.alternate,p!==null&&(p.lanes|=a),Kf(b,a,n),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===n){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function pr(n,s,a,l){n=null;for(var f=s,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var S=f.type;on(f.pendingProps.value,b.value)||(n!==null?n.push(S):n=[S])}}else if(f===de.current){if(b=f.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(ao):n=[ao])}f=f.return}n!==null&&Xf(s,n,a,l),s.flags|=262144}function Pl(n){for(n=n.firstContext;n!==null;){if(!on(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ss(n){xs=n,si=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Lt(n){return Jy(xs,n)}function Il(n,s){return xs===null&&Ss(n),Jy(n,s)}function Jy(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},si===null){if(n===null)throw Error(r(308));si=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else si=si.next=s;return a}var HA=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},FA=t.unstable_scheduleCallback,GA=t.unstable_NormalPriority,gt={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wf(){return{controller:new HA,data:new Map,refCount:0}}function La(n){n.refCount--,n.refCount===0&&FA(GA,function(){n.controller.abort()})}var ja=null,$f=0,gr=0,yr=null;function qA(n,s){if(ja===null){var a=ja=[];$f=0,gr=ed(),yr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return $f++,s.then(ev,ev),s}function ev(){if(--$f===0&&ja!==null){yr!==null&&(yr.status="fulfilled");var n=ja;ja=null,gr=0,yr=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function YA(n,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var tv=j.S;j.S=function(n,s){V0=sn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&qA(n,s),tv!==null&&tv(n,s)};var Ts=M(null);function Zf(){var n=Ts.current;return n!==null?n:Xe.pooledCache}function Vl(n,s){s===null?W(Ts,Ts.current):W(Ts,s.pool)}function nv(){var n=Zf();return n===null?null:{parent:gt._currentValue,pool:n}}var vr=Error(r(460)),Jf=Error(r(474)),zl=Error(r(542)),Bl={then:function(){}};function iv(n){return n=n.status,n==="fulfilled"||n==="rejected"}function sv(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(ei,ei),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,av(n),n;default:if(typeof s.status=="string")s.then(ei,ei);else{if(n=Xe,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,av(n),n}throw Cs=s,vr}}function ws(n){try{var s=n._init;return s(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Cs=a,vr):a}}var Cs=null;function rv(){if(Cs===null)throw Error(r(459));var n=Cs;return Cs=null,n}function av(n){if(n===vr||n===zl)throw Error(r(483))}var br=null,Pa=0;function Ul(n){var s=Pa;return Pa+=1,br===null&&(br=[]),sv(br,n,s)}function Ia(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Hl(n,s){throw s.$$typeof===v?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function ov(n){function s(O,k){if(n){var P=O.deletions;P===null?(O.deletions=[k],O.flags|=16):P.push(k)}}function a(O,k){if(!n)return null;for(;k!==null;)s(O,k),k=k.sibling;return null}function l(O){for(var k=new Map;O!==null;)O.key!==null?k.set(O.key,O):k.set(O.index,O),O=O.sibling;return k}function f(O,k){return O=ni(O,k),O.index=0,O.sibling=null,O}function p(O,k,P){return O.index=P,n?(P=O.alternate,P!==null?(P=P.index,P<k?(O.flags|=67108866,k):P):(O.flags|=67108866,k)):(O.flags|=1048576,k)}function b(O){return n&&O.alternate===null&&(O.flags|=67108866),O}function S(O,k,P,q){return k===null||k.tag!==6?(k=Uf(P,O.mode,q),k.return=O,k):(k=f(k,P),k.return=O,k)}function R(O,k,P,q){var pe=P.type;return pe===C?F(O,k,P.props.children,q,P.key):k!==null&&(k.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===z&&ws(pe)===k.type)?(k=f(k,P.props),Ia(k,P),k.return=O,k):(k=Ll(P.type,P.key,P.props,null,O.mode,q),Ia(k,P),k.return=O,k)}function I(O,k,P,q){return k===null||k.tag!==4||k.stateNode.containerInfo!==P.containerInfo||k.stateNode.implementation!==P.implementation?(k=Hf(P,O.mode,q),k.return=O,k):(k=f(k,P.children||[]),k.return=O,k)}function F(O,k,P,q,pe){return k===null||k.tag!==7?(k=bs(P,O.mode,q,pe),k.return=O,k):(k=f(k,P),k.return=O,k)}function Q(O,k,P){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Uf(""+k,O.mode,P),k.return=O,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case x:return P=Ll(k.type,k.key,k.props,null,O.mode,P),Ia(P,k),P.return=O,P;case w:return k=Hf(k,O.mode,P),k.return=O,k;case z:return k=ws(k),Q(O,k,P)}if(X(k)||ve(k))return k=bs(k,O.mode,P,null),k.return=O,k;if(typeof k.then=="function")return Q(O,Ul(k),P);if(k.$$typeof===D)return Q(O,Il(O,k),P);Hl(O,k)}return null}function V(O,k,P,q){var pe=k!==null?k.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return pe!==null?null:S(O,k,""+P,q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case x:return P.key===pe?R(O,k,P,q):null;case w:return P.key===pe?I(O,k,P,q):null;case z:return P=ws(P),V(O,k,P,q)}if(X(P)||ve(P))return pe!==null?null:F(O,k,P,q,null);if(typeof P.then=="function")return V(O,k,Ul(P),q);if(P.$$typeof===D)return V(O,k,Il(O,P),q);Hl(O,P)}return null}function U(O,k,P,q,pe){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return O=O.get(P)||null,S(k,O,""+q,pe);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case x:return O=O.get(q.key===null?P:q.key)||null,R(k,O,q,pe);case w:return O=O.get(q.key===null?P:q.key)||null,I(k,O,q,pe);case z:return q=ws(q),U(O,k,P,q,pe)}if(X(q)||ve(q))return O=O.get(P)||null,F(k,O,q,pe,null);if(typeof q.then=="function")return U(O,k,P,Ul(q),pe);if(q.$$typeof===D)return U(O,k,P,Il(k,q),pe);Hl(k,q)}return null}function re(O,k,P,q){for(var pe=null,ze=null,he=k,Ce=k=0,je=null;he!==null&&Ce<P.length;Ce++){he.index>Ce?(je=he,he=null):je=he.sibling;var Be=V(O,he,P[Ce],q);if(Be===null){he===null&&(he=je);break}n&&he&&Be.alternate===null&&s(O,he),k=p(Be,k,Ce),ze===null?pe=Be:ze.sibling=Be,ze=Be,he=je}if(Ce===P.length)return a(O,he),Pe&&ii(O,Ce),pe;if(he===null){for(;Ce<P.length;Ce++)he=Q(O,P[Ce],q),he!==null&&(k=p(he,k,Ce),ze===null?pe=he:ze.sibling=he,ze=he);return Pe&&ii(O,Ce),pe}for(he=l(he);Ce<P.length;Ce++)je=U(he,O,Ce,P[Ce],q),je!==null&&(n&&je.alternate!==null&&he.delete(je.key===null?Ce:je.key),k=p(je,k,Ce),ze===null?pe=je:ze.sibling=je,ze=je);return n&&he.forEach(function($i){return s(O,$i)}),Pe&&ii(O,Ce),pe}function be(O,k,P,q){if(P==null)throw Error(r(151));for(var pe=null,ze=null,he=k,Ce=k=0,je=null,Be=P.next();he!==null&&!Be.done;Ce++,Be=P.next()){he.index>Ce?(je=he,he=null):je=he.sibling;var $i=V(O,he,Be.value,q);if($i===null){he===null&&(he=je);break}n&&he&&$i.alternate===null&&s(O,he),k=p($i,k,Ce),ze===null?pe=$i:ze.sibling=$i,ze=$i,he=je}if(Be.done)return a(O,he),Pe&&ii(O,Ce),pe;if(he===null){for(;!Be.done;Ce++,Be=P.next())Be=Q(O,Be.value,q),Be!==null&&(k=p(Be,k,Ce),ze===null?pe=Be:ze.sibling=Be,ze=Be);return Pe&&ii(O,Ce),pe}for(he=l(he);!Be.done;Ce++,Be=P.next())Be=U(he,O,Ce,Be.value,q),Be!==null&&(n&&Be.alternate!==null&&he.delete(Be.key===null?Ce:Be.key),k=p(Be,k,Ce),ze===null?pe=Be:ze.sibling=Be,ze=Be);return n&&he.forEach(function(iN){return s(O,iN)}),Pe&&ii(O,Ce),pe}function Qe(O,k,P,q){if(typeof P=="object"&&P!==null&&P.type===C&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case x:e:{for(var pe=P.key;k!==null;){if(k.key===pe){if(pe=P.type,pe===C){if(k.tag===7){a(O,k.sibling),q=f(k,P.props.children),q.return=O,O=q;break e}}else if(k.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===z&&ws(pe)===k.type){a(O,k.sibling),q=f(k,P.props),Ia(q,P),q.return=O,O=q;break e}a(O,k);break}else s(O,k);k=k.sibling}P.type===C?(q=bs(P.props.children,O.mode,q,P.key),q.return=O,O=q):(q=Ll(P.type,P.key,P.props,null,O.mode,q),Ia(q,P),q.return=O,O=q)}return b(O);case w:e:{for(pe=P.key;k!==null;){if(k.key===pe)if(k.tag===4&&k.stateNode.containerInfo===P.containerInfo&&k.stateNode.implementation===P.implementation){a(O,k.sibling),q=f(k,P.children||[]),q.return=O,O=q;break e}else{a(O,k);break}else s(O,k);k=k.sibling}q=Hf(P,O.mode,q),q.return=O,O=q}return b(O);case z:return P=ws(P),Qe(O,k,P,q)}if(X(P))return re(O,k,P,q);if(ve(P)){if(pe=ve(P),typeof pe!="function")throw Error(r(150));return P=pe.call(P),be(O,k,P,q)}if(typeof P.then=="function")return Qe(O,k,Ul(P),q);if(P.$$typeof===D)return Qe(O,k,Il(O,P),q);Hl(O,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,k!==null&&k.tag===6?(a(O,k.sibling),q=f(k,P),q.return=O,O=q):(a(O,k),q=Uf(P,O.mode,q),q.return=O,O=q),b(O)):a(O,k)}return function(O,k,P,q){try{Pa=0;var pe=Qe(O,k,P,q);return br=null,pe}catch(he){if(he===vr||he===zl)throw he;var ze=ln(29,he,null,O.mode);return ze.lanes=q,ze.return=O,ze}}}var Es=ov(!0),lv=ov(!1),Li=!1;function eh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function th(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ji(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Pi(n,s,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=Ol(n),qy(n,null,a),s}return kl(n,l,s,a),Ol(n)}function Va(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,Jg(n,a)}}function nh(n,s){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?f=p=b:p=p.next=b,a=a.next}while(a!==null);p===null?f=p=s:p=p.next=s}else f=p=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var ih=!1;function za(){if(ih){var n=yr;if(n!==null)throw n}}function Ba(n,s,a,l){ih=!1;var f=n.updateQueue;Li=!1;var p=f.firstBaseUpdate,b=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var R=S,I=R.next;R.next=null,b===null?p=I:b.next=I,b=R;var F=n.alternate;F!==null&&(F=F.updateQueue,S=F.lastBaseUpdate,S!==b&&(S===null?F.firstBaseUpdate=I:S.next=I,F.lastBaseUpdate=R))}if(p!==null){var Q=f.baseState;b=0,F=I=R=null,S=p;do{var V=S.lane&-536870913,U=V!==S.lane;if(U?(Le&V)===V:(l&V)===V){V!==0&&V===gr&&(ih=!0),F!==null&&(F=F.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var re=n,be=S;V=s;var Qe=a;switch(be.tag){case 1:if(re=be.payload,typeof re=="function"){Q=re.call(Qe,Q,V);break e}Q=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=be.payload,V=typeof re=="function"?re.call(Qe,Q,V):re,V==null)break e;Q=y({},Q,V);break e;case 2:Li=!0}}V=S.callback,V!==null&&(n.flags|=64,U&&(n.flags|=8192),U=f.callbacks,U===null?f.callbacks=[V]:U.push(V))}else U={lane:V,tag:S.tag,payload:S.payload,callback:S.callback,next:null},F===null?(I=F=U,R=Q):F=F.next=U,b|=V;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;U=S,S=U.next,U.next=null,f.lastBaseUpdate=U,f.shared.pending=null}}while(!0);F===null&&(R=Q),f.baseState=R,f.firstBaseUpdate=I,f.lastBaseUpdate=F,p===null&&(f.shared.lanes=0),Ui|=b,n.lanes=b,n.memoizedState=Q}}function uv(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function cv(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)uv(a[n],s)}var _r=M(null),Fl=M(0);function fv(n,s){n=mi,W(Fl,n),W(_r,s),mi=n|s.baseLanes}function sh(){W(Fl,mi),W(_r,_r.current)}function rh(){mi=Fl.current,G(_r),G(Fl)}var un=M(null),xn=null;function Ii(n){var s=n.alternate;W(mt,mt.current&1),W(un,n),xn===null&&(s===null||_r.current!==null||s.memoizedState!==null)&&(xn=n)}function ah(n){W(mt,mt.current),W(un,n),xn===null&&(xn=n)}function hv(n){n.tag===22?(W(mt,mt.current),W(un,n),xn===null&&(xn=n)):Vi()}function Vi(){W(mt,mt.current),W(un,un.current)}function cn(n){G(un),xn===n&&(xn=null),G(mt)}var mt=M(0);function Gl(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||hd(a)||dd(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ai=0,we=null,qe=null,yt=null,ql=!1,xr=!1,As=!1,Yl=0,Ua=0,Sr=null,QA=0;function ut(){throw Error(r(321))}function oh(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!on(n[a],s[a]))return!1;return!0}function lh(n,s,a,l,f,p){return ai=p,we=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,j.H=n===null||n.memoizedState===null?Xv:Th,As=!1,p=a(l,f),As=!1,xr&&(p=mv(s,a,l,f)),dv(n),p}function dv(n){j.H=Ga;var s=qe!==null&&qe.next!==null;if(ai=0,yt=qe=we=null,ql=!1,Ua=0,Sr=null,s)throw Error(r(300));n===null||vt||(n=n.dependencies,n!==null&&Pl(n)&&(vt=!0))}function mv(n,s,a,l){we=n;var f=0;do{if(xr&&(Sr=null),Ua=0,xr=!1,25<=f)throw Error(r(301));if(f+=1,yt=qe=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}j.H=Wv,p=s(a,l)}while(xr);return p}function KA(){var n=j.H,s=n.useState()[0];return s=typeof s.then=="function"?Ha(s):s,n=n.useState()[0],(qe!==null?qe.memoizedState:null)!==n&&(we.flags|=1024),s}function uh(){var n=Yl!==0;return Yl=0,n}function ch(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function fh(n){if(ql){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ql=!1}ai=0,yt=qe=we=null,xr=!1,Ua=Yl=0,Sr=null}function Ft(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?we.memoizedState=yt=n:yt=yt.next=n,yt}function pt(){if(qe===null){var n=we.alternate;n=n!==null?n.memoizedState:null}else n=qe.next;var s=yt===null?we.memoizedState:yt.next;if(s!==null)yt=s,qe=n;else{if(n===null)throw we.alternate===null?Error(r(467)):Error(r(310));qe=n,n={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},yt===null?we.memoizedState=yt=n:yt=yt.next=n}return yt}function Ql(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ha(n){var s=Ua;return Ua+=1,Sr===null&&(Sr=[]),n=sv(Sr,n,s),s=we,(yt===null?s.memoizedState:yt.next)===null&&(s=s.alternate,j.H=s===null||s.memoizedState===null?Xv:Th),n}function Kl(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ha(n);if(n.$$typeof===D)return Lt(n)}throw Error(r(438,String(n)))}function hh(n){var s=null,a=we.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=we.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Ql(),we.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),l=0;l<n;l++)a[l]=se;return s.index++,a}function oi(n,s){return typeof s=="function"?s(n):s}function Xl(n){var s=pt();return dh(s,qe,n)}function dh(n,s,a){var l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=n.baseQueue,p=l.pending;if(p!==null){if(f!==null){var b=f.next;f.next=p.next,p.next=b}s.baseQueue=f=p,l.pending=null}if(p=n.baseState,f===null)n.memoizedState=p;else{s=f.next;var S=b=null,R=null,I=s,F=!1;do{var Q=I.lane&-536870913;if(Q!==I.lane?(Le&Q)===Q:(ai&Q)===Q){var V=I.revertLane;if(V===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),Q===gr&&(F=!0);else if((ai&V)===V){I=I.next,V===gr&&(F=!0);continue}else Q={lane:0,revertLane:I.revertLane,gesture:null,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},R===null?(S=R=Q,b=p):R=R.next=Q,we.lanes|=V,Ui|=V;Q=I.action,As&&a(p,Q),p=I.hasEagerState?I.eagerState:a(p,Q)}else V={lane:Q,revertLane:I.revertLane,gesture:I.gesture,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},R===null?(S=R=V,b=p):R=R.next=V,we.lanes|=Q,Ui|=Q;I=I.next}while(I!==null&&I!==s);if(R===null?b=p:R.next=S,!on(p,n.memoizedState)&&(vt=!0,F&&(a=yr,a!==null)))throw a;n.memoizedState=p,n.baseState=b,n.baseQueue=R,l.lastRenderedState=p}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function mh(n){var s=pt(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,p=s.memoizedState;if(f!==null){a.pending=null;var b=f=f.next;do p=n(p,b.action),b=b.next;while(b!==f);on(p,s.memoizedState)||(vt=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),a.lastRenderedState=p}return[p,l]}function pv(n,s,a){var l=we,f=pt(),p=Pe;if(p){if(a===void 0)throw Error(r(407));a=a()}else a=s();var b=!on((qe||f).memoizedState,a);if(b&&(f.memoizedState=a,vt=!0),f=f.queue,yh(vv.bind(null,l,f,n),[n]),f.getSnapshot!==s||b||yt!==null&&yt.memoizedState.tag&1){if(l.flags|=2048,Tr(9,{destroy:void 0},yv.bind(null,l,f,a,s),null),Xe===null)throw Error(r(349));p||(ai&127)!==0||gv(l,s,a)}return a}function gv(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=we.updateQueue,s===null?(s=Ql(),we.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function yv(n,s,a,l){s.value=a,s.getSnapshot=l,bv(s)&&_v(n)}function vv(n,s,a){return a(function(){bv(s)&&_v(n)})}function bv(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!on(n,a)}catch{return!0}}function _v(n){var s=vs(n,2);s!==null&&en(s,n,2)}function ph(n){var s=Ft();if(typeof n=="function"){var a=n;if(n=a(),As){Ai(!0);try{a()}finally{Ai(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:n},s}function xv(n,s,a,l){return n.baseState=a,dh(n,qe,typeof l=="function"?l:oi)}function XA(n,s,a,l,f){if(Zl(n))throw Error(r(485));if(n=s.action,n!==null){var p={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};j.T!==null?a(!0):p.isTransition=!1,l(p),a=s.pending,a===null?(p.next=s.pending=p,Sv(s,p)):(p.next=a.next,s.pending=a.next=p)}}function Sv(n,s){var a=s.action,l=s.payload,f=n.state;if(s.isTransition){var p=j.T,b={};j.T=b;try{var S=a(f,l),R=j.S;R!==null&&R(b,S),Tv(n,s,S)}catch(I){gh(n,s,I)}finally{p!==null&&b.types!==null&&(p.types=b.types),j.T=p}}else try{p=a(f,l),Tv(n,s,p)}catch(I){gh(n,s,I)}}function Tv(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){wv(n,s,l)},function(l){return gh(n,s,l)}):wv(n,s,a)}function wv(n,s,a){s.status="fulfilled",s.value=a,Cv(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,Sv(n,a)))}function gh(n,s,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,Cv(s),s=s.next;while(s!==l)}n.action=null}function Cv(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function Ev(n,s){return s}function Av(n,s){if(Pe){var a=Xe.formState;if(a!==null){e:{var l=we;if(Pe){if(nt){t:{for(var f=nt,p=_n;f.nodeType!==8;){if(!p){f=null;break t}if(f=Sn(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){nt=Sn(f.nextSibling),l=f.data==="F!";break e}}ki(l)}l=!1}l&&(s=a[0])}}return a=Ft(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ev,lastRenderedState:s},a.queue=l,a=Yv.bind(null,we,l),l.dispatch=a,l=ph(!1),p=Sh.bind(null,we,!1,l.queue),l=Ft(),f={state:s,dispatch:null,action:n,pending:null},l.queue=f,a=XA.bind(null,we,f,p,a),f.dispatch=a,l.memoizedState=n,[s,a,!1]}function Rv(n){var s=pt();return Nv(s,qe,n)}function Nv(n,s,a){if(s=dh(n,s,Ev)[0],n=Xl(oi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Ha(s)}catch(b){throw b===vr?zl:b}else l=s;s=pt();var f=s.queue,p=f.dispatch;return a!==s.memoizedState&&(we.flags|=2048,Tr(9,{destroy:void 0},WA.bind(null,f,a),null)),[l,p,n]}function WA(n,s){n.action=s}function Mv(n){var s=pt(),a=qe;if(a!==null)return Nv(s,a,n);pt(),s=s.memoizedState,a=pt();var l=a.queue.dispatch;return a.memoizedState=n,[s,l,!1]}function Tr(n,s,a,l){return n={tag:n,create:a,deps:l,inst:s,next:null},s=we.updateQueue,s===null&&(s=Ql(),we.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,s.lastEffect=n),n}function Dv(){return pt().memoizedState}function Wl(n,s,a,l){var f=Ft();we.flags|=n,f.memoizedState=Tr(1|s,{destroy:void 0},a,l===void 0?null:l)}function $l(n,s,a,l){var f=pt();l=l===void 0?null:l;var p=f.memoizedState.inst;qe!==null&&l!==null&&oh(l,qe.memoizedState.deps)?f.memoizedState=Tr(s,p,a,l):(we.flags|=n,f.memoizedState=Tr(1|s,p,a,l))}function kv(n,s){Wl(8390656,8,n,s)}function yh(n,s){$l(2048,8,n,s)}function $A(n){we.flags|=4;var s=we.updateQueue;if(s===null)s=Ql(),we.updateQueue=s,s.events=[n];else{var a=s.events;a===null?s.events=[n]:a.push(n)}}function Ov(n){var s=pt().memoizedState;return $A({ref:s,nextImpl:n}),function(){if((He&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Lv(n,s){return $l(4,2,n,s)}function jv(n,s){return $l(4,4,n,s)}function Pv(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Iv(n,s,a){a=a!=null?a.concat([n]):null,$l(4,4,Pv.bind(null,s,n),a)}function vh(){}function Vv(n,s){var a=pt();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&oh(s,l[1])?l[0]:(a.memoizedState=[n,s],n)}function zv(n,s){var a=pt();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&oh(s,l[1]))return l[0];if(l=n(),As){Ai(!0);try{n()}finally{Ai(!1)}}return a.memoizedState=[l,s],l}function bh(n,s,a){return a===void 0||(ai&1073741824)!==0&&(Le&261930)===0?n.memoizedState=s:(n.memoizedState=a,n=B0(),we.lanes|=n,Ui|=n,a)}function Bv(n,s,a,l){return on(a,s)?a:_r.current!==null?(n=bh(n,a,l),on(n,s)||(vt=!0),n):(ai&42)===0||(ai&1073741824)!==0&&(Le&261930)===0?(vt=!0,n.memoizedState=a):(n=B0(),we.lanes|=n,Ui|=n,s)}function Uv(n,s,a,l,f){var p=Y.p;Y.p=p!==0&&8>p?p:8;var b=j.T,S={};j.T=S,Sh(n,!1,s,a);try{var R=f(),I=j.S;if(I!==null&&I(S,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=YA(R,l);Fa(n,s,F,dn(n))}else Fa(n,s,l,dn(n))}catch(Q){Fa(n,s,{then:function(){},status:"rejected",reason:Q},dn())}finally{Y.p=p,b!==null&&S.types!==null&&(b.types=S.types),j.T=b}}function ZA(){}function _h(n,s,a,l){if(n.tag!==5)throw Error(r(476));var f=Hv(n).queue;Uv(n,f,s,H,a===null?ZA:function(){return Fv(n),a(l)})}function Hv(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:H},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function Fv(n){var s=Hv(n);s.next===null&&(s=n.alternate.memoizedState),Fa(n,s.next.queue,{},dn())}function xh(){return Lt(ao)}function Gv(){return pt().memoizedState}function qv(){return pt().memoizedState}function JA(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=dn();n=ji(a);var l=Pi(s,n,a);l!==null&&(en(l,s,a),Va(l,s,a)),s={cache:Wf()},n.payload=s;return}s=s.return}}function eR(n,s,a){var l=dn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Zl(n)?Qv(s,a):(a=zf(n,s,a,l),a!==null&&(en(a,n,l),Kv(a,s,l)))}function Yv(n,s,a){var l=dn();Fa(n,s,a,l)}function Fa(n,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Zl(n))Qv(s,f);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var b=s.lastRenderedState,S=p(b,a);if(f.hasEagerState=!0,f.eagerState=S,on(S,b))return kl(n,s,f,0),Xe===null&&Dl(),!1}catch{}if(a=zf(n,s,f,l),a!==null)return en(a,n,l),Kv(a,s,l),!0}return!1}function Sh(n,s,a,l){if(l={lane:2,revertLane:ed(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Zl(n)){if(s)throw Error(r(479))}else s=zf(n,a,l,2),s!==null&&en(s,n,2)}function Zl(n){var s=n.alternate;return n===we||s!==null&&s===we}function Qv(n,s){xr=ql=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function Kv(n,s,a){if((a&4194048)!==0){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,Jg(n,a)}}var Ga={readContext:Lt,use:Kl,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useLayoutEffect:ut,useInsertionEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useSyncExternalStore:ut,useId:ut,useHostTransitionStatus:ut,useFormState:ut,useActionState:ut,useOptimistic:ut,useMemoCache:ut,useCacheRefresh:ut};Ga.useEffectEvent=ut;var Xv={readContext:Lt,use:Kl,useCallback:function(n,s){return Ft().memoizedState=[n,s===void 0?null:s],n},useContext:Lt,useEffect:kv,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,Wl(4194308,4,Pv.bind(null,s,n),a)},useLayoutEffect:function(n,s){return Wl(4194308,4,n,s)},useInsertionEffect:function(n,s){Wl(4,2,n,s)},useMemo:function(n,s){var a=Ft();s=s===void 0?null:s;var l=n();if(As){Ai(!0);try{n()}finally{Ai(!1)}}return a.memoizedState=[l,s],l},useReducer:function(n,s,a){var l=Ft();if(a!==void 0){var f=a(s);if(As){Ai(!0);try{a(s)}finally{Ai(!1)}}}else f=s;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=eR.bind(null,we,n),[l.memoizedState,n]},useRef:function(n){var s=Ft();return n={current:n},s.memoizedState=n},useState:function(n){n=ph(n);var s=n.queue,a=Yv.bind(null,we,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:vh,useDeferredValue:function(n,s){var a=Ft();return bh(a,n,s)},useTransition:function(){var n=ph(!1);return n=Uv.bind(null,we,n.queue,!0,!1),Ft().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var l=we,f=Ft();if(Pe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),Xe===null)throw Error(r(349));(Le&127)!==0||gv(l,s,a)}f.memoizedState=a;var p={value:a,getSnapshot:s};return f.queue=p,kv(vv.bind(null,l,p,n),[n]),l.flags|=2048,Tr(9,{destroy:void 0},yv.bind(null,l,p,a,s),null),a},useId:function(){var n=Ft(),s=Xe.identifierPrefix;if(Pe){var a=Fn,l=Hn;a=(l&~(1<<32-an(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Yl++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=QA++,s="_"+s+"r_"+a.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:xh,useFormState:Av,useActionState:Av,useOptimistic:function(n){var s=Ft();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Sh.bind(null,we,!0,a),a.dispatch=s,[n,s]},useMemoCache:hh,useCacheRefresh:function(){return Ft().memoizedState=JA.bind(null,we)},useEffectEvent:function(n){var s=Ft(),a={impl:n};return s.memoizedState=a,function(){if((He&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Th={readContext:Lt,use:Kl,useCallback:Vv,useContext:Lt,useEffect:yh,useImperativeHandle:Iv,useInsertionEffect:Lv,useLayoutEffect:jv,useMemo:zv,useReducer:Xl,useRef:Dv,useState:function(){return Xl(oi)},useDebugValue:vh,useDeferredValue:function(n,s){var a=pt();return Bv(a,qe.memoizedState,n,s)},useTransition:function(){var n=Xl(oi)[0],s=pt().memoizedState;return[typeof n=="boolean"?n:Ha(n),s]},useSyncExternalStore:pv,useId:Gv,useHostTransitionStatus:xh,useFormState:Rv,useActionState:Rv,useOptimistic:function(n,s){var a=pt();return xv(a,qe,n,s)},useMemoCache:hh,useCacheRefresh:qv};Th.useEffectEvent=Ov;var Wv={readContext:Lt,use:Kl,useCallback:Vv,useContext:Lt,useEffect:yh,useImperativeHandle:Iv,useInsertionEffect:Lv,useLayoutEffect:jv,useMemo:zv,useReducer:mh,useRef:Dv,useState:function(){return mh(oi)},useDebugValue:vh,useDeferredValue:function(n,s){var a=pt();return qe===null?bh(a,n,s):Bv(a,qe.memoizedState,n,s)},useTransition:function(){var n=mh(oi)[0],s=pt().memoizedState;return[typeof n=="boolean"?n:Ha(n),s]},useSyncExternalStore:pv,useId:Gv,useHostTransitionStatus:xh,useFormState:Mv,useActionState:Mv,useOptimistic:function(n,s){var a=pt();return qe!==null?xv(a,qe,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:hh,useCacheRefresh:qv};Wv.useEffectEvent=Ov;function wh(n,s,a,l){s=n.memoizedState,a=a(l,s),a=a==null?s:y({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Ch={enqueueSetState:function(n,s,a){n=n._reactInternals;var l=dn(),f=ji(l);f.payload=s,a!=null&&(f.callback=a),s=Pi(n,f,l),s!==null&&(en(s,n,l),Va(s,n,l))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var l=dn(),f=ji(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Pi(n,f,l),s!==null&&(en(s,n,l),Va(s,n,l))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=dn(),l=ji(a);l.tag=2,s!=null&&(l.callback=s),s=Pi(n,l,a),s!==null&&(en(s,n,a),Va(s,n,a))}};function $v(n,s,a,l,f,p,b){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,p,b):s.prototype&&s.prototype.isPureReactComponent?!Ma(a,l)||!Ma(f,p):!0}function Zv(n,s,a,l){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==n&&Ch.enqueueReplaceState(s,s.state,null)}function Rs(n,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(n=n.defaultProps){a===s&&(a=y({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}function Jv(n){Ml(n)}function e0(n){console.error(n)}function t0(n){Ml(n)}function Jl(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function n0(n,s,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Eh(n,s,a){return a=ji(a),a.tag=3,a.payload={element:null},a.callback=function(){Jl(n,s)},a}function i0(n){return n=ji(n),n.tag=3,n}function s0(n,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var p=l.value;n.payload=function(){return f(p)},n.callback=function(){n0(s,a,l)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(n.callback=function(){n0(s,a,l),typeof f!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function tR(n,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&pr(s,a,f,!0),a=un.current,a!==null){switch(a.tag){case 31:case 13:return xn===null?fu():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Bl?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),$h(n,l,f)),!1;case 22:return a.flags|=65536,l===Bl?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),$h(n,l,f)),!1}throw Error(r(435,a.tag))}return $h(n,l,f),fu(),!1}if(Pe)return s=un.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==qf&&(n=Error(r(422),{cause:l}),Oa(yn(n,a)))):(l!==qf&&(s=Error(r(423),{cause:l}),Oa(yn(s,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=yn(l,a),f=Eh(n.stateNode,l,f),nh(n,f),ct!==4&&(ct=2)),!1;var p=Error(r(520),{cause:l});if(p=yn(p,a),Za===null?Za=[p]:Za.push(p),ct!==4&&(ct=2),s===null)return!0;l=yn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Eh(a.stateNode,l,n),nh(a,n),!1;case 1:if(s=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Hi===null||!Hi.has(p))))return a.flags|=65536,f&=-f,a.lanes|=f,f=i0(f),s0(f,n,a,l),nh(a,f),!1}a=a.return}while(a!==null);return!1}var Ah=Error(r(461)),vt=!1;function jt(n,s,a,l){s.child=n===null?lv(s,null,a,l):Es(s,n.child,a,l)}function r0(n,s,a,l,f){a=a.render;var p=s.ref;if("ref"in l){var b={};for(var S in l)S!=="ref"&&(b[S]=l[S])}else b=l;return Ss(s),l=lh(n,s,a,b,p,f),S=uh(),n!==null&&!vt?(ch(n,s,f),li(n,s,f)):(Pe&&S&&Ff(s),s.flags|=1,jt(n,s,l,f),s.child)}function a0(n,s,a,l,f){if(n===null){var p=a.type;return typeof p=="function"&&!Bf(p)&&p.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=p,o0(n,s,p,l,f)):(n=Ll(a.type,null,l,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(p=n.child,!jh(n,f)){var b=p.memoizedProps;if(a=a.compare,a=a!==null?a:Ma,a(b,l)&&n.ref===s.ref)return li(n,s,f)}return s.flags|=1,n=ni(p,l),n.ref=s.ref,n.return=s,s.child=n}function o0(n,s,a,l,f){if(n!==null){var p=n.memoizedProps;if(Ma(p,l)&&n.ref===s.ref)if(vt=!1,s.pendingProps=l=p,jh(n,f))(n.flags&131072)!==0&&(vt=!0);else return s.lanes=n.lanes,li(n,s,f)}return Rh(n,s,a,l,f)}function l0(n,s,a,l){var f=l.children,p=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(p=p!==null?p.baseLanes|a:a,n!==null){for(l=s.child=n.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~p}else l=0,s.child=null;return u0(n,s,p,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Vl(s,p!==null?p.cachePool:null),p!==null?fv(s,p):sh(),hv(s);else return l=s.lanes=536870912,u0(n,s,p!==null?p.baseLanes|a:a,a,l)}else p!==null?(Vl(s,p.cachePool),fv(s,p),Vi(),s.memoizedState=null):(n!==null&&Vl(s,null),sh(),Vi());return jt(n,s,f,a),s.child}function qa(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function u0(n,s,a,l,f){var p=Zf();return p=p===null?null:{parent:gt._currentValue,pool:p},s.memoizedState={baseLanes:a,cachePool:p},n!==null&&Vl(s,null),sh(),hv(s),n!==null&&pr(n,s,l,!0),s.childLanes=f,null}function eu(n,s){return s=nu({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function c0(n,s,a){return Es(s,n.child,null,a),n=eu(s,s.pendingProps),n.flags|=2,cn(s),s.memoizedState=null,n}function nR(n,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(Pe){if(l.mode==="hidden")return n=eu(s,l),s.lanes=536870912,qa(null,n);if(ah(s),(n=nt)?(n=Sb(n,_n),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Mi!==null?{id:Hn,overflow:Fn}:null,retryLane:536870912,hydrationErrors:null},a=Qy(n),a.return=s,s.child=a,Ot=s,nt=null)):n=null,n===null)throw ki(s);return s.lanes=536870912,null}return eu(s,l)}var p=n.memoizedState;if(p!==null){var b=p.dehydrated;if(ah(s),f)if(s.flags&256)s.flags&=-257,s=c0(n,s,a);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(r(558));else if(vt||pr(n,s,a,!1),f=(a&n.childLanes)!==0,vt||f){if(l=Xe,l!==null&&(b=ey(l,a),b!==0&&b!==p.retryLane))throw p.retryLane=b,vs(n,b),en(l,n,b),Ah;fu(),s=c0(n,s,a)}else n=p.treeContext,nt=Sn(b.nextSibling),Ot=s,Pe=!0,Di=null,_n=!1,n!==null&&Wy(s,n),s=eu(s,l),s.flags|=4096;return s}return n=ni(n.child,{mode:l.mode,children:l.children}),n.ref=s.ref,s.child=n,n.return=s,n}function tu(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function Rh(n,s,a,l,f){return Ss(s),a=lh(n,s,a,l,void 0,f),l=uh(),n!==null&&!vt?(ch(n,s,f),li(n,s,f)):(Pe&&l&&Ff(s),s.flags|=1,jt(n,s,a,f),s.child)}function f0(n,s,a,l,f,p){return Ss(s),s.updateQueue=null,a=mv(s,l,a,f),dv(n),l=uh(),n!==null&&!vt?(ch(n,s,p),li(n,s,p)):(Pe&&l&&Ff(s),s.flags|=1,jt(n,s,a,p),s.child)}function h0(n,s,a,l,f){if(Ss(s),s.stateNode===null){var p=fr,b=a.contextType;typeof b=="object"&&b!==null&&(p=Lt(b)),p=new a(l,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Ch,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=l,p.state=s.memoizedState,p.refs={},eh(s),b=a.contextType,p.context=typeof b=="object"&&b!==null?Lt(b):fr,p.state=s.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(wh(s,a,b,l),p.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&Ch.enqueueReplaceState(p,p.state,null),Ba(s,l,p,f),za(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(n===null){p=s.stateNode;var S=s.memoizedProps,R=Rs(a,S);p.props=R;var I=p.context,F=a.contextType;b=fr,typeof F=="object"&&F!==null&&(b=Lt(F));var Q=a.getDerivedStateFromProps;F=typeof Q=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,F||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||I!==b)&&Zv(s,p,l,b),Li=!1;var V=s.memoizedState;p.state=V,Ba(s,l,p,f),za(),I=s.memoizedState,S||V!==I||Li?(typeof Q=="function"&&(wh(s,a,Q,l),I=s.memoizedState),(R=Li||$v(s,a,R,l,V,I,b))?(F||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=I),p.props=l,p.state=I,p.context=b,l=R):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{p=s.stateNode,th(n,s),b=s.memoizedProps,F=Rs(a,b),p.props=F,Q=s.pendingProps,V=p.context,I=a.contextType,R=fr,typeof I=="object"&&I!==null&&(R=Lt(I)),S=a.getDerivedStateFromProps,(I=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==Q||V!==R)&&Zv(s,p,l,R),Li=!1,V=s.memoizedState,p.state=V,Ba(s,l,p,f),za();var U=s.memoizedState;b!==Q||V!==U||Li||n!==null&&n.dependencies!==null&&Pl(n.dependencies)?(typeof S=="function"&&(wh(s,a,S,l),U=s.memoizedState),(F=Li||$v(s,a,F,l,V,U,R)||n!==null&&n.dependencies!==null&&Pl(n.dependencies))?(I||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,U,R),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,U,R)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===n.memoizedProps&&V===n.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&V===n.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=U),p.props=l,p.state=U,p.context=R,l=F):(typeof p.componentDidUpdate!="function"||b===n.memoizedProps&&V===n.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&V===n.memoizedState||(s.flags|=1024),l=!1)}return p=l,tu(n,s),l=(s.flags&128)!==0,p||l?(p=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,n!==null&&l?(s.child=Es(s,n.child,null,f),s.child=Es(s,null,a,f)):jt(n,s,a,f),s.memoizedState=p.state,n=s.child):n=li(n,s,f),n}function d0(n,s,a,l){return _s(),s.flags|=256,jt(n,s,a,l),s.child}var Nh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mh(n){return{baseLanes:n,cachePool:nv()}}function Dh(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=hn),n}function m0(n,s,a){var l=s.pendingProps,f=!1,p=(s.flags&128)!==0,b;if((b=p)||(b=n!==null&&n.memoizedState===null?!1:(mt.current&2)!==0),b&&(f=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,n===null){if(Pe){if(f?Ii(s):Vi(),(n=nt)?(n=Sb(n,_n),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Mi!==null?{id:Hn,overflow:Fn}:null,retryLane:536870912,hydrationErrors:null},a=Qy(n),a.return=s,s.child=a,Ot=s,nt=null)):n=null,n===null)throw ki(s);return dd(n)?s.lanes=32:s.lanes=536870912,null}var S=l.children;return l=l.fallback,f?(Vi(),f=s.mode,S=nu({mode:"hidden",children:S},f),l=bs(l,f,a,null),S.return=s,l.return=s,S.sibling=l,s.child=S,l=s.child,l.memoizedState=Mh(a),l.childLanes=Dh(n,b,a),s.memoizedState=Nh,qa(null,l)):(Ii(s),kh(s,S))}var R=n.memoizedState;if(R!==null&&(S=R.dehydrated,S!==null)){if(p)s.flags&256?(Ii(s),s.flags&=-257,s=Oh(n,s,a)):s.memoizedState!==null?(Vi(),s.child=n.child,s.flags|=128,s=null):(Vi(),S=l.fallback,f=s.mode,l=nu({mode:"visible",children:l.children},f),S=bs(S,f,a,null),S.flags|=2,l.return=s,S.return=s,l.sibling=S,s.child=l,Es(s,n.child,null,a),l=s.child,l.memoizedState=Mh(a),l.childLanes=Dh(n,b,a),s.memoizedState=Nh,s=qa(null,l));else if(Ii(s),dd(S)){if(b=S.nextSibling&&S.nextSibling.dataset,b)var I=b.dgst;b=I,l=Error(r(419)),l.stack="",l.digest=b,Oa({value:l,source:null,stack:null}),s=Oh(n,s,a)}else if(vt||pr(n,s,a,!1),b=(a&n.childLanes)!==0,vt||b){if(b=Xe,b!==null&&(l=ey(b,a),l!==0&&l!==R.retryLane))throw R.retryLane=l,vs(n,l),en(b,n,l),Ah;hd(S)||fu(),s=Oh(n,s,a)}else hd(S)?(s.flags|=192,s.child=n.child,s=null):(n=R.treeContext,nt=Sn(S.nextSibling),Ot=s,Pe=!0,Di=null,_n=!1,n!==null&&Wy(s,n),s=kh(s,l.children),s.flags|=4096);return s}return f?(Vi(),S=l.fallback,f=s.mode,R=n.child,I=R.sibling,l=ni(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,I!==null?S=ni(I,S):(S=bs(S,f,a,null),S.flags|=2),S.return=s,l.return=s,l.sibling=S,s.child=l,qa(null,l),l=s.child,S=n.child.memoizedState,S===null?S=Mh(a):(f=S.cachePool,f!==null?(R=gt._currentValue,f=f.parent!==R?{parent:R,pool:R}:f):f=nv(),S={baseLanes:S.baseLanes|a,cachePool:f}),l.memoizedState=S,l.childLanes=Dh(n,b,a),s.memoizedState=Nh,qa(n.child,l)):(Ii(s),a=n.child,n=a.sibling,a=ni(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,n!==null&&(b=s.deletions,b===null?(s.deletions=[n],s.flags|=16):b.push(n)),s.child=a,s.memoizedState=null,a)}function kh(n,s){return s=nu({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function nu(n,s){return n=ln(22,n,null,s),n.lanes=0,n}function Oh(n,s,a){return Es(s,n.child,null,a),n=kh(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function p0(n,s,a){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s),Kf(n.return,s,a)}function Lh(n,s,a,l,f,p){var b=n.memoizedState;b===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:p}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=l,b.tail=a,b.tailMode=f,b.treeForkCount=p)}function g0(n,s,a){var l=s.pendingProps,f=l.revealOrder,p=l.tail;l=l.children;var b=mt.current,S=(b&2)!==0;if(S?(b=b&1|2,s.flags|=128):b&=1,W(mt,b),jt(n,s,l,a),l=Pe?ka:0,!S&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&p0(n,a,s);else if(n.tag===19)p0(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)n=a.alternate,n!==null&&Gl(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Lh(s,!1,f,a,p,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&Gl(n)===null){s.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Lh(s,!0,a,null,p,l);break;case"together":Lh(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function li(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),Ui|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(pr(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,a=ni(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=ni(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function jh(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Pl(n)))}function iR(n,s,a){switch(s.tag){case 3:Te(s,s.stateNode.containerInfo),Oi(s,gt,n.memoizedState.cache),_s();break;case 27:case 5:ce(s);break;case 4:Te(s,s.stateNode.containerInfo);break;case 10:Oi(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,ah(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Ii(s),s.flags|=128,null):(a&s.child.childLanes)!==0?m0(n,s,a):(Ii(s),n=li(n,s,a),n!==null?n.sibling:null);Ii(s);break;case 19:var f=(n.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(pr(n,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return g0(n,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),W(mt,mt.current),l)break;return null;case 22:return s.lanes=0,l0(n,s,a,s.pendingProps);case 24:Oi(s,gt,n.memoizedState.cache)}return li(n,s,a)}function y0(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)vt=!0;else{if(!jh(n,a)&&(s.flags&128)===0)return vt=!1,iR(n,s,a);vt=(n.flags&131072)!==0}else vt=!1,Pe&&(s.flags&1048576)!==0&&Xy(s,ka,s.index);switch(s.lanes=0,s.tag){case 16:e:{var l=s.pendingProps;if(n=ws(s.elementType),s.type=n,typeof n=="function")Bf(n)?(l=Rs(n,l),s.tag=1,s=h0(null,s,n,l,a)):(s.tag=0,s=Rh(null,s,n,l,a));else{if(n!=null){var f=n.$$typeof;if(f===L){s.tag=11,s=r0(null,s,n,l,a);break e}else if(f===K){s.tag=14,s=a0(null,s,n,l,a);break e}}throw s=Ve(n)||n,Error(r(306,s,""))}}return s;case 0:return Rh(n,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=Rs(l,s.pendingProps),h0(n,s,l,f,a);case 3:e:{if(Te(s,s.stateNode.containerInfo),n===null)throw Error(r(387));l=s.pendingProps;var p=s.memoizedState;f=p.element,th(n,s),Ba(s,l,null,a);var b=s.memoizedState;if(l=b.cache,Oi(s,gt,l),l!==p.cache&&Xf(s,[gt],a,!0),za(),l=b.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=d0(n,s,l,a);break e}else if(l!==f){f=yn(Error(r(424)),s),Oa(f),s=d0(n,s,l,a);break e}else for(n=s.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,nt=Sn(n.firstChild),Ot=s,Pe=!0,Di=null,_n=!0,a=lv(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(_s(),l===f){s=li(n,s,a);break e}jt(n,s,l,a)}s=s.child}return s;case 26:return tu(n,s),n===null?(a=Rb(s.type,null,s.pendingProps,null))?s.memoizedState=a:Pe||(a=s.type,n=s.pendingProps,l=vu(_e.current).createElement(a),l[kt]=s,l[Kt]=n,Pt(l,a,n),Rt(l),s.stateNode=l):s.memoizedState=Rb(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return ce(s),n===null&&Pe&&(l=s.stateNode=Cb(s.type,s.pendingProps,_e.current),Ot=s,_n=!0,f=nt,Yi(s.type)?(md=f,nt=Sn(l.firstChild)):nt=f),jt(n,s,s.pendingProps.children,a),tu(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Pe&&((f=l=nt)&&(l=OR(l,s.type,s.pendingProps,_n),l!==null?(s.stateNode=l,Ot=s,nt=Sn(l.firstChild),_n=!1,f=!0):f=!1),f||ki(s)),ce(s),f=s.type,p=s.pendingProps,b=n!==null?n.memoizedProps:null,l=p.children,ud(f,p)?l=null:b!==null&&ud(f,b)&&(s.flags|=32),s.memoizedState!==null&&(f=lh(n,s,KA,null,null,a),ao._currentValue=f),tu(n,s),jt(n,s,l,a),s.child;case 6:return n===null&&Pe&&((n=a=nt)&&(a=LR(a,s.pendingProps,_n),a!==null?(s.stateNode=a,Ot=s,nt=null,n=!0):n=!1),n||ki(s)),null;case 13:return m0(n,s,a);case 4:return Te(s,s.stateNode.containerInfo),l=s.pendingProps,n===null?s.child=Es(s,null,l,a):jt(n,s,l,a),s.child;case 11:return r0(n,s,s.type,s.pendingProps,a);case 7:return jt(n,s,s.pendingProps,a),s.child;case 8:return jt(n,s,s.pendingProps.children,a),s.child;case 12:return jt(n,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Oi(s,s.type,l.value),jt(n,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,Ss(s),f=Lt(f),l=l(f),s.flags|=1,jt(n,s,l,a),s.child;case 14:return a0(n,s,s.type,s.pendingProps,a);case 15:return o0(n,s,s.type,s.pendingProps,a);case 19:return g0(n,s,a);case 31:return nR(n,s,a);case 22:return l0(n,s,a,s.pendingProps);case 24:return Ss(s),l=Lt(gt),n===null?(f=Zf(),f===null&&(f=Xe,p=Wf(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=a),f=p),s.memoizedState={parent:l,cache:f},eh(s),Oi(s,gt,f)):((n.lanes&a)!==0&&(th(n,s),Ba(s,null,null,a),za()),f=n.memoizedState,p=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Oi(s,gt,l)):(l=p.cache,Oi(s,gt,l),l!==f.cache&&Xf(s,[gt],a,!0))),jt(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ui(n){n.flags|=4}function Ph(n,s,a,l,f){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(G0())n.flags|=8192;else throw Cs=Bl,Jf}else n.flags&=-16777217}function v0(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Ob(s))if(G0())n.flags|=8192;else throw Cs=Bl,Jf}function iu(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?$g():536870912,n.lanes|=s,Ar|=s)}function Ya(n,s){if(!Pe)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function it(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(s)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,s}function sR(n,s,a){var l=s.pendingProps;switch(Gf(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(s),null;case 1:return it(s),null;case 3:return a=s.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ri(gt),Z(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(mr(s)?ui(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Yf())),it(s),null;case 26:var f=s.type,p=s.memoizedState;return n===null?(ui(s),p!==null?(it(s),v0(s,p)):(it(s),Ph(s,f,null,l,a))):p?p!==n.memoizedState?(ui(s),it(s),v0(s,p)):(it(s),s.flags&=-16777217):(n=n.memoizedProps,n!==l&&ui(s),it(s),Ph(s,f,n,l,a)),null;case 27:if($(s),a=_e.current,f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&ui(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return it(s),null}n=J.current,mr(s)?$y(s):(n=Cb(f,l,a),s.stateNode=n,ui(s))}return it(s),null;case 5:if($(s),f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&ui(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return it(s),null}if(p=J.current,mr(s))$y(s);else{var b=vu(_e.current);switch(p){case 1:p=b.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=b.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=b.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof l.is=="string"?b.createElement("select",{is:l.is}):b.createElement("select"),l.multiple?p.multiple=!0:l.size&&(p.size=l.size);break;default:p=typeof l.is=="string"?b.createElement(f,{is:l.is}):b.createElement(f)}}p[kt]=s,p[Kt]=l;e:for(b=s.child;b!==null;){if(b.tag===5||b.tag===6)p.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===s)break e;for(;b.sibling===null;){if(b.return===null||b.return===s)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}s.stateNode=p;e:switch(Pt(p,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ui(s)}}return it(s),Ph(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,a),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==l&&ui(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(n=_e.current,mr(s)){if(n=s.stateNode,a=s.memoizedProps,l=null,f=Ot,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[kt]=s,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||mb(n.nodeValue,a)),n||ki(s,!0)}else n=vu(n).createTextNode(l),n[kt]=s,s.stateNode=n}return it(s),null;case 31:if(a=s.memoizedState,n===null||n.memoizedState!==null){if(l=mr(s),a!==null){if(n===null){if(!l)throw Error(r(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[kt]=s}else _s(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;it(s),n=!1}else a=Yf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return s.flags&256?(cn(s),s):(cn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return it(s),null;case 13:if(l=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=mr(s),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[kt]=s}else _s(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;it(s),f=!1}else f=Yf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(cn(s),s):(cn(s),null)}return cn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,n=n!==null&&n.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==f&&(l.flags|=2048)),a!==n&&a&&(s.child.flags|=8192),iu(s,s.updateQueue),it(s),null);case 4:return Z(),n===null&&sd(s.stateNode.containerInfo),it(s),null;case 10:return ri(s.type),it(s),null;case 19:if(G(mt),l=s.memoizedState,l===null)return it(s),null;if(f=(s.flags&128)!==0,p=l.rendering,p===null)if(f)Ya(l,!1);else{if(ct!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(p=Gl(n),p!==null){for(s.flags|=128,Ya(l,!1),n=p.updateQueue,s.updateQueue=n,iu(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)Yy(a,n),a=a.sibling;return W(mt,mt.current&1|2),Pe&&ii(s,l.treeForkCount),s.child}n=n.sibling}l.tail!==null&&sn()>lu&&(s.flags|=128,f=!0,Ya(l,!1),s.lanes=4194304)}else{if(!f)if(n=Gl(p),n!==null){if(s.flags|=128,f=!0,n=n.updateQueue,s.updateQueue=n,iu(s,n),Ya(l,!0),l.tail===null&&l.tailMode==="hidden"&&!p.alternate&&!Pe)return it(s),null}else 2*sn()-l.renderingStartTime>lu&&a!==536870912&&(s.flags|=128,f=!0,Ya(l,!1),s.lanes=4194304);l.isBackwards?(p.sibling=s.child,s.child=p):(n=l.last,n!==null?n.sibling=p:s.child=p,l.last=p)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=sn(),n.sibling=null,a=mt.current,W(mt,f?a&1|2:a&1),Pe&&ii(s,l.treeForkCount),n):(it(s),null);case 22:case 23:return cn(s),rh(),l=s.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(it(s),s.subtreeFlags&6&&(s.flags|=8192)):it(s),a=s.updateQueue,a!==null&&iu(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),n!==null&&G(Ts),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),ri(gt),it(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function rR(n,s){switch(Gf(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return ri(gt),Z(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return $(s),null;case 31:if(s.memoizedState!==null){if(cn(s),s.alternate===null)throw Error(r(340));_s()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(cn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));_s()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return G(mt),null;case 4:return Z(),null;case 10:return ri(s.type),null;case 22:case 23:return cn(s),rh(),n!==null&&G(Ts),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return ri(gt),null;case 25:return null;default:return null}}function b0(n,s){switch(Gf(s),s.tag){case 3:ri(gt),Z();break;case 26:case 27:case 5:$(s);break;case 4:Z();break;case 31:s.memoizedState!==null&&cn(s);break;case 13:cn(s);break;case 19:G(mt);break;case 10:ri(s.type);break;case 22:case 23:cn(s),rh(),n!==null&&G(Ts);break;case 24:ri(gt)}}function Qa(n,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var p=a.create,b=a.inst;l=p(),b.destroy=l}a=a.next}while(a!==f)}}catch(S){Ge(s,s.return,S)}}function zi(n,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var p=f.next;l=p;do{if((l.tag&n)===n){var b=l.inst,S=b.destroy;if(S!==void 0){b.destroy=void 0,f=s;var R=a,I=S;try{I()}catch(F){Ge(f,R,F)}}}l=l.next}while(l!==p)}}catch(F){Ge(s,s.return,F)}}function _0(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{cv(s,a)}catch(l){Ge(n,n.return,l)}}}function x0(n,s,a){a.props=Rs(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Ge(n,s,l)}}function Ka(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){Ge(n,s,f)}}function Gn(n,s){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Ge(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ge(n,s,f)}else a.current=null}function S0(n){var s=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Ge(n,n.return,f)}}function Ih(n,s,a){try{var l=n.stateNode;AR(l,n.type,a,s),l[Kt]=s}catch(f){Ge(n,n.return,f)}}function T0(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Yi(n.type)||n.tag===4}function Vh(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||T0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Yi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function zh(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=ei));else if(l!==4&&(l===27&&Yi(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(zh(n,s,a),n=n.sibling;n!==null;)zh(n,s,a),n=n.sibling}function su(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(l!==4&&(l===27&&Yi(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(su(n,s,a),n=n.sibling;n!==null;)su(n,s,a),n=n.sibling}function w0(n){var s=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Pt(s,l,a),s[kt]=n,s[Kt]=a}catch(p){Ge(n,n.return,p)}}var ci=!1,bt=!1,Bh=!1,C0=typeof WeakSet=="function"?WeakSet:Set,Nt=null;function aR(n,s){if(n=n.containerInfo,od=Cu,n=Iy(n),Of(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var b=0,S=-1,R=-1,I=0,F=0,Q=n,V=null;t:for(;;){for(var U;Q!==a||f!==0&&Q.nodeType!==3||(S=b+f),Q!==p||l!==0&&Q.nodeType!==3||(R=b+l),Q.nodeType===3&&(b+=Q.nodeValue.length),(U=Q.firstChild)!==null;)V=Q,Q=U;for(;;){if(Q===n)break t;if(V===a&&++I===f&&(S=b),V===p&&++F===l&&(R=b),(U=Q.nextSibling)!==null)break;Q=V,V=Q.parentNode}Q=U}a=S===-1||R===-1?null:{start:S,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(ld={focusedElem:n,selectionRange:a},Cu=!1,Nt=s;Nt!==null;)if(s=Nt,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Nt=n;else for(;Nt!==null;){switch(s=Nt,p=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)f=n[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,a=s,f=p.memoizedProps,p=p.memoizedState,l=a.stateNode;try{var re=Rs(a.type,f);n=l.getSnapshotBeforeUpdate(re,p),l.__reactInternalSnapshotBeforeUpdate=n}catch(be){Ge(a,a.return,be)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)fd(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":fd(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,Nt=n;break}Nt=s.return}}function E0(n,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:hi(n,a),l&4&&Qa(5,a);break;case 1:if(hi(n,a),l&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(b){Ge(a,a.return,b)}else{var f=Rs(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(b){Ge(a,a.return,b)}}l&64&&_0(a),l&512&&Ka(a,a.return);break;case 3:if(hi(n,a),l&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{cv(n,s)}catch(b){Ge(a,a.return,b)}}break;case 27:s===null&&l&4&&w0(a);case 26:case 5:hi(n,a),s===null&&l&4&&S0(a),l&512&&Ka(a,a.return);break;case 12:hi(n,a);break;case 31:hi(n,a),l&4&&N0(n,a);break;case 13:hi(n,a),l&4&&M0(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=pR.bind(null,a),jR(n,a))));break;case 22:if(l=a.memoizedState!==null||ci,!l){s=s!==null&&s.memoizedState!==null||bt,f=ci;var p=bt;ci=l,(bt=s)&&!p?di(n,a,(a.subtreeFlags&8772)!==0):hi(n,a),ci=f,bt=p}break;case 30:break;default:hi(n,a)}}function A0(n){var s=n.alternate;s!==null&&(n.alternate=null,A0(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&gf(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var st=null,Wt=!1;function fi(n,s,a){for(a=a.child;a!==null;)R0(n,s,a),a=a.sibling}function R0(n,s,a){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(va,a)}catch{}switch(a.tag){case 26:bt||Gn(a,s),fi(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:bt||Gn(a,s);var l=st,f=Wt;Yi(a.type)&&(st=a.stateNode,Wt=!1),fi(n,s,a),io(a.stateNode),st=l,Wt=f;break;case 5:bt||Gn(a,s);case 6:if(l=st,f=Wt,st=null,fi(n,s,a),st=l,Wt=f,st!==null)if(Wt)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(a.stateNode)}catch(p){Ge(a,s,p)}else try{st.removeChild(a.stateNode)}catch(p){Ge(a,s,p)}break;case 18:st!==null&&(Wt?(n=st,_b(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),jr(n)):_b(st,a.stateNode));break;case 4:l=st,f=Wt,st=a.stateNode.containerInfo,Wt=!0,fi(n,s,a),st=l,Wt=f;break;case 0:case 11:case 14:case 15:zi(2,a,s),bt||zi(4,a,s),fi(n,s,a);break;case 1:bt||(Gn(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&x0(a,s,l)),fi(n,s,a);break;case 21:fi(n,s,a);break;case 22:bt=(l=bt)||a.memoizedState!==null,fi(n,s,a),bt=l;break;default:fi(n,s,a)}}function N0(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{jr(n)}catch(a){Ge(s,s.return,a)}}}function M0(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{jr(n)}catch(a){Ge(s,s.return,a)}}function oR(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new C0),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new C0),s;default:throw Error(r(435,n.tag))}}function ru(n,s){var a=oR(n);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=gR.bind(null,n,l);l.then(f,f)}})}function $t(n,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],p=n,b=s,S=b;e:for(;S!==null;){switch(S.tag){case 27:if(Yi(S.type)){st=S.stateNode,Wt=!1;break e}break;case 5:st=S.stateNode,Wt=!1;break e;case 3:case 4:st=S.stateNode.containerInfo,Wt=!0;break e}S=S.return}if(st===null)throw Error(r(160));R0(p,b,f),st=null,Wt=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)D0(s,n),s=s.sibling}var Dn=null;function D0(n,s){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:$t(s,n),Zt(n),l&4&&(zi(3,n,n.return),Qa(3,n),zi(5,n,n.return));break;case 1:$t(s,n),Zt(n),l&512&&(bt||a===null||Gn(a,a.return)),l&64&&ci&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Dn;if($t(s,n),Zt(n),l&512&&(bt||a===null||Gn(a,a.return)),l&4){var p=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":p=f.getElementsByTagName("title")[0],(!p||p[xa]||p[kt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(l),f.head.insertBefore(p,f.querySelector("head > title"))),Pt(p,l,a),p[kt]=n,Rt(p),l=p;break e;case"link":var b=Db("link","href",f).get(l+(a.href||""));if(b){for(var S=0;S<b.length;S++)if(p=b[S],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(S,1);break t}}p=f.createElement(l),Pt(p,l,a),f.head.appendChild(p);break;case"meta":if(b=Db("meta","content",f).get(l+(a.content||""))){for(S=0;S<b.length;S++)if(p=b[S],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(S,1);break t}}p=f.createElement(l),Pt(p,l,a),f.head.appendChild(p);break;default:throw Error(r(468,l))}p[kt]=n,Rt(p),l=p}n.stateNode=l}else kb(f,n.type,n.stateNode);else n.stateNode=Mb(f,l,n.memoizedProps);else p!==l?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,l===null?kb(f,n.type,n.stateNode):Mb(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Ih(n,n.memoizedProps,a.memoizedProps)}break;case 27:$t(s,n),Zt(n),l&512&&(bt||a===null||Gn(a,a.return)),a!==null&&l&4&&Ih(n,n.memoizedProps,a.memoizedProps);break;case 5:if($t(s,n),Zt(n),l&512&&(bt||a===null||Gn(a,a.return)),n.flags&32){f=n.stateNode;try{sr(f,"")}catch(re){Ge(n,n.return,re)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,Ih(n,f,a!==null?a.memoizedProps:f)),l&1024&&(Bh=!0);break;case 6:if($t(s,n),Zt(n),l&4){if(n.stateNode===null)throw Error(r(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(re){Ge(n,n.return,re)}}break;case 3:if(xu=null,f=Dn,Dn=bu(s.containerInfo),$t(s,n),Dn=f,Zt(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{jr(s.containerInfo)}catch(re){Ge(n,n.return,re)}Bh&&(Bh=!1,k0(n));break;case 4:l=Dn,Dn=bu(n.stateNode.containerInfo),$t(s,n),Zt(n),Dn=l;break;case 12:$t(s,n),Zt(n);break;case 31:$t(s,n),Zt(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,ru(n,l)));break;case 13:$t(s,n),Zt(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ou=sn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,ru(n,l)));break;case 22:f=n.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,I=ci,F=bt;if(ci=I||f,bt=F||R,$t(s,n),bt=F,ci=I,Zt(n),l&8192)e:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||R||ci||bt||Ns(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){R=a=s;try{if(p=R.stateNode,f)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{S=R.stateNode;var Q=R.memoizedProps.style,V=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;S.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(re){Ge(R,R.return,re)}}}else if(s.tag===6){if(a===null){R=s;try{R.stateNode.nodeValue=f?"":R.memoizedProps}catch(re){Ge(R,R.return,re)}}}else if(s.tag===18){if(a===null){R=s;try{var U=R.stateNode;f?xb(U,!0):xb(R.stateNode,!1)}catch(re){Ge(R,R.return,re)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,ru(n,a))));break;case 19:$t(s,n),Zt(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,ru(n,l)));break;case 30:break;case 21:break;default:$t(s,n),Zt(n)}}function Zt(n){var s=n.flags;if(s&2){try{for(var a,l=n.return;l!==null;){if(T0(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,p=Vh(n);su(n,p,f);break;case 5:var b=a.stateNode;a.flags&32&&(sr(b,""),a.flags&=-33);var S=Vh(n);su(n,S,b);break;case 3:case 4:var R=a.stateNode.containerInfo,I=Vh(n);zh(n,I,R);break;default:throw Error(r(161))}}catch(F){Ge(n,n.return,F)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function k0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;k0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function hi(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)E0(n,s.alternate,s),s=s.sibling}function Ns(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:zi(4,s,s.return),Ns(s);break;case 1:Gn(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&x0(s,s.return,a),Ns(s);break;case 27:io(s.stateNode);case 26:case 5:Gn(s,s.return),Ns(s);break;case 22:s.memoizedState===null&&Ns(s);break;case 30:Ns(s);break;default:Ns(s)}n=n.sibling}}function di(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=n,p=s,b=p.flags;switch(p.tag){case 0:case 11:case 15:di(f,p,a),Qa(4,p);break;case 1:if(di(f,p,a),l=p,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(I){Ge(l,l.return,I)}if(l=p,f=l.updateQueue,f!==null){var S=l.stateNode;try{var R=f.shared.hiddenCallbacks;if(R!==null)for(f.shared.hiddenCallbacks=null,f=0;f<R.length;f++)uv(R[f],S)}catch(I){Ge(l,l.return,I)}}a&&b&64&&_0(p),Ka(p,p.return);break;case 27:w0(p);case 26:case 5:di(f,p,a),a&&l===null&&b&4&&S0(p),Ka(p,p.return);break;case 12:di(f,p,a);break;case 31:di(f,p,a),a&&b&4&&N0(f,p);break;case 13:di(f,p,a),a&&b&4&&M0(f,p);break;case 22:p.memoizedState===null&&di(f,p,a),Ka(p,p.return);break;case 30:break;default:di(f,p,a)}s=s.sibling}}function Uh(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&La(a))}function Hh(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&La(n))}function kn(n,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)O0(n,s,a,l),s=s.sibling}function O0(n,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:kn(n,s,a,l),f&2048&&Qa(9,s);break;case 1:kn(n,s,a,l);break;case 3:kn(n,s,a,l),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&La(n)));break;case 12:if(f&2048){kn(n,s,a,l),n=s.stateNode;try{var p=s.memoizedProps,b=p.id,S=p.onPostCommit;typeof S=="function"&&S(b,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(R){Ge(s,s.return,R)}}else kn(n,s,a,l);break;case 31:kn(n,s,a,l);break;case 13:kn(n,s,a,l);break;case 23:break;case 22:p=s.stateNode,b=s.alternate,s.memoizedState!==null?p._visibility&2?kn(n,s,a,l):Xa(n,s):p._visibility&2?kn(n,s,a,l):(p._visibility|=2,wr(n,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&Uh(b,s);break;case 24:kn(n,s,a,l),f&2048&&Hh(s.alternate,s);break;default:kn(n,s,a,l)}}function wr(n,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var p=n,b=s,S=a,R=l,I=b.flags;switch(b.tag){case 0:case 11:case 15:wr(p,b,S,R,f),Qa(8,b);break;case 23:break;case 22:var F=b.stateNode;b.memoizedState!==null?F._visibility&2?wr(p,b,S,R,f):Xa(p,b):(F._visibility|=2,wr(p,b,S,R,f)),f&&I&2048&&Uh(b.alternate,b);break;case 24:wr(p,b,S,R,f),f&&I&2048&&Hh(b.alternate,b);break;default:wr(p,b,S,R,f)}s=s.sibling}}function Xa(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,l=s,f=l.flags;switch(l.tag){case 22:Xa(a,l),f&2048&&Uh(l.alternate,l);break;case 24:Xa(a,l),f&2048&&Hh(l.alternate,l);break;default:Xa(a,l)}s=s.sibling}}var Wa=8192;function Cr(n,s,a){if(n.subtreeFlags&Wa)for(n=n.child;n!==null;)L0(n,s,a),n=n.sibling}function L0(n,s,a){switch(n.tag){case 26:Cr(n,s,a),n.flags&Wa&&n.memoizedState!==null&&QR(a,Dn,n.memoizedState,n.memoizedProps);break;case 5:Cr(n,s,a);break;case 3:case 4:var l=Dn;Dn=bu(n.stateNode.containerInfo),Cr(n,s,a),Dn=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=Wa,Wa=16777216,Cr(n,s,a),Wa=l):Cr(n,s,a));break;default:Cr(n,s,a)}}function j0(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function $a(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Nt=l,I0(l,n)}j0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)P0(n),n=n.sibling}function P0(n){switch(n.tag){case 0:case 11:case 15:$a(n),n.flags&2048&&zi(9,n,n.return);break;case 3:$a(n);break;case 12:$a(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,au(n)):$a(n);break;default:$a(n)}}function au(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Nt=l,I0(l,n)}j0(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:zi(8,s,s.return),au(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,au(s));break;default:au(s)}n=n.sibling}}function I0(n,s){for(;Nt!==null;){var a=Nt;switch(a.tag){case 0:case 11:case 15:zi(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:La(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Nt=l;else e:for(a=n;Nt!==null;){l=Nt;var f=l.sibling,p=l.return;if(A0(l),l===a){Nt=null;break e}if(f!==null){f.return=p,Nt=f;break e}Nt=p}}}var lR={getCacheForType:function(n){var s=Lt(gt),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a},cacheSignal:function(){return Lt(gt).controller.signal}},uR=typeof WeakMap=="function"?WeakMap:Map,He=0,Xe=null,Me=null,Le=0,Fe=0,fn=null,Bi=!1,Er=!1,Fh=!1,mi=0,ct=0,Ui=0,Ms=0,Gh=0,hn=0,Ar=0,Za=null,Jt=null,qh=!1,ou=0,V0=0,lu=1/0,uu=null,Hi=null,St=0,Fi=null,Rr=null,pi=0,Yh=0,Qh=null,z0=null,Ja=0,Kh=null;function dn(){return(He&2)!==0&&Le!==0?Le&-Le:j.T!==null?ed():ty()}function B0(){if(hn===0)if((Le&536870912)===0||Pe){var n=yl;yl<<=1,(yl&3932160)===0&&(yl=262144),hn=n}else hn=536870912;return n=un.current,n!==null&&(n.flags|=32),hn}function en(n,s,a){(n===Xe&&(Fe===2||Fe===9)||n.cancelPendingCommit!==null)&&(Nr(n,0),Gi(n,Le,hn,!1)),_a(n,a),((He&2)===0||n!==Xe)&&(n===Xe&&((He&2)===0&&(Ms|=a),ct===4&&Gi(n,Le,hn,!1)),qn(n))}function U0(n,s,a){if((He&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&n.expiredLanes)===0||ba(n,s),f=l?hR(n,s):Wh(n,s,!0),p=l;do{if(f===0){Er&&!l&&Gi(n,s,0,!1);break}else{if(a=n.current.alternate,p&&!cR(a)){f=Wh(n,s,!1),p=!1;continue}if(f===2){if(p=s,n.errorRecoveryDisabledLanes&p)var b=0;else b=n.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var S=n;f=Za;var R=S.current.memoizedState.isDehydrated;if(R&&(Nr(S,b).flags|=256),b=Wh(S,b,!1),b!==2){if(Fh&&!R){S.errorRecoveryDisabledLanes|=p,Ms|=p,f=4;break e}p=Jt,Jt=f,p!==null&&(Jt===null?Jt=p:Jt.push.apply(Jt,p))}f=b}if(p=!1,f!==2)continue}}if(f===1){Nr(n,0),Gi(n,s,0,!0);break}e:{switch(l=n,p=f,p){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Gi(l,s,hn,!Bi);break e;case 2:Jt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=ou+300-sn(),10<f)){if(Gi(l,s,hn,!Bi),bl(l,0,!0)!==0)break e;pi=s,l.timeoutHandle=vb(H0.bind(null,l,a,Jt,uu,qh,s,hn,Ms,Ar,Bi,p,"Throttled",-0,0),f);break e}H0(l,a,Jt,uu,qh,s,hn,Ms,Ar,Bi,p,null,-0,0)}}break}while(!0);qn(n)}function H0(n,s,a,l,f,p,b,S,R,I,F,Q,V,U){if(n.timeoutHandle=-1,Q=s.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ei},L0(s,p,Q);var re=(p&62914560)===p?ou-sn():(p&4194048)===p?V0-sn():0;if(re=KR(Q,re),re!==null){pi=p,n.cancelPendingCommit=re(W0.bind(null,n,s,p,a,l,f,b,S,R,F,Q,null,V,U)),Gi(n,p,b,!I);return}}W0(n,s,p,a,l,f,b,S,R)}function cR(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],p=f.getSnapshot;f=f.value;try{if(!on(p(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Gi(n,s,a,l){s&=~Gh,s&=~Ms,n.suspendedLanes|=s,n.pingedLanes&=~s,l&&(n.warmLanes|=s),l=n.expirationTimes;for(var f=s;0<f;){var p=31-an(f),b=1<<p;l[p]=-1,f&=~b}a!==0&&Zg(n,a,s)}function cu(){return(He&6)===0?(eo(0),!1):!0}function Xh(){if(Me!==null){if(Fe===0)var n=Me.return;else n=Me,si=xs=null,fh(n),br=null,Pa=0,n=Me;for(;n!==null;)b0(n.alternate,n),n=n.return;Me=null}}function Nr(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,MR(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),pi=0,Xh(),Xe=n,Me=a=ni(n.current,null),Le=s,Fe=0,fn=null,Bi=!1,Er=ba(n,s),Fh=!1,Ar=hn=Gh=Ms=Ui=ct=0,Jt=Za=null,qh=!1,(s&8)!==0&&(s|=s&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=s;0<l;){var f=31-an(l),p=1<<f;s|=n[f],l&=~p}return mi=s,Dl(),a}function F0(n,s){we=null,j.H=Ga,s===vr||s===zl?(s=rv(),Fe=3):s===Jf?(s=rv(),Fe=4):Fe=s===Ah?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,fn=s,Me===null&&(ct=1,Jl(n,yn(s,n.current)))}function G0(){var n=un.current;return n===null?!0:(Le&4194048)===Le?xn===null:(Le&62914560)===Le||(Le&536870912)!==0?n===xn:!1}function q0(){var n=j.H;return j.H=Ga,n===null?Ga:n}function Y0(){var n=j.A;return j.A=lR,n}function fu(){ct=4,Bi||(Le&4194048)!==Le&&un.current!==null||(Er=!0),(Ui&134217727)===0&&(Ms&134217727)===0||Xe===null||Gi(Xe,Le,hn,!1)}function Wh(n,s,a){var l=He;He|=2;var f=q0(),p=Y0();(Xe!==n||Le!==s)&&(uu=null,Nr(n,s)),s=!1;var b=ct;e:do try{if(Fe!==0&&Me!==null){var S=Me,R=fn;switch(Fe){case 8:Xh(),b=6;break e;case 3:case 2:case 9:case 6:un.current===null&&(s=!0);var I=Fe;if(Fe=0,fn=null,Mr(n,S,R,I),a&&Er){b=0;break e}break;default:I=Fe,Fe=0,fn=null,Mr(n,S,R,I)}}fR(),b=ct;break}catch(F){F0(n,F)}while(!0);return s&&n.shellSuspendCounter++,si=xs=null,He=l,j.H=f,j.A=p,Me===null&&(Xe=null,Le=0,Dl()),b}function fR(){for(;Me!==null;)Q0(Me)}function hR(n,s){var a=He;He|=2;var l=q0(),f=Y0();Xe!==n||Le!==s?(uu=null,lu=sn()+500,Nr(n,s)):Er=ba(n,s);e:do try{if(Fe!==0&&Me!==null){s=Me;var p=fn;t:switch(Fe){case 1:Fe=0,fn=null,Mr(n,s,p,1);break;case 2:case 9:if(iv(p)){Fe=0,fn=null,K0(s);break}s=function(){Fe!==2&&Fe!==9||Xe!==n||(Fe=7),qn(n)},p.then(s,s);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:iv(p)?(Fe=0,fn=null,K0(s)):(Fe=0,fn=null,Mr(n,s,p,7));break;case 5:var b=null;switch(Me.tag){case 26:b=Me.memoizedState;case 5:case 27:var S=Me;if(b?Ob(b):S.stateNode.complete){Fe=0,fn=null;var R=S.sibling;if(R!==null)Me=R;else{var I=S.return;I!==null?(Me=I,hu(I)):Me=null}break t}}Fe=0,fn=null,Mr(n,s,p,5);break;case 6:Fe=0,fn=null,Mr(n,s,p,6);break;case 8:Xh(),ct=6;break e;default:throw Error(r(462))}}dR();break}catch(F){F0(n,F)}while(!0);return si=xs=null,j.H=l,j.A=f,He=a,Me!==null?0:(Xe=null,Le=0,Dl(),ct)}function dR(){for(;Me!==null&&!PE();)Q0(Me)}function Q0(n){var s=y0(n.alternate,n,mi);n.memoizedProps=n.pendingProps,s===null?hu(n):Me=s}function K0(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=f0(a,s,s.pendingProps,s.type,void 0,Le);break;case 11:s=f0(a,s,s.pendingProps,s.type.render,s.ref,Le);break;case 5:fh(s);default:b0(a,s),s=Me=Yy(s,mi),s=y0(a,s,mi)}n.memoizedProps=n.pendingProps,s===null?hu(n):Me=s}function Mr(n,s,a,l){si=xs=null,fh(s),br=null,Pa=0;var f=s.return;try{if(tR(n,f,s,a,Le)){ct=1,Jl(n,yn(a,n.current)),Me=null;return}}catch(p){if(f!==null)throw Me=f,p;ct=1,Jl(n,yn(a,n.current)),Me=null;return}s.flags&32768?(Pe||l===1?n=!0:Er||(Le&536870912)!==0?n=!1:(Bi=n=!0,(l===2||l===9||l===3||l===6)&&(l=un.current,l!==null&&l.tag===13&&(l.flags|=16384))),X0(s,n)):hu(s)}function hu(n){var s=n;do{if((s.flags&32768)!==0){X0(s,Bi);return}n=s.return;var a=sR(s.alternate,s,mi);if(a!==null){Me=a;return}if(s=s.sibling,s!==null){Me=s;return}Me=s=n}while(s!==null);ct===0&&(ct=5)}function X0(n,s){do{var a=rR(n.alternate,n);if(a!==null){a.flags&=32767,Me=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){Me=n;return}Me=n=a}while(n!==null);ct=6,Me=null}function W0(n,s,a,l,f,p,b,S,R){n.cancelPendingCommit=null;do du();while(St!==0);if((He&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(p=s.lanes|s.childLanes,p|=Vf,YE(n,a,p,b,S,R),n===Xe&&(Me=Xe=null,Le=0),Rr=s,Fi=n,pi=a,Yh=p,Qh=f,z0=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,yR(pl,function(){return tb(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=j.T,j.T=null,f=Y.p,Y.p=2,b=He,He|=4;try{aR(n,s,a)}finally{He=b,Y.p=f,j.T=l}}St=1,$0(),Z0(),J0()}}function $0(){if(St===1){St=0;var n=Fi,s=Rr,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=j.T,j.T=null;var l=Y.p;Y.p=2;var f=He;He|=4;try{D0(s,n);var p=ld,b=Iy(n.containerInfo),S=p.focusedElem,R=p.selectionRange;if(b!==S&&S&&S.ownerDocument&&Py(S.ownerDocument.documentElement,S)){if(R!==null&&Of(S)){var I=R.start,F=R.end;if(F===void 0&&(F=I),"selectionStart"in S)S.selectionStart=I,S.selectionEnd=Math.min(F,S.value.length);else{var Q=S.ownerDocument||document,V=Q&&Q.defaultView||window;if(V.getSelection){var U=V.getSelection(),re=S.textContent.length,be=Math.min(R.start,re),Qe=R.end===void 0?be:Math.min(R.end,re);!U.extend&&be>Qe&&(b=Qe,Qe=be,be=b);var O=jy(S,be),k=jy(S,Qe);if(O&&k&&(U.rangeCount!==1||U.anchorNode!==O.node||U.anchorOffset!==O.offset||U.focusNode!==k.node||U.focusOffset!==k.offset)){var P=Q.createRange();P.setStart(O.node,O.offset),U.removeAllRanges(),be>Qe?(U.addRange(P),U.extend(k.node,k.offset)):(P.setEnd(k.node,k.offset),U.addRange(P))}}}}for(Q=[],U=S;U=U.parentNode;)U.nodeType===1&&Q.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<Q.length;S++){var q=Q[S];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}Cu=!!od,ld=od=null}finally{He=f,Y.p=l,j.T=a}}n.current=s,St=2}}function Z0(){if(St===2){St=0;var n=Fi,s=Rr,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=j.T,j.T=null;var l=Y.p;Y.p=2;var f=He;He|=4;try{E0(n,s.alternate,s)}finally{He=f,Y.p=l,j.T=a}}St=3}}function J0(){if(St===4||St===3){St=0,IE();var n=Fi,s=Rr,a=pi,l=z0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?St=5:(St=0,Rr=Fi=null,eb(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Hi=null),mf(a),s=s.stateNode,rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(va,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=j.T,f=Y.p,Y.p=2,j.T=null;try{for(var p=n.onRecoverableError,b=0;b<l.length;b++){var S=l[b];p(S.value,{componentStack:S.stack})}}finally{j.T=s,Y.p=f}}(pi&3)!==0&&du(),qn(n),f=n.pendingLanes,(a&261930)!==0&&(f&42)!==0?n===Kh?Ja++:(Ja=0,Kh=n):Ja=0,eo(0)}}function eb(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,La(s)))}function du(){return $0(),Z0(),J0(),tb()}function tb(){if(St!==5)return!1;var n=Fi,s=Yh;Yh=0;var a=mf(pi),l=j.T,f=Y.p;try{Y.p=32>a?32:a,j.T=null,a=Qh,Qh=null;var p=Fi,b=pi;if(St=0,Rr=Fi=null,pi=0,(He&6)!==0)throw Error(r(331));var S=He;if(He|=4,P0(p.current),O0(p,p.current,b,a),He=S,eo(0,!1),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(va,p)}catch{}return!0}finally{Y.p=f,j.T=l,eb(n,s)}}function nb(n,s,a){s=yn(a,s),s=Eh(n.stateNode,s,2),n=Pi(n,s,2),n!==null&&(_a(n,2),qn(n))}function Ge(n,s,a){if(n.tag===3)nb(n,n,a);else for(;s!==null;){if(s.tag===3){nb(s,n,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Hi===null||!Hi.has(l))){n=yn(a,n),a=i0(2),l=Pi(s,a,2),l!==null&&(s0(a,l,s,n),_a(l,2),qn(l));break}}s=s.return}}function $h(n,s,a){var l=n.pingCache;if(l===null){l=n.pingCache=new uR;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(Fh=!0,f.add(a),n=mR.bind(null,n,s,a),s.then(n,n))}function mR(n,s,a){var l=n.pingCache;l!==null&&l.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Xe===n&&(Le&a)===a&&(ct===4||ct===3&&(Le&62914560)===Le&&300>sn()-ou?(He&2)===0&&Nr(n,0):Gh|=a,Ar===Le&&(Ar=0)),qn(n)}function ib(n,s){s===0&&(s=$g()),n=vs(n,s),n!==null&&(_a(n,s),qn(n))}function pR(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),ib(n,a)}function gR(n,s){var a=0;switch(n.tag){case 31:case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),ib(n,a)}function yR(n,s){return ga(n,s)}var mu=null,Dr=null,Zh=!1,pu=!1,Jh=!1,qi=0;function qn(n){n!==Dr&&n.next===null&&(Dr===null?mu=Dr=n:Dr=Dr.next=n),pu=!0,Zh||(Zh=!0,bR())}function eo(n,s){if(!Jh&&pu){Jh=!0;do for(var a=!1,l=mu;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var p=0;else{var b=l.suspendedLanes,S=l.pingedLanes;p=(1<<31-an(42|n)+1)-1,p&=f&~(b&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,ob(l,p))}else p=Le,p=bl(l,l===Xe?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||ba(l,p)||(a=!0,ob(l,p));l=l.next}while(a);Jh=!1}}function vR(){sb()}function sb(){pu=Zh=!1;var n=0;qi!==0&&NR()&&(n=qi);for(var s=sn(),a=null,l=mu;l!==null;){var f=l.next,p=rb(l,s);p===0?(l.next=null,a===null?mu=f:a.next=f,f===null&&(Dr=a)):(a=l,(n!==0||(p&3)!==0)&&(pu=!0)),l=f}St!==0&&St!==5||eo(n),qi!==0&&(qi=0)}function rb(n,s){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var b=31-an(p),S=1<<b,R=f[b];R===-1?((S&a)===0||(S&l)!==0)&&(f[b]=qE(S,s)):R<=s&&(n.expiredLanes|=S),p&=~S}if(s=Xe,a=Le,a=bl(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===s&&(Fe===2||Fe===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&ya(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||ba(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(l!==null&&ya(l),mf(a)){case 2:case 8:a=Xg;break;case 32:a=pl;break;case 268435456:a=Wg;break;default:a=pl}return l=ab.bind(null,n),a=ga(a,l),n.callbackPriority=s,n.callbackNode=a,s}return l!==null&&l!==null&&ya(l),n.callbackPriority=2,n.callbackNode=null,2}function ab(n,s){if(St!==0&&St!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(du()&&n.callbackNode!==a)return null;var l=Le;return l=bl(n,n===Xe?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(U0(n,l,s),rb(n,sn()),n.callbackNode!=null&&n.callbackNode===a?ab.bind(null,n):null)}function ob(n,s){if(du())return null;U0(n,s,!0)}function bR(){DR(function(){(He&6)!==0?ga(Kg,vR):sb()})}function ed(){if(qi===0){var n=gr;n===0&&(n=gl,gl<<=1,(gl&261888)===0&&(gl=256)),qi=n}return qi}function lb(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Tl(""+n)}function ub(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function _R(n,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var p=lb((f[Kt]||null).action),b=l.submitter;b&&(s=(s=b[Kt]||null)?lb(s.formAction):b.getAttribute("formAction"),s!==null&&(p=s,b=null));var S=new Al("action","action",null,l,f);n.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(qi!==0){var R=b?ub(f,b):new FormData(f);_h(a,{pending:!0,data:R,method:f.method,action:p},null,R)}}else typeof p=="function"&&(S.preventDefault(),R=b?ub(f,b):new FormData(f),_h(a,{pending:!0,data:R,method:f.method,action:p},p,R))},currentTarget:f}]})}}for(var td=0;td<If.length;td++){var nd=If[td],xR=nd.toLowerCase(),SR=nd[0].toUpperCase()+nd.slice(1);Mn(xR,"on"+SR)}Mn(By,"onAnimationEnd"),Mn(Uy,"onAnimationIteration"),Mn(Hy,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(VA,"onTransitionRun"),Mn(zA,"onTransitionStart"),Mn(BA,"onTransitionCancel"),Mn(Fy,"onTransitionEnd"),nr("onMouseEnter",["mouseout","mouseover"]),nr("onMouseLeave",["mouseout","mouseover"]),nr("onPointerEnter",["pointerout","pointerover"]),nr("onPointerLeave",["pointerout","pointerover"]),ms("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ms("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ms("onBeforeInput",["compositionend","keypress","textInput","paste"]),ms("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ms("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ms("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var to="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(to));function cb(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var p=void 0;if(s)for(var b=l.length-1;0<=b;b--){var S=l[b],R=S.instance,I=S.currentTarget;if(S=S.listener,R!==p&&f.isPropagationStopped())break e;p=S,f.currentTarget=I;try{p(f)}catch(F){Ml(F)}f.currentTarget=null,p=R}else for(b=0;b<l.length;b++){if(S=l[b],R=S.instance,I=S.currentTarget,S=S.listener,R!==p&&f.isPropagationStopped())break e;p=S,f.currentTarget=I;try{p(f)}catch(F){Ml(F)}f.currentTarget=null,p=R}}}}function De(n,s){var a=s[pf];a===void 0&&(a=s[pf]=new Set);var l=n+"__bubble";a.has(l)||(fb(s,n,2,!1),a.add(l))}function id(n,s,a){var l=0;s&&(l|=4),fb(a,n,l,s)}var gu="_reactListening"+Math.random().toString(36).slice(2);function sd(n){if(!n[gu]){n[gu]=!0,sy.forEach(function(a){a!=="selectionchange"&&(TR.has(a)||id(a,!1,n),id(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[gu]||(s[gu]=!0,id("selectionchange",!1,s))}}function fb(n,s,a,l){switch(Bb(s)){case 2:var f=$R;break;case 8:f=ZR;break;default:f=bd}a=f.bind(null,s,a,n),f=void 0,!wf||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(s,a,{capture:!0,passive:f}):n.addEventListener(s,a,!0):f!==void 0?n.addEventListener(s,a,{passive:f}):n.addEventListener(s,a,!1)}function rd(n,s,a,l,f){var p=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var S=l.stateNode.containerInfo;if(S===f)break;if(b===4)for(b=l.return;b!==null;){var R=b.tag;if((R===3||R===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;S!==null;){if(b=Js(S),b===null)return;if(R=b.tag,R===5||R===6||R===26||R===27){l=p=b;continue e}S=S.parentNode}}l=l.return}gy(function(){var I=p,F=Sf(a),Q=[];e:{var V=Gy.get(n);if(V!==void 0){var U=Al,re=n;switch(n){case"keypress":if(Cl(a)===0)break e;case"keydown":case"keyup":U=gA;break;case"focusin":re="focus",U=Rf;break;case"focusout":re="blur",U=Rf;break;case"beforeblur":case"afterblur":U=Rf;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=by;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=sA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=bA;break;case By:case Uy:case Hy:U=oA;break;case Fy:U=xA;break;case"scroll":case"scrollend":U=nA;break;case"wheel":U=TA;break;case"copy":case"cut":case"paste":U=uA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=xy;break;case"toggle":case"beforetoggle":U=CA}var be=(s&4)!==0,Qe=!be&&(n==="scroll"||n==="scrollend"),O=be?V!==null?V+"Capture":null:V;be=[];for(var k=I,P;k!==null;){var q=k;if(P=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||P===null||O===null||(q=Ta(k,O),q!=null&&be.push(no(k,q,P))),Qe)break;k=k.return}0<be.length&&(V=new U(V,re,null,a,F),Q.push({event:V,listeners:be}))}}if((s&7)===0){e:{if(V=n==="mouseover"||n==="pointerover",U=n==="mouseout"||n==="pointerout",V&&a!==xf&&(re=a.relatedTarget||a.fromElement)&&(Js(re)||re[Zs]))break e;if((U||V)&&(V=F.window===F?F:(V=F.ownerDocument)?V.defaultView||V.parentWindow:window,U?(re=a.relatedTarget||a.toElement,U=I,re=re?Js(re):null,re!==null&&(Qe=u(re),be=re.tag,re!==Qe||be!==5&&be!==27&&be!==6)&&(re=null)):(U=null,re=I),U!==re)){if(be=by,q="onMouseLeave",O="onMouseEnter",k="mouse",(n==="pointerout"||n==="pointerover")&&(be=xy,q="onPointerLeave",O="onPointerEnter",k="pointer"),Qe=U==null?V:Sa(U),P=re==null?V:Sa(re),V=new be(q,k+"leave",U,a,F),V.target=Qe,V.relatedTarget=P,q=null,Js(F)===I&&(be=new be(O,k+"enter",re,a,F),be.target=P,be.relatedTarget=Qe,q=be),Qe=q,U&&re)t:{for(be=wR,O=U,k=re,P=0,q=O;q;q=be(q))P++;q=0;for(var pe=k;pe;pe=be(pe))q++;for(;0<P-q;)O=be(O),P--;for(;0<q-P;)k=be(k),q--;for(;P--;){if(O===k||k!==null&&O===k.alternate){be=O;break t}O=be(O),k=be(k)}be=null}else be=null;U!==null&&hb(Q,V,U,be,!1),re!==null&&Qe!==null&&hb(Q,Qe,re,be,!0)}}e:{if(V=I?Sa(I):window,U=V.nodeName&&V.nodeName.toLowerCase(),U==="select"||U==="input"&&V.type==="file")var ze=Ny;else if(Ay(V))if(My)ze=jA;else{ze=OA;var he=kA}else U=V.nodeName,!U||U.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?I&&_f(I.elementType)&&(ze=Ny):ze=LA;if(ze&&(ze=ze(n,I))){Ry(Q,ze,a,F);break e}he&&he(n,V,I),n==="focusout"&&I&&V.type==="number"&&I.memoizedProps.value!=null&&bf(V,"number",V.value)}switch(he=I?Sa(I):window,n){case"focusin":(Ay(he)||he.contentEditable==="true")&&(lr=he,Lf=I,Da=null);break;case"focusout":Da=Lf=lr=null;break;case"mousedown":jf=!0;break;case"contextmenu":case"mouseup":case"dragend":jf=!1,Vy(Q,a,F);break;case"selectionchange":if(IA)break;case"keydown":case"keyup":Vy(Q,a,F)}var Ce;if(Mf)e:{switch(n){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else or?Cy(n,a)&&(je="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(je="onCompositionStart");je&&(Sy&&a.locale!=="ko"&&(or||je!=="onCompositionStart"?je==="onCompositionEnd"&&or&&(Ce=yy()):(Ni=F,Cf="value"in Ni?Ni.value:Ni.textContent,or=!0)),he=yu(I,je),0<he.length&&(je=new _y(je,n,null,a,F),Q.push({event:je,listeners:he}),Ce?je.data=Ce:(Ce=Ey(a),Ce!==null&&(je.data=Ce)))),(Ce=AA?RA(n,a):NA(n,a))&&(je=yu(I,"onBeforeInput"),0<je.length&&(he=new _y("onBeforeInput","beforeinput",null,a,F),Q.push({event:he,listeners:je}),he.data=Ce)),_R(Q,n,I,a,F)}cb(Q,s)})}function no(n,s,a){return{instance:n,listener:s,currentTarget:a}}function yu(n,s){for(var a=s+"Capture",l=[];n!==null;){var f=n,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=Ta(n,a),f!=null&&l.unshift(no(n,f,p)),f=Ta(n,s),f!=null&&l.push(no(n,f,p))),n.tag===3)return l;n=n.return}return[]}function wR(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function hb(n,s,a,l,f){for(var p=s._reactName,b=[];a!==null&&a!==l;){var S=a,R=S.alternate,I=S.stateNode;if(S=S.tag,R!==null&&R===l)break;S!==5&&S!==26&&S!==27||I===null||(R=I,f?(I=Ta(a,p),I!=null&&b.unshift(no(a,I,R))):f||(I=Ta(a,p),I!=null&&b.push(no(a,I,R)))),a=a.return}b.length!==0&&n.push({event:s,listeners:b})}var CR=/\r\n?/g,ER=/\u0000|\uFFFD/g;function db(n){return(typeof n=="string"?n:""+n).replace(CR,`
`).replace(ER,"")}function mb(n,s){return s=db(s),db(n)===s}function Ye(n,s,a,l,f,p){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||sr(n,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&sr(n,""+l);break;case"className":xl(n,"class",l);break;case"tabIndex":xl(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":xl(n,a,l);break;case"style":my(n,l,p);break;case"data":if(s!=="object"){xl(n,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Tl(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(s!=="input"&&Ye(n,s,"name",f.name,f,null),Ye(n,s,"formEncType",f.formEncType,f,null),Ye(n,s,"formMethod",f.formMethod,f,null),Ye(n,s,"formTarget",f.formTarget,f,null)):(Ye(n,s,"encType",f.encType,f,null),Ye(n,s,"method",f.method,f,null),Ye(n,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Tl(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=ei);break;case"onScroll":l!=null&&De("scroll",n);break;case"onScrollEnd":l!=null&&De("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Tl(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":De("beforetoggle",n),De("toggle",n),_l(n,"popover",l);break;case"xlinkActuate":Jn(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Jn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Jn(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Jn(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Jn(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Jn(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Jn(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Jn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Jn(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":_l(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=eA.get(a)||a,_l(n,a,l))}}function ad(n,s,a,l,f,p){switch(a){case"style":my(n,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"children":typeof l=="string"?sr(n,l):(typeof l=="number"||typeof l=="bigint")&&sr(n,""+l);break;case"onScroll":l!=null&&De("scroll",n);break;case"onScrollEnd":l!=null&&De("scrollend",n);break;case"onClick":l!=null&&(n.onclick=ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ry.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),p=n[Kt]||null,p=p!=null?p[a]:null,typeof p=="function"&&n.removeEventListener(s,p,f),typeof l=="function")){typeof p!="function"&&p!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):_l(n,a,l)}}}function Pt(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",n),De("load",n);var l=!1,f=!1,p;for(p in a)if(a.hasOwnProperty(p)){var b=a[p];if(b!=null)switch(p){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ye(n,s,p,b,a,null)}}f&&Ye(n,s,"srcSet",a.srcSet,a,null),l&&Ye(n,s,"src",a.src,a,null);return;case"input":De("invalid",n);var S=p=b=f=null,R=null,I=null;for(l in a)if(a.hasOwnProperty(l)){var F=a[l];if(F!=null)switch(l){case"name":f=F;break;case"type":b=F;break;case"checked":R=F;break;case"defaultChecked":I=F;break;case"value":p=F;break;case"defaultValue":S=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,s));break;default:Ye(n,s,l,F,a,null)}}cy(n,p,S,R,I,b,f,!1);return;case"select":De("invalid",n),l=b=p=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":p=S;break;case"defaultValue":b=S;break;case"multiple":l=S;default:Ye(n,s,f,S,a,null)}s=p,a=b,n.multiple=!!l,s!=null?ir(n,!!l,s,!1):a!=null&&ir(n,!!l,a,!0);return;case"textarea":De("invalid",n),p=f=l=null;for(b in a)if(a.hasOwnProperty(b)&&(S=a[b],S!=null))switch(b){case"value":l=S;break;case"defaultValue":f=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:Ye(n,s,b,S,a,null)}hy(n,l,f,p);return;case"option":for(R in a)a.hasOwnProperty(R)&&(l=a[R],l!=null)&&(R==="selected"?n.selected=l&&typeof l!="function"&&typeof l!="symbol":Ye(n,s,R,l,a,null));return;case"dialog":De("beforetoggle",n),De("toggle",n),De("cancel",n),De("close",n);break;case"iframe":case"object":De("load",n);break;case"video":case"audio":for(l=0;l<to.length;l++)De(to[l],n);break;case"image":De("error",n),De("load",n);break;case"details":De("toggle",n);break;case"embed":case"source":case"link":De("error",n),De("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ye(n,s,I,l,a,null)}return;default:if(_f(s)){for(F in a)a.hasOwnProperty(F)&&(l=a[F],l!==void 0&&ad(n,s,F,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Ye(n,s,S,l,a,null))}function AR(n,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,b=null,S=null,R=null,I=null,F=null;for(U in a){var Q=a[U];if(a.hasOwnProperty(U)&&Q!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":R=Q;default:l.hasOwnProperty(U)||Ye(n,s,U,null,l,Q)}}for(var V in l){var U=l[V];if(Q=a[V],l.hasOwnProperty(V)&&(U!=null||Q!=null))switch(V){case"type":p=U;break;case"name":f=U;break;case"checked":I=U;break;case"defaultChecked":F=U;break;case"value":b=U;break;case"defaultValue":S=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,s));break;default:U!==Q&&Ye(n,s,V,U,l,Q)}}vf(n,b,S,R,I,F,p,f);return;case"select":U=b=S=V=null;for(p in a)if(R=a[p],a.hasOwnProperty(p)&&R!=null)switch(p){case"value":break;case"multiple":U=R;default:l.hasOwnProperty(p)||Ye(n,s,p,null,l,R)}for(f in l)if(p=l[f],R=a[f],l.hasOwnProperty(f)&&(p!=null||R!=null))switch(f){case"value":V=p;break;case"defaultValue":S=p;break;case"multiple":b=p;default:p!==R&&Ye(n,s,f,p,l,R)}s=S,a=b,l=U,V!=null?ir(n,!!a,V,!1):!!l!=!!a&&(s!=null?ir(n,!!a,s,!0):ir(n,!!a,a?[]:"",!1));return;case"textarea":U=V=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ye(n,s,S,null,l,f)}for(b in l)if(f=l[b],p=a[b],l.hasOwnProperty(b)&&(f!=null||p!=null))switch(b){case"value":V=f;break;case"defaultValue":U=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==p&&Ye(n,s,b,f,l,p)}fy(n,V,U);return;case"option":for(var re in a)V=a[re],a.hasOwnProperty(re)&&V!=null&&!l.hasOwnProperty(re)&&(re==="selected"?n.selected=!1:Ye(n,s,re,null,l,V));for(R in l)V=l[R],U=a[R],l.hasOwnProperty(R)&&V!==U&&(V!=null||U!=null)&&(R==="selected"?n.selected=V&&typeof V!="function"&&typeof V!="symbol":Ye(n,s,R,V,l,U));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)V=a[be],a.hasOwnProperty(be)&&V!=null&&!l.hasOwnProperty(be)&&Ye(n,s,be,null,l,V);for(I in l)if(V=l[I],U=a[I],l.hasOwnProperty(I)&&V!==U&&(V!=null||U!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(137,s));break;default:Ye(n,s,I,V,l,U)}return;default:if(_f(s)){for(var Qe in a)V=a[Qe],a.hasOwnProperty(Qe)&&V!==void 0&&!l.hasOwnProperty(Qe)&&ad(n,s,Qe,void 0,l,V);for(F in l)V=l[F],U=a[F],!l.hasOwnProperty(F)||V===U||V===void 0&&U===void 0||ad(n,s,F,V,l,U);return}}for(var O in a)V=a[O],a.hasOwnProperty(O)&&V!=null&&!l.hasOwnProperty(O)&&Ye(n,s,O,null,l,V);for(Q in l)V=l[Q],U=a[Q],!l.hasOwnProperty(Q)||V===U||V==null&&U==null||Ye(n,s,Q,V,l,U)}function pb(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function RR(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],p=f.transferSize,b=f.initiatorType,S=f.duration;if(p&&S&&pb(b)){for(b=0,S=f.responseEnd,l+=1;l<a.length;l++){var R=a[l],I=R.startTime;if(I>S)break;var F=R.transferSize,Q=R.initiatorType;F&&pb(Q)&&(R=R.responseEnd,b+=F*(R<S?1:(S-I)/(R-I)))}if(--l,s+=8*(p+b)/(f.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var od=null,ld=null;function vu(n){return n.nodeType===9?n:n.ownerDocument}function gb(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yb(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function ud(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var cd=null;function NR(){var n=window.event;return n&&n.type==="popstate"?n===cd?!1:(cd=n,!0):(cd=null,!1)}var vb=typeof setTimeout=="function"?setTimeout:void 0,MR=typeof clearTimeout=="function"?clearTimeout:void 0,bb=typeof Promise=="function"?Promise:void 0,DR=typeof queueMicrotask=="function"?queueMicrotask:typeof bb<"u"?function(n){return bb.resolve(null).then(n).catch(kR)}:vb;function kR(n){setTimeout(function(){throw n})}function Yi(n){return n==="head"}function _b(n,s){var a=s,l=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){n.removeChild(f),jr(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")io(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,io(a);for(var p=a.firstChild;p;){var b=p.nextSibling,S=p.nodeName;p[xa]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&p.rel.toLowerCase()==="stylesheet"||a.removeChild(p),p=b}}else a==="body"&&io(n.ownerDocument.body);a=f}while(a);jr(s)}function xb(n,s){var a=n;n=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=l}while(a)}function fd(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":fd(a),gf(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function OR(n,s,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[xa])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=Sn(n.nextSibling),n===null)break}return null}function LR(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Sn(n.nextSibling),n===null))return null;return n}function Sb(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Sn(n.nextSibling),n===null))return null;return n}function hd(n){return n.data==="$?"||n.data==="$~"}function dd(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function jR(n,s){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Sn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var md=null;function Tb(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(s===0)return Sn(n.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}n=n.nextSibling}return null}function wb(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return n;s--}else a!=="/$"&&a!=="/&"||s++}n=n.previousSibling}return null}function Cb(n,s,a){switch(s=vu(a),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function io(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);gf(n)}var Tn=new Map,Eb=new Set;function bu(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var gi=Y.d;Y.d={f:PR,r:IR,D:VR,C:zR,L:BR,m:UR,X:FR,S:HR,M:GR};function PR(){var n=gi.f(),s=cu();return n||s}function IR(n){var s=er(n);s!==null&&s.tag===5&&s.type==="form"?Fv(s):gi.r(n)}var kr=typeof document>"u"?null:document;function Ab(n,s,a){var l=kr;if(l&&typeof s=="string"&&s){var f=pn(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Eb.has(f)||(Eb.add(f),n={rel:n,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),Pt(s,"link",n),Rt(s),l.head.appendChild(s)))}}function VR(n){gi.D(n),Ab("dns-prefetch",n,null)}function zR(n,s){gi.C(n,s),Ab("preconnect",n,s)}function BR(n,s,a){gi.L(n,s,a);var l=kr;if(l&&n&&s){var f='link[rel="preload"][as="'+pn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+pn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+pn(a.imageSizes)+'"]')):f+='[href="'+pn(n)+'"]';var p=f;switch(s){case"style":p=Or(n);break;case"script":p=Lr(n)}Tn.has(p)||(n=y({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),Tn.set(p,n),l.querySelector(f)!==null||s==="style"&&l.querySelector(so(p))||s==="script"&&l.querySelector(ro(p))||(s=l.createElement("link"),Pt(s,"link",n),Rt(s),l.head.appendChild(s)))}}function UR(n,s){gi.m(n,s);var a=kr;if(a&&n){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+pn(l)+'"][href="'+pn(n)+'"]',p=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Lr(n)}if(!Tn.has(p)&&(n=y({rel:"modulepreload",href:n},s),Tn.set(p,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ro(p)))return}l=a.createElement("link"),Pt(l,"link",n),Rt(l),a.head.appendChild(l)}}}function HR(n,s,a){gi.S(n,s,a);var l=kr;if(l&&n){var f=tr(l).hoistableStyles,p=Or(n);s=s||"default";var b=f.get(p);if(!b){var S={loading:0,preload:null};if(b=l.querySelector(so(p)))S.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":s},a),(a=Tn.get(p))&&pd(n,a);var R=b=l.createElement("link");Rt(R),Pt(R,"link",n),R._p=new Promise(function(I,F){R.onload=I,R.onerror=F}),R.addEventListener("load",function(){S.loading|=1}),R.addEventListener("error",function(){S.loading|=2}),S.loading|=4,_u(b,s,l)}b={type:"stylesheet",instance:b,count:1,state:S},f.set(p,b)}}}function FR(n,s){gi.X(n,s);var a=kr;if(a&&n){var l=tr(a).hoistableScripts,f=Lr(n),p=l.get(f);p||(p=a.querySelector(ro(f)),p||(n=y({src:n,async:!0},s),(s=Tn.get(f))&&gd(n,s),p=a.createElement("script"),Rt(p),Pt(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function GR(n,s){gi.M(n,s);var a=kr;if(a&&n){var l=tr(a).hoistableScripts,f=Lr(n),p=l.get(f);p||(p=a.querySelector(ro(f)),p||(n=y({src:n,async:!0,type:"module"},s),(s=Tn.get(f))&&gd(n,s),p=a.createElement("script"),Rt(p),Pt(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function Rb(n,s,a,l){var f=(f=_e.current)?bu(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Or(a.href),a=tr(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Or(a.href);var p=tr(f).hoistableStyles,b=p.get(n);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,b),(p=f.querySelector(so(n)))&&!p._p&&(b.instance=p,b.state.loading=5),Tn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Tn.set(n,a),p||qR(f,n,a,b.state))),s&&l===null)throw Error(r(528,""));return b}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Lr(a),a=tr(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function Or(n){return'href="'+pn(n)+'"'}function so(n){return'link[rel="stylesheet"]['+n+"]"}function Nb(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function qR(n,s,a,l){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=n.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Pt(s,"link",a),Rt(s),n.head.appendChild(s))}function Lr(n){return'[src="'+pn(n)+'"]'}function ro(n){return"script[async]"+n}function Mb(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=n.querySelector('style[data-href~="'+pn(a.href)+'"]');if(l)return s.instance=l,Rt(l),l;var f=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),Rt(l),Pt(l,"style",f),_u(l,a.precedence,n),s.instance=l;case"stylesheet":f=Or(a.href);var p=n.querySelector(so(f));if(p)return s.state.loading|=4,s.instance=p,Rt(p),p;l=Nb(a),(f=Tn.get(f))&&pd(l,f),p=(n.ownerDocument||n).createElement("link"),Rt(p);var b=p;return b._p=new Promise(function(S,R){b.onload=S,b.onerror=R}),Pt(p,"link",l),s.state.loading|=4,_u(p,a.precedence,n),s.instance=p;case"script":return p=Lr(a.src),(f=n.querySelector(ro(p)))?(s.instance=f,Rt(f),f):(l=a,(f=Tn.get(p))&&(l=y({},a),gd(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),Rt(f),Pt(f,"link",l),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,_u(l,a.precedence,n));return s.instance}function _u(n,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,p=f,b=0;b<l.length;b++){var S=l[b];if(S.dataset.precedence===s)p=S;else if(p!==f)break}p?p.parentNode.insertBefore(n,p.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function pd(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function gd(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var xu=null;function Db(n,s,a){if(xu===null){var l=new Map,f=xu=new Map;f.set(a,l)}else f=xu,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var p=a[f];if(!(p[xa]||p[kt]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(s)||"";b=n+b;var S=l.get(b);S?S.push(p):l.set(b,[p])}}return l}function kb(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function YR(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(n=s.disabled,typeof s.precedence=="string"&&n==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Ob(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function QR(n,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Or(l.href),p=s.querySelector(so(f));if(p){s=p._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=Su.bind(n),s.then(n,n)),a.state.loading|=4,a.instance=p,Rt(p);return}p=s.ownerDocument||s,l=Nb(l),(f=Tn.get(f))&&pd(l,f),p=p.createElement("link"),Rt(p);var b=p;b._p=new Promise(function(S,R){b.onload=S,b.onerror=R}),Pt(p,"link",l),a.instance=p}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=Su.bind(n),s.addEventListener("load",a),s.addEventListener("error",a))}}var yd=0;function KR(n,s){return n.stylesheets&&n.count===0&&wu(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var l=setTimeout(function(){if(n.stylesheets&&wu(n,n.stylesheets),n.unsuspend){var p=n.unsuspend;n.unsuspend=null,p()}},6e4+s);0<n.imgBytes&&yd===0&&(yd=62500*RR());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&wu(n,n.stylesheets),n.unsuspend)){var p=n.unsuspend;n.unsuspend=null,p()}},(n.imgBytes>yd?50:800)+s);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Su(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wu(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Tu=null;function wu(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Tu=new Map,s.forEach(XR,n),Tu=null,Su.call(n))}function XR(n,s){if(!(s.state.loading&4)){var a=Tu.get(n);if(a)var l=a.get(null);else{a=new Map,Tu.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var b=f[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),l=b)}l&&a.set(null,l)}f=s.instance,b=f.getAttribute("data-precedence"),p=a.get(b)||l,p===l&&a.set(null,f),a.set(b,f),this.count++,l=Su.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),p?p.parentNode.insertBefore(f,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var ao={$$typeof:D,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function WR(n,s,a,l,f,p,b,S,R){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hf(0),this.hiddenUpdates=hf(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Lb(n,s,a,l,f,p,b,S,R,I,F,Q){return n=new WR(n,s,a,b,R,I,F,Q,S),s=1,p===!0&&(s|=24),p=ln(3,null,null,s),n.current=p,p.stateNode=n,s=Wf(),s.refCount++,n.pooledCache=s,s.refCount++,p.memoizedState={element:l,isDehydrated:a,cache:s},eh(p),n}function jb(n){return n?(n=fr,n):fr}function Pb(n,s,a,l,f,p){f=jb(f),l.context===null?l.context=f:l.pendingContext=f,l=ji(s),l.payload={element:a},p=p===void 0?null:p,p!==null&&(l.callback=p),a=Pi(n,l,s),a!==null&&(en(a,n,s),Va(a,n,s))}function Ib(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function vd(n,s){Ib(n,s),(n=n.alternate)&&Ib(n,s)}function Vb(n){if(n.tag===13||n.tag===31){var s=vs(n,67108864);s!==null&&en(s,n,67108864),vd(n,67108864)}}function zb(n){if(n.tag===13||n.tag===31){var s=dn();s=df(s);var a=vs(n,s);a!==null&&en(a,n,s),vd(n,s)}}var Cu=!0;function $R(n,s,a,l){var f=j.T;j.T=null;var p=Y.p;try{Y.p=2,bd(n,s,a,l)}finally{Y.p=p,j.T=f}}function ZR(n,s,a,l){var f=j.T;j.T=null;var p=Y.p;try{Y.p=8,bd(n,s,a,l)}finally{Y.p=p,j.T=f}}function bd(n,s,a,l){if(Cu){var f=_d(l);if(f===null)rd(n,s,l,Eu,a),Ub(n,l);else if(eN(f,n,s,a,l))l.stopPropagation();else if(Ub(n,l),s&4&&-1<JR.indexOf(n)){for(;f!==null;){var p=er(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=ds(p.pendingLanes);if(b!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;b;){var R=1<<31-an(b);S.entanglements[1]|=R,b&=~R}qn(p),(He&6)===0&&(lu=sn()+500,eo(0))}}break;case 31:case 13:S=vs(p,2),S!==null&&en(S,p,2),cu(),vd(p,2)}if(p=_d(l),p===null&&rd(n,s,l,Eu,a),p===f)break;f=p}f!==null&&l.stopPropagation()}else rd(n,s,l,null,a)}}function _d(n){return n=Sf(n),xd(n)}var Eu=null;function xd(n){if(Eu=null,n=Js(n),n!==null){var s=u(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=c(s),n!==null)return n;n=null}else if(a===31){if(n=h(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Eu=n,null}function Bb(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(VE()){case Kg:return 2;case Xg:return 8;case pl:case zE:return 32;case Wg:return 268435456;default:return 32}default:return 32}}var Sd=!1,Qi=null,Ki=null,Xi=null,oo=new Map,lo=new Map,Wi=[],JR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ub(n,s){switch(n){case"focusin":case"focusout":Qi=null;break;case"dragenter":case"dragleave":Ki=null;break;case"mouseover":case"mouseout":Xi=null;break;case"pointerover":case"pointerout":oo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":lo.delete(s.pointerId)}}function uo(n,s,a,l,f,p){return n===null||n.nativeEvent!==p?(n={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:p,targetContainers:[f]},s!==null&&(s=er(s),s!==null&&Vb(s)),n):(n.eventSystemFlags|=l,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function eN(n,s,a,l,f){switch(s){case"focusin":return Qi=uo(Qi,n,s,a,l,f),!0;case"dragenter":return Ki=uo(Ki,n,s,a,l,f),!0;case"mouseover":return Xi=uo(Xi,n,s,a,l,f),!0;case"pointerover":var p=f.pointerId;return oo.set(p,uo(oo.get(p)||null,n,s,a,l,f)),!0;case"gotpointercapture":return p=f.pointerId,lo.set(p,uo(lo.get(p)||null,n,s,a,l,f)),!0}return!1}function Hb(n){var s=Js(n.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){n.blockedOn=s,ny(n.priority,function(){zb(a)});return}}else if(s===31){if(s=h(a),s!==null){n.blockedOn=s,ny(n.priority,function(){zb(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Au(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=_d(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);xf=l,a.target.dispatchEvent(l),xf=null}else return s=er(a),s!==null&&Vb(s),n.blockedOn=a,!1;s.shift()}return!0}function Fb(n,s,a){Au(n)&&a.delete(s)}function tN(){Sd=!1,Qi!==null&&Au(Qi)&&(Qi=null),Ki!==null&&Au(Ki)&&(Ki=null),Xi!==null&&Au(Xi)&&(Xi=null),oo.forEach(Fb),lo.forEach(Fb)}function Ru(n,s){n.blockedOn===s&&(n.blockedOn=null,Sd||(Sd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,tN)))}var Nu=null;function Gb(n){Nu!==n&&(Nu=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Nu===n&&(Nu=null);for(var s=0;s<n.length;s+=3){var a=n[s],l=n[s+1],f=n[s+2];if(typeof l!="function"){if(xd(l||a)===null)continue;break}var p=er(a);p!==null&&(n.splice(s,3),s-=3,_h(p,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function jr(n){function s(R){return Ru(R,n)}Qi!==null&&Ru(Qi,n),Ki!==null&&Ru(Ki,n),Xi!==null&&Ru(Xi,n),oo.forEach(s),lo.forEach(s);for(var a=0;a<Wi.length;a++){var l=Wi[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Wi.length&&(a=Wi[0],a.blockedOn===null);)Hb(a),a.blockedOn===null&&Wi.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],p=a[l+1],b=f[Kt]||null;if(typeof p=="function")b||Gb(a);else if(b){var S=null;if(p&&p.hasAttribute("formAction")){if(f=p,b=p[Kt]||null)S=b.formAction;else if(xd(f)!==null)continue}else S=b.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),Gb(a)}}}function qb(){function n(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(b){return f=b})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function Td(n){this._internalRoot=n}Mu.prototype.render=Td.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=dn();Pb(a,l,n,s,null,null)},Mu.prototype.unmount=Td.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Pb(n.current,2,null,n,null,null),cu(),s[Zs]=null}};function Mu(n){this._internalRoot=n}Mu.prototype.unstable_scheduleHydration=function(n){if(n){var s=ty();n={blockedOn:null,target:n,priority:s};for(var a=0;a<Wi.length&&s!==0&&s<Wi[a].priority;a++);Wi.splice(a,0,n),a===0&&Hb(n)}};var Yb=e.version;if(Yb!=="19.2.4")throw Error(r(527,Yb,"19.2.4"));Y.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=d(s),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var nN={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Du.isDisabled&&Du.supportsFiber)try{va=Du.inject(nN),rn=Du}catch{}}return fo.createRoot=function(n,s){if(!o(n))throw Error(r(299));var a=!1,l="",f=Jv,p=e0,b=t0;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError)),s=Lb(n,1,!1,null,null,a,l,null,f,p,b,qb),n[Zs]=s.current,sd(n),new Td(s)},fo.hydrateRoot=function(n,s,a){if(!o(n))throw Error(r(299));var l=!1,f="",p=Jv,b=e0,S=t0,R=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),s=Lb(n,1,!0,s,a??null,l,f,R,p,b,S,qb),s.context=jb(null),a=s.current,l=dn(),l=df(l),f=ji(l),f.callback=null,Pi(a,f,l),a=l,s.current.lanes=a,_a(s,a),qn(s),n[Zs]=s.current,sd(n),new Mu(s)},fo.version="19.2.4",fo}var n_;function fN(){if(n_)return Ed.exports;n_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ed.exports=cN(),Ed.exports}var hN=fN();const dN="modulepreload",mN=function(t){return"/"+t},i_={},zr=function(e,i,r){let o=Promise.resolve();if(i&&i.length>0){let d=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var c=d;document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),m=h?.nonce||h?.getAttribute("nonce");o=d(i.map(g=>{if(g=mN(g),g in i_)return;i_[g]=!0;const y=g.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${v}`))return;const x=document.createElement("link");if(x.rel=y?"stylesheet":dN,y||(x.as="script"),x.crossOrigin="",x.href=g,m&&x.setAttribute("nonce",m),document.head.appendChild(x),y)return new Promise((w,C)=>{x.addEventListener("load",w),x.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(h){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=h,window.dispatchEvent(m),!m.defaultPrevented)throw h}return o.then(h=>{for(const m of h||[])m.status==="rejected"&&u(m.reason);return e().catch(u)})};var s_="popstate";function pN(t={}){function e(r,o){let{pathname:u,search:c,hash:h}=r.location;return vm("",{pathname:u,search:c,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(r,o){return typeof o=="string"?o:Io(o)}return yN(e,i,null,t)}function ot(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Xn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gN(){return Math.random().toString(36).substring(2,10)}function r_(t,e){return{usr:t.state,key:t.key,idx:e}}function vm(t,e,i=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?sa(e):e,state:i,key:e&&e.key||r||gN()}}function Io({pathname:t="/",search:e="",hash:i=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function sa(t){let e={};if(t){let i=t.indexOf("#");i>=0&&(e.hash=t.substring(i),t=t.substring(0,i));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function yN(t,e,i,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,c=o.history,h="POP",m=null,d=g();d==null&&(d=0,c.replaceState({...c.state,idx:d},""));function g(){return(c.state||{idx:null}).idx}function y(){h="POP";let E=g(),A=E==null?null:E-d;d=E,m&&m({action:h,location:C.location,delta:A})}function v(E,A){h="PUSH";let N=vm(C.location,E,A);d=g()+1;let D=r_(N,d),L=C.createHref(N);try{c.pushState(D,"",L)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;o.location.assign(L)}u&&m&&m({action:h,location:C.location,delta:1})}function x(E,A){h="REPLACE";let N=vm(C.location,E,A);d=g();let D=r_(N,d),L=C.createHref(N);c.replaceState(D,"",L),u&&m&&m({action:h,location:C.location,delta:0})}function w(E){return vN(E)}let C={get action(){return h},get location(){return t(o,c)},listen(E){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(s_,y),m=E,()=>{o.removeEventListener(s_,y),m=null}},createHref(E){return e(o,E)},createURL:w,encodeLocation(E){let A=w(E);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:v,replace:x,go(E){return c.go(E)}};return C}function vN(t,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),ot(i,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Io(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=i+r),new URL(r,i)}function lT(t,e,i="/"){return bN(t,e,i,!1)}function bN(t,e,i,r){let o=typeof e=="string"?sa(e):e,u=xi(o.pathname||"/",i);if(u==null)return null;let c=uT(t);_N(c);let h=null;for(let m=0;h==null&&m<c.length;++m){let d=DN(u);h=NN(c[m],d,r)}return h}function uT(t,e=[],i=[],r="",o=!1){let u=(c,h,m=o,d)=>{let g={relativePath:d===void 0?c.path||"":d,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&m)return;ot(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let y=bi([r,g.relativePath]),v=i.concat(g);c.children&&c.children.length>0&&(ot(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),uT(c.children,e,v,y,m)),!(c.path==null&&!c.index)&&e.push({path:y,score:AN(y,c.index),routesMeta:v})};return t.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))u(c,h);else for(let m of cT(c.path))u(c,h,!0,m)}),e}function cT(t){let e=t.split("/");if(e.length===0)return[];let[i,...r]=e,o=i.endsWith("?"),u=i.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let c=cT(r.join("/")),h=[];return h.push(...c.map(m=>m===""?u:[u,m].join("/"))),o&&h.push(...c),h.map(m=>t.startsWith("/")&&m===""?"/":m)}function _N(t){t.sort((e,i)=>e.score!==i.score?i.score-e.score:RN(e.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}var xN=/^:[\w-]+$/,SN=3,TN=2,wN=1,CN=10,EN=-2,a_=t=>t==="*";function AN(t,e){let i=t.split("/"),r=i.length;return i.some(a_)&&(r+=EN),e&&(r+=TN),i.filter(o=>!a_(o)).reduce((o,u)=>o+(xN.test(u)?SN:u===""?wN:CN),r)}function RN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function NN(t,e,i=!1){let{routesMeta:r}=t,o={},u="/",c=[];for(let h=0;h<r.length;++h){let m=r[h],d=h===r.length-1,g=u==="/"?e:e.slice(u.length)||"/",y=uc({path:m.relativePath,caseSensitive:m.caseSensitive,end:d},g),v=m.route;if(!y&&d&&i&&!r[r.length-1].route.index&&(y=uc({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},g)),!y)return null;Object.assign(o,y.params),c.push({params:o,pathname:bi([u,y.pathname]),pathnameBase:jN(bi([u,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(u=bi([u,y.pathnameBase]))}return c}function uc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[i,r]=MN(t.path,t.caseSensitive,t.end),o=e.match(i);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((d,{paramName:g,isOptional:y},v)=>{if(g==="*"){let w=h[v]||"";c=u.slice(0,u.length-w.length).replace(/(.)\/+$/,"$1")}const x=h[v];return y&&!x?d[g]=void 0:d[g]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:u,pathnameBase:c,pattern:t}}function MN(t,e=!1,i=!0){Xn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,m)=>(r.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function DN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function xi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,r=t.charAt(i);return r&&r!=="/"?null:t.slice(i)||"/"}var kN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function ON(t,e="/"){let{pathname:i,search:r="",hash:o=""}=typeof t=="string"?sa(t):t,u;return i?(i=i.replace(/\/\/+/g,"/"),i.startsWith("/")?u=o_(i.substring(1),"/"):u=o_(i,e)):u=e,{pathname:u,search:PN(r),hash:IN(o)}}function o_(t,e){let i=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Md(t,e,i,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function LN(t){return t.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function fT(t){let e=LN(t);return e.map((i,r)=>r===e.length-1?i.pathname:i.pathnameBase)}function hT(t,e,i,r=!1){let o;typeof t=="string"?o=sa(t):(o={...t},ot(!o.pathname||!o.pathname.includes("?"),Md("?","pathname","search",o)),ot(!o.pathname||!o.pathname.includes("#"),Md("#","pathname","hash",o)),ot(!o.search||!o.search.includes("#"),Md("#","search","hash",o)));let u=t===""||o.pathname==="",c=u?"/":o.pathname,h;if(c==null)h=i;else{let y=e.length-1;if(!r&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),y-=1;o.pathname=v.join("/")}h=y>=0?e[y]:"/"}let m=ON(o,h),d=c&&c!=="/"&&c.endsWith("/"),g=(u||c===".")&&i.endsWith("/");return!m.pathname.endsWith("/")&&(d||g)&&(m.pathname+="/"),m}var bi=t=>t.join("/").replace(/\/\/+/g,"/"),jN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),PN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,IN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,VN=class{constructor(t,e,i,r=!1){this.status=t,this.statusText=e||"",this.internal=r,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function zN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function BN(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var dT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function mT(t,e){let i=t;if(typeof i!="string"||!kN.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let r=i,o=!1;if(dT)try{let u=new URL(window.location.href),c=i.startsWith("//")?new URL(u.protocol+i):new URL(i),h=xi(c.pathname,e);c.origin===u.origin&&h!=null?i=h+c.search+c.hash:o=!0}catch{Xn(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var pT=["POST","PUT","PATCH","DELETE"];new Set(pT);var UN=["GET",...pT];new Set(UN);var ra=T.createContext(null);ra.displayName="DataRouter";var Uc=T.createContext(null);Uc.displayName="DataRouterState";var HN=T.createContext(!1),gT=T.createContext({isTransitioning:!1});gT.displayName="ViewTransition";var FN=T.createContext(new Map);FN.displayName="Fetchers";var GN=T.createContext(null);GN.displayName="Await";var Nn=T.createContext(null);Nn.displayName="Navigation";var el=T.createContext(null);el.displayName="Location";var Ei=T.createContext({outlet:null,matches:[],isDataRoute:!1});Ei.displayName="Route";var xp=T.createContext(null);xp.displayName="RouteError";var yT="REACT_ROUTER_ERROR",qN="REDIRECT",YN="ROUTE_ERROR_RESPONSE";function QN(t){if(t.startsWith(`${yT}:${qN}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function KN(t){if(t.startsWith(`${yT}:${YN}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new VN(e.status,e.statusText,e.data)}catch{}}function XN(t,{relative:e}={}){ot(tl(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=T.useContext(Nn),{hash:o,pathname:u,search:c}=nl(t,{relative:e}),h=u;return i!=="/"&&(h=u==="/"?i:bi([i,u])),r.createHref({pathname:h,search:c,hash:o})}function tl(){return T.useContext(el)!=null}function Qs(){return ot(tl(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(el).location}var vT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function bT(t){T.useContext(Nn).static||T.useLayoutEffect(t)}function WN(){let{isDataRoute:t}=T.useContext(Ei);return t?u2():$N()}function $N(){ot(tl(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(ra),{basename:e,navigator:i}=T.useContext(Nn),{matches:r}=T.useContext(Ei),{pathname:o}=Qs(),u=JSON.stringify(fT(r)),c=T.useRef(!1);return bT(()=>{c.current=!0}),T.useCallback((m,d={})=>{if(Xn(c.current,vT),!c.current)return;if(typeof m=="number"){i.go(m);return}let g=hT(m,JSON.parse(u),o,d.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:bi([e,g.pathname])),(d.replace?i.replace:i.push)(g,d.state,d)},[e,i,u,o,t])}T.createContext(null);function nl(t,{relative:e}={}){let{matches:i}=T.useContext(Ei),{pathname:r}=Qs(),o=JSON.stringify(fT(i));return T.useMemo(()=>hT(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function ZN(t,e){return _T(t,e)}function _T(t,e,i,r,o){ot(tl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=T.useContext(Nn),{matches:c}=T.useContext(Ei),h=c[c.length-1],m=h?h.params:{},d=h?h.pathname:"/",g=h?h.pathnameBase:"/",y=h&&h.route;{let N=y&&y.path||"";ST(d,!y||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let v=Qs(),x;if(e){let N=typeof e=="string"?sa(e):e;ot(g==="/"||N.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${N.pathname}" was given in the \`location\` prop.`),x=N}else x=v;let w=x.pathname||"/",C=w;if(g!=="/"){let N=g.replace(/^\//,"").split("/");C="/"+w.replace(/^\//,"").split("/").slice(N.length).join("/")}let E=lT(t,{pathname:C});Xn(y||E!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Xn(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=i2(E&&E.map(N=>Object.assign({},N,{params:Object.assign({},m,N.params),pathname:bi([g,u.encodeLocation?u.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?g:bi([g,u.encodeLocation?u.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),c,i,r,o);return e&&A?T.createElement(el.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},A):A}function JN(){let t=l2(),e=zN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),i=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:u},"ErrorBoundary")," or"," ",T.createElement("code",{style:u},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),i?T.createElement("pre",{style:o},i):null,c)}var e2=T.createElement(JN,null),xT=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const i=KN(t.digest);i&&(t=i)}let e=t!==void 0?T.createElement(Ei.Provider,{value:this.props.routeContext},T.createElement(xp.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?T.createElement(t2,{error:t},e):e}};xT.contextType=HN;var Dd=new WeakMap;function t2({children:t,error:e}){let{basename:i}=T.useContext(Nn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=QN(e.digest);if(r){let o=Dd.get(e);if(o)throw o;let u=mT(r.location,i);if(dT&&!Dd.get(e))if(u.isExternal||r.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:r.replace}));throw Dd.set(e,c),c}return T.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return t}function n2({routeContext:t,match:e,children:i}){let r=T.useContext(ra);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(Ei.Provider,{value:t},i)}function i2(t,e=[],i=null,r=null,o=null){if(t==null){if(!i)return null;if(i.errors)t=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)t=i.matches;else return null}let u=t,c=i?.errors;if(c!=null){let g=u.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);ot(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let h=!1,m=-1;if(i)for(let g=0;g<u.length;g++){let y=u[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:v,errors:x}=i,w=y.route.loader&&!v.hasOwnProperty(y.route.id)&&(!x||x[y.route.id]===void 0);if(y.route.lazy||w){h=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}let d=i&&r?(g,y)=>{r(g,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:BN(i.matches),errorInfo:y})}:void 0;return u.reduceRight((g,y,v)=>{let x,w=!1,C=null,E=null;i&&(x=c&&y.route.id?c[y.route.id]:void 0,C=y.route.errorElement||e2,h&&(m<0&&v===0?(ST("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,E=null):m===v&&(w=!0,E=y.route.hydrateFallbackElement||null)));let A=e.concat(u.slice(0,v+1)),N=()=>{let D;return x?D=C:w?D=E:y.route.Component?D=T.createElement(y.route.Component,null):y.route.element?D=y.route.element:D=g,T.createElement(n2,{match:y,routeContext:{outlet:g,matches:A,isDataRoute:i!=null},children:D})};return i&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?T.createElement(xT,{location:i.location,revalidation:i.revalidation,component:C,error:x,children:N(),routeContext:{outlet:null,matches:A,isDataRoute:!0},onError:d}):N()},null)}function Sp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function s2(t){let e=T.useContext(ra);return ot(e,Sp(t)),e}function r2(t){let e=T.useContext(Uc);return ot(e,Sp(t)),e}function a2(t){let e=T.useContext(Ei);return ot(e,Sp(t)),e}function Tp(t){let e=a2(t),i=e.matches[e.matches.length-1];return ot(i.route.id,`${t} can only be used on routes that contain a unique "id"`),i.route.id}function o2(){return Tp("useRouteId")}function l2(){let t=T.useContext(xp),e=r2("useRouteError"),i=Tp("useRouteError");return t!==void 0?t:e.errors?.[i]}function u2(){let{router:t}=s2("useNavigate"),e=Tp("useNavigate"),i=T.useRef(!1);return bT(()=>{i.current=!0}),T.useCallback(async(o,u={})=>{Xn(i.current,vT),i.current&&(typeof o=="number"?await t.navigate(o):await t.navigate(o,{fromRouteId:e,...u}))},[t,e])}var l_={};function ST(t,e,i){!e&&!l_[t]&&(l_[t]=!0,Xn(!1,i))}T.memo(c2);function c2({routes:t,future:e,state:i,onError:r}){return _T(t,void 0,i,r,e)}function bm(t){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function f2({basename:t="/",children:e=null,location:i,navigationType:r="POP",navigator:o,static:u=!1,unstable_useTransitions:c}){ot(!tl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),m=T.useMemo(()=>({basename:h,navigator:o,static:u,unstable_useTransitions:c,future:{}}),[h,o,u,c]);typeof i=="string"&&(i=sa(i));let{pathname:d="/",search:g="",hash:y="",state:v=null,key:x="default"}=i,w=T.useMemo(()=>{let C=xi(d,h);return C==null?null:{location:{pathname:C,search:g,hash:y,state:v,key:x},navigationType:r}},[h,d,g,y,v,x,r]);return Xn(w!=null,`<Router basename="${h}"> is not able to match the URL "${d}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:T.createElement(Nn.Provider,{value:m},T.createElement(el.Provider,{children:e,value:w}))}function h2({children:t,location:e}){return ZN(_m(t),e)}function _m(t,e=[]){let i=[];return T.Children.forEach(t,(r,o)=>{if(!T.isValidElement(r))return;let u=[...e,o];if(r.type===T.Fragment){i.push.apply(i,_m(r.props.children,u));return}ot(r.type===bm,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=_m(r.props.children,u)),i.push(c)}),i}var $u="get",Zu="application/x-www-form-urlencoded";function Hc(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function d2(t){return Hc(t)&&t.tagName.toLowerCase()==="button"}function m2(t){return Hc(t)&&t.tagName.toLowerCase()==="form"}function p2(t){return Hc(t)&&t.tagName.toLowerCase()==="input"}function g2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function y2(t,e){return t.button===0&&(!e||e==="_self")&&!g2(t)}var ku=null;function v2(){if(ku===null)try{new FormData(document.createElement("form"),0),ku=!1}catch{ku=!0}return ku}var b2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function kd(t){return t!=null&&!b2.has(t)?(Xn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zu}"`),null):t}function _2(t,e){let i,r,o,u,c;if(m2(t)){let h=t.getAttribute("action");r=h?xi(h,e):null,i=t.getAttribute("method")||$u,o=kd(t.getAttribute("enctype"))||Zu,u=new FormData(t)}else if(d2(t)||p2(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||h.getAttribute("action");if(r=m?xi(m,e):null,i=t.getAttribute("formmethod")||h.getAttribute("method")||$u,o=kd(t.getAttribute("formenctype"))||kd(h.getAttribute("enctype"))||Zu,u=new FormData(h,t),!v2()){let{name:d,type:g,value:y}=t;if(g==="image"){let v=d?`${d}.`:"";u.append(`${v}x`,"0"),u.append(`${v}y`,"0")}else d&&u.append(d,y)}}else{if(Hc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=$u,r=null,o=Zu,c=t}return u&&o==="text/plain"&&(c=u,u=void 0),{action:r,method:i.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function wp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function x2(t,e,i,r){let o=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${r}`:o.pathname=`${o.pathname}.${r}`:o.pathname==="/"?o.pathname=`_root.${r}`:e&&xi(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function S2(t,e){if(t.id in e)return e[t.id];try{let i=await import(t.module);return e[t.id]=i,i}catch(i){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function T2(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function w2(t,e,i){let r=await Promise.all(t.map(async o=>{let u=e.routes[o.route.id];if(u){let c=await S2(u,i);return c.links?c.links():[]}return[]}));return R2(r.flat(1).filter(T2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function u_(t,e,i,r,o,u){let c=(m,d)=>i[d]?m.route.id!==i[d].route.id:!0,h=(m,d)=>i[d].pathname!==m.pathname||i[d].route.path?.endsWith("*")&&i[d].params["*"]!==m.params["*"];return u==="assets"?e.filter((m,d)=>c(m,d)||h(m,d)):u==="data"?e.filter((m,d)=>{let g=r.routes[m.route.id];if(!g||!g.hasLoader)return!1;if(c(m,d)||h(m,d))return!0;if(m.route.shouldRevalidate){let y=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function C2(t,e,{includeHydrateFallback:i}={}){return E2(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function E2(t){return[...new Set(t)]}function A2(t){let e={},i=Object.keys(t).sort();for(let r of i)e[r]=t[r];return e}function R2(t,e){let i=new Set;return new Set(e),t.reduce((r,o)=>{let u=JSON.stringify(A2(o));return i.has(u)||(i.add(u),r.push({key:u,link:o})),r},[])}function TT(){let t=T.useContext(ra);return wp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function N2(){let t=T.useContext(Uc);return wp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Cp=T.createContext(void 0);Cp.displayName="FrameworkContext";function wT(){let t=T.useContext(Cp);return wp(t,"You must render this element inside a <HydratedRouter> element"),t}function M2(t,e){let i=T.useContext(Cp),[r,o]=T.useState(!1),[u,c]=T.useState(!1),{onFocus:h,onBlur:m,onMouseEnter:d,onMouseLeave:g,onTouchStart:y}=e,v=T.useRef(null);T.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let C=A=>{A.forEach(N=>{c(N.isIntersecting)})},E=new IntersectionObserver(C,{threshold:.5});return v.current&&E.observe(v.current),()=>{E.disconnect()}}},[t]),T.useEffect(()=>{if(r){let C=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(C)}}},[r]);let x=()=>{o(!0)},w=()=>{o(!1),c(!1)};return i?t!=="intent"?[u,v,{}]:[u,v,{onFocus:ho(h,x),onBlur:ho(m,w),onMouseEnter:ho(d,x),onMouseLeave:ho(g,w),onTouchStart:ho(y,x)}]:[!1,v,{}]}function ho(t,e){return i=>{t&&t(i),i.defaultPrevented||e(i)}}function D2({page:t,...e}){let{router:i}=TT(),r=T.useMemo(()=>lT(i.routes,t,i.basename),[i.routes,t,i.basename]);return r?T.createElement(O2,{page:t,matches:r,...e}):null}function k2(t){let{manifest:e,routeModules:i}=wT(),[r,o]=T.useState([]);return T.useEffect(()=>{let u=!1;return w2(t,e,i).then(c=>{u||o(c)}),()=>{u=!0}},[t,e,i]),r}function O2({page:t,matches:e,...i}){let r=Qs(),{future:o,manifest:u,routeModules:c}=wT(),{basename:h}=TT(),{loaderData:m,matches:d}=N2(),g=T.useMemo(()=>u_(t,e,d,u,r,"data"),[t,e,d,u,r]),y=T.useMemo(()=>u_(t,e,d,u,r,"assets"),[t,e,d,u,r]),v=T.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let C=new Set,E=!1;if(e.forEach(N=>{let D=u.routes[N.route.id];!D||!D.hasLoader||(!g.some(L=>L.route.id===N.route.id)&&N.route.id in m&&c[N.route.id]?.shouldRevalidate||D.hasClientLoader?E=!0:C.add(N.route.id))}),C.size===0)return[];let A=x2(t,h,o.unstable_trailingSlashAwareDataRequests,"data");return E&&C.size>0&&A.searchParams.set("_routes",e.filter(N=>C.has(N.route.id)).map(N=>N.route.id).join(",")),[A.pathname+A.search]},[h,o.unstable_trailingSlashAwareDataRequests,m,r,u,g,e,t,c]),x=T.useMemo(()=>C2(y,u),[y,u]),w=k2(y);return T.createElement(T.Fragment,null,v.map(C=>T.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...i})),x.map(C=>T.createElement("link",{key:C,rel:"modulepreload",href:C,...i})),w.map(({key:C,link:E})=>T.createElement("link",{key:C,nonce:i.nonce,...E,crossOrigin:E.crossOrigin??i.crossOrigin})))}function L2(...t){return e=>{t.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var j2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{j2&&(window.__reactRouterVersion="7.13.0")}catch{}function P2({basename:t,children:e,unstable_useTransitions:i,window:r}){let o=T.useRef();o.current==null&&(o.current=pN({window:r,v5Compat:!0}));let u=o.current,[c,h]=T.useState({action:u.action,location:u.location}),m=T.useCallback(d=>{i===!1?h(d):T.startTransition(()=>h(d))},[i]);return T.useLayoutEffect(()=>u.listen(m),[u,m]),T.createElement(f2,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:u,unstable_useTransitions:i})}var CT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ET=T.forwardRef(function({onClick:e,discover:i="render",prefetch:r="none",relative:o,reloadDocument:u,replace:c,state:h,target:m,to:d,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:v,...x},w){let{basename:C,unstable_useTransitions:E}=T.useContext(Nn),A=typeof d=="string"&&CT.test(d),N=mT(d,C);d=N.to;let D=XN(d,{relative:o}),[L,B,ne]=M2(r,x),K=B2(d,{replace:c,state:h,target:m,preventScrollReset:g,relative:o,viewTransition:y,unstable_defaultShouldRevalidate:v,unstable_useTransitions:E});function z(se){e&&e(se),se.defaultPrevented||K(se)}let ee=T.createElement("a",{...x,...ne,href:N.absoluteURL||D,onClick:N.isExternal||u?e:z,ref:L2(w,B),target:m,"data-discover":!A&&i==="render"?"true":void 0});return L&&!A?T.createElement(T.Fragment,null,ee,T.createElement(D2,{page:D})):ee});ET.displayName="Link";var I2=T.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:r="",end:o=!1,style:u,to:c,viewTransition:h,children:m,...d},g){let y=nl(c,{relative:d.relative}),v=Qs(),x=T.useContext(Uc),{navigator:w,basename:C}=T.useContext(Nn),E=x!=null&&q2(y)&&h===!0,A=w.encodeLocation?w.encodeLocation(y).pathname:y.pathname,N=v.pathname,D=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;i||(N=N.toLowerCase(),D=D?D.toLowerCase():null,A=A.toLowerCase()),D&&C&&(D=xi(D,C)||D);const L=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let B=N===A||!o&&N.startsWith(A)&&N.charAt(L)==="/",ne=D!=null&&(D===A||!o&&D.startsWith(A)&&D.charAt(A.length)==="/"),K={isActive:B,isPending:ne,isTransitioning:E},z=B?e:void 0,ee;typeof r=="function"?ee=r(K):ee=[r,B?"active":null,ne?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let se=typeof u=="function"?u(K):u;return T.createElement(ET,{...d,"aria-current":z,className:ee,ref:g,style:se,to:c,viewTransition:h},typeof m=="function"?m(K):m)});I2.displayName="NavLink";var V2=T.forwardRef(({discover:t="render",fetcherKey:e,navigate:i,reloadDocument:r,replace:o,state:u,method:c=$u,action:h,onSubmit:m,relative:d,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:v,...x},w)=>{let{unstable_useTransitions:C}=T.useContext(Nn),E=F2(),A=G2(h,{relative:d}),N=c.toLowerCase()==="get"?"get":"post",D=typeof h=="string"&&CT.test(h),L=B=>{if(m&&m(B),B.defaultPrevented)return;B.preventDefault();let ne=B.nativeEvent.submitter,K=ne?.getAttribute("formmethod")||c,z=()=>E(ne||B.currentTarget,{fetcherKey:e,method:K,navigate:i,replace:o,state:u,relative:d,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:v});C&&i!==!1?T.startTransition(()=>z()):z()};return T.createElement("form",{ref:w,method:N,action:A,onSubmit:r?m:L,...x,"data-discover":!D&&t==="render"?"true":void 0})});V2.displayName="Form";function z2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AT(t){let e=T.useContext(ra);return ot(e,z2(t)),e}function B2(t,{target:e,replace:i,state:r,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:m}={}){let d=WN(),g=Qs(),y=nl(t,{relative:u});return T.useCallback(v=>{if(y2(v,e)){v.preventDefault();let x=i!==void 0?i:Io(g)===Io(y),w=()=>d(t,{replace:x,state:r,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:h});m?T.startTransition(()=>w()):w()}},[g,d,y,i,r,e,t,o,u,c,h,m])}var U2=0,H2=()=>`__${String(++U2)}__`;function F2(){let{router:t}=AT("useSubmit"),{basename:e}=T.useContext(Nn),i=o2(),r=t.fetch,o=t.navigate;return T.useCallback(async(u,c={})=>{let{action:h,method:m,encType:d,formData:g,body:y}=_2(u,e);if(c.navigate===!1){let v=c.fetcherKey||H2();await r(v,i,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:y,formMethod:c.method||m,formEncType:c.encType||d,flushSync:c.flushSync})}else await o(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:y,formMethod:c.method||m,formEncType:c.encType||d,replace:c.replace,state:c.state,fromRouteId:i,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,o,e,i])}function G2(t,{relative:e}={}){let{basename:i}=T.useContext(Nn),r=T.useContext(Ei);ot(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...nl(t||".",{relative:e})},c=Qs();if(t==null){u.search=c.search;let h=new URLSearchParams(u.search),m=h.getAll("index");if(m.some(g=>g==="")){h.delete("index"),m.filter(y=>y).forEach(y=>h.append("index",y));let g=h.toString();u.search=g?`?${g}`:""}}return(!t||t===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:bi([i,u.pathname])),Io(u)}function q2(t,{relative:e}={}){let i=T.useContext(gT);ot(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=AT("useViewTransitionState"),o=nl(t,{relative:e});if(!i.isTransitioning)return!1;let u=xi(i.currentLocation.pathname,r)||i.currentLocation.pathname,c=xi(i.nextLocation.pathname,r)||i.nextLocation.pathname;return uc(o.pathname,c)!=null||uc(o.pathname,u)!=null}var c_=oT();const f_=t=>{let e;const i=new Set,r=(d,g)=>{const y=typeof d=="function"?d(e):d;if(!Object.is(y,e)){const v=e;e=g??(typeof y!="object"||y===null)?y:Object.assign({},e,y),i.forEach(x=>x(e,v))}},o=()=>e,h={setState:r,getState:o,getInitialState:()=>m,subscribe:d=>(i.add(d),()=>i.delete(d))},m=e=t(r,o,h);return h},Y2=(t=>t?f_(t):f_),Q2=t=>t;function K2(t,e=Q2){const i=ke.useSyncExternalStore(t.subscribe,ke.useCallback(()=>e(t.getState()),[t,e]),ke.useCallback(()=>e(t.getInitialState()),[t,e]));return ke.useDebugValue(i),i}const h_=t=>{const e=Y2(t),i=r=>K2(e,r);return Object.assign(i,e),i},X2=(t=>t?h_(t):h_),me=X2(t=>({queue:[],addToQueue:e=>t(i=>!e||!e.videoId||!e.title?(console.warn("[Store] Ignored invalid addToQueue:",e),i):{queue:[...i.queue,e]}),insertToQueue:(e,i)=>t(r=>{if(!e||!e.videoId||!e.title)return console.warn("[Store] Ignored invalid insertToQueue:",e),r;const o=[...r.queue];return i<0&&(i=0),i>o.length&&(i=o.length),o.splice(i,0,e),{queue:o}}),removeFromQueue:e=>t(i=>({queue:i.queue.filter(r=>r.id!==e)})),updateQueueItem:(e,i)=>t(r=>({queue:r.queue.map(o=>o.id===e?{...o,...i}:o)})),reorderQueue:e=>t({queue:e}),queueMode:"auto",toggleQueueMode:()=>t(e=>({queueMode:e.queueMode==="auto"?"manual":"auto"})),invitedSongId:null,setInvitedSongId:e=>t({invitedSongId:e}),currentSong:null,isPlaying:!1,waitingForGuest:!1,setWaitingForGuest:e=>t({waitingForGuest:e}),waitCountdown:30,setWaitCountdown:e=>t({waitCountdown:e}),countdownPaused:!1,setCountdownPaused:e=>t({countdownPaused:e}),micAttemptHint:null,setMicAttemptHint:e=>t({micAttemptHint:e}),restartTrigger:0,setCurrentSong:e=>t({currentSong:e}),setIsPlaying:e=>t({isPlaying:e}),triggerRestart:()=>t(e=>({restartTrigger:e.restartTrigger+1,isPlaying:!0})),volume:100,isMuted:!1,setVolume:e=>t({volume:e}),setIsMuted:e=>t({isMuted:e}),isProjectionOpen:!1,setProjectionOpen:e=>t({isProjectionOpen:e})})),W2=(t,e)=>{const i=new Array(t.length+e.length);for(let r=0;r<t.length;r++)i[r]=t[r];for(let r=0;r<e.length;r++)i[t.length+r]=e[r];return i},$2=(t,e)=>({classGroupId:t,validator:e}),RT=(t=new Map,e=null,i)=>({nextPart:t,validators:e,classGroupId:i}),cc="-",d_=[],Z2="arbitrary..",J2=t=>{const e=tM(t),{conflictingClassGroups:i,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return eM(c);const h=c.split(cc),m=h[0]===""&&h.length>1?1:0;return NT(h,m,e)},getConflictingClassGroupIds:(c,h)=>{if(h){const m=r[c],d=i[c];return m?d?W2(d,m):m:d||d_}return i[c]||d_}}},NT=(t,e,i)=>{if(t.length-e===0)return i.classGroupId;const o=t[e],u=i.nextPart.get(o);if(u){const d=NT(t,e+1,u);if(d)return d}const c=i.validators;if(c===null)return;const h=e===0?t.join(cc):t.slice(e).join(cc),m=c.length;for(let d=0;d<m;d++){const g=c[d];if(g.validator(h))return g.classGroupId}},eM=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),i=e.indexOf(":"),r=e.slice(0,i);return r?Z2+r:void 0})(),tM=t=>{const{theme:e,classGroups:i}=t;return nM(i,e)},nM=(t,e)=>{const i=RT();for(const r in t){const o=t[r];Ep(o,i,r,e)}return i},Ep=(t,e,i,r)=>{const o=t.length;for(let u=0;u<o;u++){const c=t[u];iM(c,e,i,r)}},iM=(t,e,i,r)=>{if(typeof t=="string"){sM(t,e,i);return}if(typeof t=="function"){rM(t,e,i,r);return}aM(t,e,i,r)},sM=(t,e,i)=>{const r=t===""?e:MT(e,t);r.classGroupId=i},rM=(t,e,i,r)=>{if(oM(t)){Ep(t(r),e,i,r);return}e.validators===null&&(e.validators=[]),e.validators.push($2(i,t))},aM=(t,e,i,r)=>{const o=Object.entries(t),u=o.length;for(let c=0;c<u;c++){const[h,m]=o[c];Ep(m,MT(e,h),i,r)}},MT=(t,e)=>{let i=t;const r=e.split(cc),o=r.length;for(let u=0;u<o;u++){const c=r[u];let h=i.nextPart.get(c);h||(h=RT(),i.nextPart.set(c,h)),i=h}return i},oM=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,lM=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,i=Object.create(null),r=Object.create(null);const o=(u,c)=>{i[u]=c,e++,e>t&&(e=0,r=i,i=Object.create(null))};return{get(u){let c=i[u];if(c!==void 0)return c;if((c=r[u])!==void 0)return o(u,c),c},set(u,c){u in i?i[u]=c:o(u,c)}}},xm="!",m_=":",uM=[],p_=(t,e,i,r,o)=>({modifiers:t,hasImportantModifier:e,baseClassName:i,maybePostfixModifierPosition:r,isExternal:o}),cM=t=>{const{prefix:e,experimentalParseClassName:i}=t;let r=o=>{const u=[];let c=0,h=0,m=0,d;const g=o.length;for(let C=0;C<g;C++){const E=o[C];if(c===0&&h===0){if(E===m_){u.push(o.slice(m,C)),m=C+1;continue}if(E==="/"){d=C;continue}}E==="["?c++:E==="]"?c--:E==="("?h++:E===")"&&h--}const y=u.length===0?o:o.slice(m);let v=y,x=!1;y.endsWith(xm)?(v=y.slice(0,-1),x=!0):y.startsWith(xm)&&(v=y.slice(1),x=!0);const w=d&&d>m?d-m:void 0;return p_(u,x,v,w)};if(e){const o=e+m_,u=r;r=c=>c.startsWith(o)?u(c.slice(o.length)):p_(uM,!1,c,void 0,!0)}if(i){const o=r;r=u=>i({className:u,parseClassName:o})}return r},fM=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((i,r)=>{e.set(i,1e6+r)}),i=>{const r=[];let o=[];for(let u=0;u<i.length;u++){const c=i[u],h=c[0]==="[",m=e.has(c);h||m?(o.length>0&&(o.sort(),r.push(...o),o=[]),r.push(c)):o.push(c)}return o.length>0&&(o.sort(),r.push(...o)),r}},hM=t=>({cache:lM(t.cacheSize),parseClassName:cM(t),sortModifiers:fM(t),...J2(t)}),dM=/\s+/,mM=(t,e)=>{const{parseClassName:i,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:u}=e,c=[],h=t.trim().split(dM);let m="";for(let d=h.length-1;d>=0;d-=1){const g=h[d],{isExternal:y,modifiers:v,hasImportantModifier:x,baseClassName:w,maybePostfixModifierPosition:C}=i(g);if(y){m=g+(m.length>0?" "+m:m);continue}let E=!!C,A=r(E?w.substring(0,C):w);if(!A){if(!E){m=g+(m.length>0?" "+m:m);continue}if(A=r(w),!A){m=g+(m.length>0?" "+m:m);continue}E=!1}const N=v.length===0?"":v.length===1?v[0]:u(v).join(":"),D=x?N+xm:N,L=D+A;if(c.indexOf(L)>-1)continue;c.push(L);const B=o(A,E);for(let ne=0;ne<B.length;++ne){const K=B[ne];c.push(D+K)}m=g+(m.length>0?" "+m:m)}return m},pM=(...t)=>{let e=0,i,r,o="";for(;e<t.length;)(i=t[e++])&&(r=DT(i))&&(o&&(o+=" "),o+=r);return o},DT=t=>{if(typeof t=="string")return t;let e,i="";for(let r=0;r<t.length;r++)t[r]&&(e=DT(t[r]))&&(i&&(i+=" "),i+=e);return i},gM=(t,...e)=>{let i,r,o,u;const c=m=>{const d=e.reduce((g,y)=>y(g),t());return i=hM(d),r=i.cache.get,o=i.cache.set,u=h,h(m)},h=m=>{const d=r(m);if(d)return d;const g=mM(m,i);return o(m,g),g};return u=c,(...m)=>u(pM(...m))},yM=[],Tt=t=>{const e=i=>i[t]||yM;return e.isThemeGetter=!0,e},kT=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,OT=/^\((?:(\w[\w-]*):)?(.+)\)$/i,vM=/^\d+\/\d+$/,bM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_M=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,SM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,TM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Pr=t=>vM.test(t),Ae=t=>!!t&&!Number.isNaN(Number(t)),Zi=t=>!!t&&Number.isInteger(Number(t)),Od=t=>t.endsWith("%")&&Ae(t.slice(0,-1)),yi=t=>bM.test(t),wM=()=>!0,CM=t=>_M.test(t)&&!xM.test(t),LT=()=>!1,EM=t=>SM.test(t),AM=t=>TM.test(t),RM=t=>!ae(t)&&!oe(t),NM=t=>aa(t,IT,LT),ae=t=>kT.test(t),Ds=t=>aa(t,VT,CM),Ld=t=>aa(t,LM,Ae),g_=t=>aa(t,jT,LT),MM=t=>aa(t,PT,AM),Ou=t=>aa(t,zT,EM),oe=t=>OT.test(t),mo=t=>oa(t,VT),DM=t=>oa(t,jM),y_=t=>oa(t,jT),kM=t=>oa(t,IT),OM=t=>oa(t,PT),Lu=t=>oa(t,zT,!0),aa=(t,e,i)=>{const r=kT.exec(t);return r?r[1]?e(r[1]):i(r[2]):!1},oa=(t,e,i=!1)=>{const r=OT.exec(t);return r?r[1]?e(r[1]):i:!1},jT=t=>t==="position"||t==="percentage",PT=t=>t==="image"||t==="url",IT=t=>t==="length"||t==="size"||t==="bg-size",VT=t=>t==="length",LM=t=>t==="number",jM=t=>t==="family-name",zT=t=>t==="shadow",PM=()=>{const t=Tt("color"),e=Tt("font"),i=Tt("text"),r=Tt("font-weight"),o=Tt("tracking"),u=Tt("leading"),c=Tt("breakpoint"),h=Tt("container"),m=Tt("spacing"),d=Tt("radius"),g=Tt("shadow"),y=Tt("inset-shadow"),v=Tt("text-shadow"),x=Tt("drop-shadow"),w=Tt("blur"),C=Tt("perspective"),E=Tt("aspect"),A=Tt("ease"),N=Tt("animate"),D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],L=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],B=()=>[...L(),oe,ae],ne=()=>["auto","hidden","clip","visible","scroll"],K=()=>["auto","contain","none"],z=()=>[oe,ae,m],ee=()=>[Pr,"full","auto",...z()],se=()=>[Zi,"none","subgrid",oe,ae],ye=()=>["auto",{span:["full",Zi,oe,ae]},Zi,oe,ae],ve=()=>[Zi,"auto",oe,ae],Ee=()=>["auto","min","max","fr",oe,ae],Ve=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],X=()=>["start","end","center","stretch","center-safe","end-safe"],j=()=>["auto",...z()],Y=()=>[Pr,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...z()],H=()=>[t,oe,ae],ie=()=>[...L(),y_,g_,{position:[oe,ae]}],ue=()=>["no-repeat",{repeat:["","x","y","space","round"]}],M=()=>["auto","cover","contain",kM,NM,{size:[oe,ae]}],G=()=>[Od,mo,Ds],W=()=>["","none","full",d,oe,ae],J=()=>["",Ae,mo,Ds],fe=()=>["solid","dashed","dotted","double"],_e=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],de=()=>[Ae,Od,y_,g_],Te=()=>["","none",w,oe,ae],Z=()=>["none",Ae,oe,ae],ce=()=>["none",Ae,oe,ae],$=()=>[Ae,oe,ae],ge=()=>[Pr,"full",...z()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[yi],breakpoint:[yi],color:[wM],container:[yi],"drop-shadow":[yi],ease:["in","out","in-out"],font:[RM],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[yi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[yi],shadow:[yi],spacing:["px",Ae],text:[yi],"text-shadow":[yi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Pr,ae,oe,E]}],container:["container"],columns:[{columns:[Ae,ae,oe,h]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:B()}],overflow:[{overflow:ne()}],"overflow-x":[{"overflow-x":ne()}],"overflow-y":[{"overflow-y":ne()}],overscroll:[{overscroll:K()}],"overscroll-x":[{"overscroll-x":K()}],"overscroll-y":[{"overscroll-y":K()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:ee()}],"inset-x":[{"inset-x":ee()}],"inset-y":[{"inset-y":ee()}],start:[{start:ee()}],end:[{end:ee()}],top:[{top:ee()}],right:[{right:ee()}],bottom:[{bottom:ee()}],left:[{left:ee()}],visibility:["visible","invisible","collapse"],z:[{z:[Zi,"auto",oe,ae]}],basis:[{basis:[Pr,"full","auto",h,...z()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ae,Pr,"auto","initial","none",ae]}],grow:[{grow:["",Ae,oe,ae]}],shrink:[{shrink:["",Ae,oe,ae]}],order:[{order:[Zi,"first","last","none",oe,ae]}],"grid-cols":[{"grid-cols":se()}],"col-start-end":[{col:ye()}],"col-start":[{"col-start":ve()}],"col-end":[{"col-end":ve()}],"grid-rows":[{"grid-rows":se()}],"row-start-end":[{row:ye()}],"row-start":[{"row-start":ve()}],"row-end":[{"row-end":ve()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Ee()}],"auto-rows":[{"auto-rows":Ee()}],gap:[{gap:z()}],"gap-x":[{"gap-x":z()}],"gap-y":[{"gap-y":z()}],"justify-content":[{justify:[...Ve(),"normal"]}],"justify-items":[{"justify-items":[...X(),"normal"]}],"justify-self":[{"justify-self":["auto",...X()]}],"align-content":[{content:["normal",...Ve()]}],"align-items":[{items:[...X(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...X(),{baseline:["","last"]}]}],"place-content":[{"place-content":Ve()}],"place-items":[{"place-items":[...X(),"baseline"]}],"place-self":[{"place-self":["auto",...X()]}],p:[{p:z()}],px:[{px:z()}],py:[{py:z()}],ps:[{ps:z()}],pe:[{pe:z()}],pt:[{pt:z()}],pr:[{pr:z()}],pb:[{pb:z()}],pl:[{pl:z()}],m:[{m:j()}],mx:[{mx:j()}],my:[{my:j()}],ms:[{ms:j()}],me:[{me:j()}],mt:[{mt:j()}],mr:[{mr:j()}],mb:[{mb:j()}],ml:[{ml:j()}],"space-x":[{"space-x":z()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":z()}],"space-y-reverse":["space-y-reverse"],size:[{size:Y()}],w:[{w:[h,"screen",...Y()]}],"min-w":[{"min-w":[h,"screen","none",...Y()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[c]},...Y()]}],h:[{h:["screen","lh",...Y()]}],"min-h":[{"min-h":["screen","lh","none",...Y()]}],"max-h":[{"max-h":["screen","lh",...Y()]}],"font-size":[{text:["base",i,mo,Ds]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,oe,Ld]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Od,ae]}],"font-family":[{font:[DM,ae,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,oe,ae]}],"line-clamp":[{"line-clamp":[Ae,"none",oe,Ld]}],leading:[{leading:[u,...z()]}],"list-image":[{"list-image":["none",oe,ae]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",oe,ae]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:H()}],"text-color":[{text:H()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...fe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ae,"from-font","auto",oe,Ds]}],"text-decoration-color":[{decoration:H()}],"underline-offset":[{"underline-offset":[Ae,"auto",oe,ae]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",oe,ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",oe,ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ie()}],"bg-repeat":[{bg:ue()}],"bg-size":[{bg:M()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Zi,oe,ae],radial:["",oe,ae],conic:[Zi,oe,ae]},OM,MM]}],"bg-color":[{bg:H()}],"gradient-from-pos":[{from:G()}],"gradient-via-pos":[{via:G()}],"gradient-to-pos":[{to:G()}],"gradient-from":[{from:H()}],"gradient-via":[{via:H()}],"gradient-to":[{to:H()}],rounded:[{rounded:W()}],"rounded-s":[{"rounded-s":W()}],"rounded-e":[{"rounded-e":W()}],"rounded-t":[{"rounded-t":W()}],"rounded-r":[{"rounded-r":W()}],"rounded-b":[{"rounded-b":W()}],"rounded-l":[{"rounded-l":W()}],"rounded-ss":[{"rounded-ss":W()}],"rounded-se":[{"rounded-se":W()}],"rounded-ee":[{"rounded-ee":W()}],"rounded-es":[{"rounded-es":W()}],"rounded-tl":[{"rounded-tl":W()}],"rounded-tr":[{"rounded-tr":W()}],"rounded-br":[{"rounded-br":W()}],"rounded-bl":[{"rounded-bl":W()}],"border-w":[{border:J()}],"border-w-x":[{"border-x":J()}],"border-w-y":[{"border-y":J()}],"border-w-s":[{"border-s":J()}],"border-w-e":[{"border-e":J()}],"border-w-t":[{"border-t":J()}],"border-w-r":[{"border-r":J()}],"border-w-b":[{"border-b":J()}],"border-w-l":[{"border-l":J()}],"divide-x":[{"divide-x":J()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":J()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...fe(),"hidden","none"]}],"divide-style":[{divide:[...fe(),"hidden","none"]}],"border-color":[{border:H()}],"border-color-x":[{"border-x":H()}],"border-color-y":[{"border-y":H()}],"border-color-s":[{"border-s":H()}],"border-color-e":[{"border-e":H()}],"border-color-t":[{"border-t":H()}],"border-color-r":[{"border-r":H()}],"border-color-b":[{"border-b":H()}],"border-color-l":[{"border-l":H()}],"divide-color":[{divide:H()}],"outline-style":[{outline:[...fe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ae,oe,ae]}],"outline-w":[{outline:["",Ae,mo,Ds]}],"outline-color":[{outline:H()}],shadow:[{shadow:["","none",g,Lu,Ou]}],"shadow-color":[{shadow:H()}],"inset-shadow":[{"inset-shadow":["none",y,Lu,Ou]}],"inset-shadow-color":[{"inset-shadow":H()}],"ring-w":[{ring:J()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:H()}],"ring-offset-w":[{"ring-offset":[Ae,Ds]}],"ring-offset-color":[{"ring-offset":H()}],"inset-ring-w":[{"inset-ring":J()}],"inset-ring-color":[{"inset-ring":H()}],"text-shadow":[{"text-shadow":["none",v,Lu,Ou]}],"text-shadow-color":[{"text-shadow":H()}],opacity:[{opacity:[Ae,oe,ae]}],"mix-blend":[{"mix-blend":[..._e(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":_e()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ae]}],"mask-image-linear-from-pos":[{"mask-linear-from":de()}],"mask-image-linear-to-pos":[{"mask-linear-to":de()}],"mask-image-linear-from-color":[{"mask-linear-from":H()}],"mask-image-linear-to-color":[{"mask-linear-to":H()}],"mask-image-t-from-pos":[{"mask-t-from":de()}],"mask-image-t-to-pos":[{"mask-t-to":de()}],"mask-image-t-from-color":[{"mask-t-from":H()}],"mask-image-t-to-color":[{"mask-t-to":H()}],"mask-image-r-from-pos":[{"mask-r-from":de()}],"mask-image-r-to-pos":[{"mask-r-to":de()}],"mask-image-r-from-color":[{"mask-r-from":H()}],"mask-image-r-to-color":[{"mask-r-to":H()}],"mask-image-b-from-pos":[{"mask-b-from":de()}],"mask-image-b-to-pos":[{"mask-b-to":de()}],"mask-image-b-from-color":[{"mask-b-from":H()}],"mask-image-b-to-color":[{"mask-b-to":H()}],"mask-image-l-from-pos":[{"mask-l-from":de()}],"mask-image-l-to-pos":[{"mask-l-to":de()}],"mask-image-l-from-color":[{"mask-l-from":H()}],"mask-image-l-to-color":[{"mask-l-to":H()}],"mask-image-x-from-pos":[{"mask-x-from":de()}],"mask-image-x-to-pos":[{"mask-x-to":de()}],"mask-image-x-from-color":[{"mask-x-from":H()}],"mask-image-x-to-color":[{"mask-x-to":H()}],"mask-image-y-from-pos":[{"mask-y-from":de()}],"mask-image-y-to-pos":[{"mask-y-to":de()}],"mask-image-y-from-color":[{"mask-y-from":H()}],"mask-image-y-to-color":[{"mask-y-to":H()}],"mask-image-radial":[{"mask-radial":[oe,ae]}],"mask-image-radial-from-pos":[{"mask-radial-from":de()}],"mask-image-radial-to-pos":[{"mask-radial-to":de()}],"mask-image-radial-from-color":[{"mask-radial-from":H()}],"mask-image-radial-to-color":[{"mask-radial-to":H()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":L()}],"mask-image-conic-pos":[{"mask-conic":[Ae]}],"mask-image-conic-from-pos":[{"mask-conic-from":de()}],"mask-image-conic-to-pos":[{"mask-conic-to":de()}],"mask-image-conic-from-color":[{"mask-conic-from":H()}],"mask-image-conic-to-color":[{"mask-conic-to":H()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ie()}],"mask-repeat":[{mask:ue()}],"mask-size":[{mask:M()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",oe,ae]}],filter:[{filter:["","none",oe,ae]}],blur:[{blur:Te()}],brightness:[{brightness:[Ae,oe,ae]}],contrast:[{contrast:[Ae,oe,ae]}],"drop-shadow":[{"drop-shadow":["","none",x,Lu,Ou]}],"drop-shadow-color":[{"drop-shadow":H()}],grayscale:[{grayscale:["",Ae,oe,ae]}],"hue-rotate":[{"hue-rotate":[Ae,oe,ae]}],invert:[{invert:["",Ae,oe,ae]}],saturate:[{saturate:[Ae,oe,ae]}],sepia:[{sepia:["",Ae,oe,ae]}],"backdrop-filter":[{"backdrop-filter":["","none",oe,ae]}],"backdrop-blur":[{"backdrop-blur":Te()}],"backdrop-brightness":[{"backdrop-brightness":[Ae,oe,ae]}],"backdrop-contrast":[{"backdrop-contrast":[Ae,oe,ae]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ae,oe,ae]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ae,oe,ae]}],"backdrop-invert":[{"backdrop-invert":["",Ae,oe,ae]}],"backdrop-opacity":[{"backdrop-opacity":[Ae,oe,ae]}],"backdrop-saturate":[{"backdrop-saturate":[Ae,oe,ae]}],"backdrop-sepia":[{"backdrop-sepia":["",Ae,oe,ae]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":z()}],"border-spacing-x":[{"border-spacing-x":z()}],"border-spacing-y":[{"border-spacing-y":z()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",oe,ae]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ae,"initial",oe,ae]}],ease:[{ease:["linear","initial",A,oe,ae]}],delay:[{delay:[Ae,oe,ae]}],animate:[{animate:["none",N,oe,ae]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,oe,ae]}],"perspective-origin":[{"perspective-origin":B()}],rotate:[{rotate:Z()}],"rotate-x":[{"rotate-x":Z()}],"rotate-y":[{"rotate-y":Z()}],"rotate-z":[{"rotate-z":Z()}],scale:[{scale:ce()}],"scale-x":[{"scale-x":ce()}],"scale-y":[{"scale-y":ce()}],"scale-z":[{"scale-z":ce()}],"scale-3d":["scale-3d"],skew:[{skew:$()}],"skew-x":[{"skew-x":$()}],"skew-y":[{"skew-y":$()}],transform:[{transform:[oe,ae,"","none","gpu","cpu"]}],"transform-origin":[{origin:B()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ge()}],"translate-x":[{"translate-x":ge()}],"translate-y":[{"translate-y":ge()}],"translate-z":[{"translate-z":ge()}],"translate-none":["translate-none"],accent:[{accent:H()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:H()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",oe,ae]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",oe,ae]}],fill:[{fill:["none",...H()]}],"stroke-w":[{stroke:[Ae,mo,Ds,Ld]}],stroke:[{stroke:["none",...H()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Ap=gM(PM),Br=({children:t,className:e,glass:i=!1,...r})=>_.jsx("div",{className:Ap("rounded-3xl p-6 transition-all duration-300",i?"bg-white/40 backdrop-blur-xl border border-white/60":"bg-white border border-slate-100",e),...r,children:t}),wn=({children:t,className:e,variant:i="primary",...r})=>{const o="px-6 py-3 rounded-2xl font-semibold transition-all duration-300 active:scale-95 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer",u={primary:"bg-slate-800 text-white hover:bg-slate-900",secondary:"bg-white text-slate-700 border border-slate-200 hover:bg-slate-50",danger:"bg-red-50 text-red-600 hover:bg-red-100",ghost:"bg-transparent text-slate-500 hover:bg-slate-100",glass:"bg-white/30 backdrop-blur-md border border-white/50 text-slate-800 hover:bg-white/50"};return _.jsx("button",{className:Ap(o,u[i],e),...r,children:t})};const BT=(...t)=>t.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim();const IM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const VM=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase());const v_=t=>{const e=VM(t);return e.charAt(0).toUpperCase()+e.slice(1)};var zM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const BM=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const UM=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:c,...h},m)=>T.createElement("svg",{ref:m,...zM,width:e,height:e,stroke:t,strokeWidth:r?Number(i)*24/Number(e):i,className:BT("lucide",o),...!u&&!BM(h)&&{"aria-hidden":"true"},...h},[...c.map(([d,g])=>T.createElement(d,g)),...Array.isArray(u)?u:[u]]));const lt=(t,e)=>{const i=T.forwardRef(({className:r,...o},u)=>T.createElement(UM,{ref:u,iconNode:e,className:BT(`lucide-${IM(v_(t))}`,`lucide-${t}`,r),...o}));return i.displayName=v_(t),i};const HM=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],FM=lt("check",HM);const GM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],b_=lt("circle-arrow-up",GM);const qM=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],YM=lt("external-link",qM);const QM=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],KM=lt("grip-vertical",QM);const XM=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],WM=lt("link",XM);const $M=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],ZM=lt("maximize",$M);const JM=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],Vo=lt("mic",JM);const eD=[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]],tD=lt("minimize",eD);const nD=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],UT=lt("music",nD);const iD=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],HT=lt("pause",iD);const sD=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],FT=lt("play",sD);const rD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],aD=lt("plus",rD);const oD=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],lD=lt("rotate-ccw",oD);const uD=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],GT=lt("search",uD);const cD=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],qT=lt("skip-forward",cD);const fD=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Sm=lt("sparkles",fD);const hD=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],dD=lt("square",hD);const mD=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],YT=lt("trash-2",mD);const pD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],gD=lt("user",pD);const yD=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}]],vD=lt("volume-1",yD);const bD=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],_D=lt("volume-2",bD);const xD=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],SD=lt("volume-x",xD);const TD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ju=lt("x",TD),Rp=T.createContext({});function cs(t){const e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}const QT=typeof window<"u",Np=QT?T.useLayoutEffect:T.useEffect,Fc=T.createContext(null);function Mp(t,e){t.indexOf(e)===-1&&t.push(e)}function fc(t,e){const i=t.indexOf(e);i>-1&&t.splice(i,1)}function wD([...t],e,i){const r=e<0?t.length+e:e;if(r>=0&&r<t.length){const o=i<0?t.length+i:i,[u]=t.splice(e,1);t.splice(o,0,u)}return t}const Wn=(t,e,i)=>i>e?e:i<t?t:i;let Dp=()=>{};const Si={},KT=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function XT(t){return typeof t=="object"&&t!==null}const WT=t=>/^0[^.\s]+$/u.test(t);function kp(t){let e;return()=>(e===void 0&&(e=t()),e)}const An=t=>t,CD=(t,e)=>i=>e(t(i)),il=(...t)=>t.reduce(CD),zo=(t,e,i)=>{const r=e-t;return r===0?1:(i-t)/r};class Op{constructor(){this.subscriptions=[]}add(e){return Mp(this.subscriptions,e),()=>fc(this.subscriptions,e)}notify(e,i,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,i,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(e,i,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const In=t=>t*1e3,Cn=t=>t/1e3;function $T(t,e){return e?t*(1e3/e):0}const ZT=(t,e,i)=>(((1-3*i+3*e)*t+(3*i-6*e))*t+3*e)*t,ED=1e-7,AD=12;function RD(t,e,i,r,o){let u,c,h=0;do c=e+(i-e)/2,u=ZT(c,r,o)-t,u>0?i=c:e=c;while(Math.abs(u)>ED&&++h<AD);return c}function sl(t,e,i,r){if(t===e&&i===r)return An;const o=u=>RD(u,0,1,t,i);return u=>u===0||u===1?u:ZT(o(u),e,r)}const JT=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,e1=t=>e=>1-t(1-e),t1=sl(.33,1.53,.69,.99),Lp=e1(t1),n1=JT(Lp),i1=t=>(t*=2)<1?.5*Lp(t):.5*(2-Math.pow(2,-10*(t-1))),jp=t=>1-Math.sin(Math.acos(t)),s1=e1(jp),r1=JT(jp),ND=sl(.42,0,1,1),MD=sl(0,0,.58,1),a1=sl(.42,0,.58,1),DD=t=>Array.isArray(t)&&typeof t[0]!="number",o1=t=>Array.isArray(t)&&typeof t[0]=="number",kD={linear:An,easeIn:ND,easeInOut:a1,easeOut:MD,circIn:jp,circInOut:r1,circOut:s1,backIn:Lp,backInOut:n1,backOut:t1,anticipate:i1},OD=t=>typeof t=="string",__=t=>{if(o1(t)){Dp(t.length===4);const[e,i,r,o]=t;return sl(e,i,r,o)}else if(OD(t))return kD[t];return t},ju=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function LD(t,e){let i=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function m(g){c.has(g)&&(d.schedule(g),t()),g(h)}const d={schedule:(g,y=!1,v=!1)=>{const w=v&&o?i:r;return y&&c.add(g),w.has(g)||w.add(g),g},cancel:g=>{r.delete(g),c.delete(g)},process:g=>{if(h=g,o){u=!0;return}o=!0,[i,r]=[r,i],i.forEach(m),i.clear(),o=!1,u&&(u=!1,d.process(g))}};return d}const jD=40;function l1(t,e){let i=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>i=!0,c=ju.reduce((D,L)=>(D[L]=LD(u),D),{}),{setup:h,read:m,resolveKeyframes:d,preUpdate:g,update:y,preRender:v,render:x,postRender:w}=c,C=()=>{const D=Si.useManualTiming?o.timestamp:performance.now();i=!1,Si.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(D-o.timestamp,jD),1)),o.timestamp=D,o.isProcessing=!0,h.process(o),m.process(o),d.process(o),g.process(o),y.process(o),v.process(o),x.process(o),w.process(o),o.isProcessing=!1,i&&e&&(r=!1,t(C))},E=()=>{i=!0,r=!0,o.isProcessing||t(C)};return{schedule:ju.reduce((D,L)=>{const B=c[L];return D[L]=(ne,K=!1,z=!1)=>(i||E(),B.schedule(ne,K,z)),D},{}),cancel:D=>{for(let L=0;L<ju.length;L++)c[ju[L]].cancel(D)},state:o,steps:c}}const{schedule:We,cancel:Ti,state:Vt,steps:jd}=l1(typeof requestAnimationFrame<"u"?requestAnimationFrame:An,!0);let ec;function PD(){ec=void 0}const Gt={now:()=>(ec===void 0&&Gt.set(Vt.isProcessing||Si.useManualTiming?Vt.timestamp:performance.now()),ec),set:t=>{ec=t,queueMicrotask(PD)}},u1=t=>e=>typeof e=="string"&&e.startsWith(t),c1=u1("--"),ID=u1("var(--"),Pp=t=>ID(t)?VD.test(t.split("/*")[0].trim()):!1,VD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function x_(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const la={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Bo={...la,transform:t=>Wn(0,1,t)},Pu={...la,default:1},So=t=>Math.round(t*1e5)/1e5,Ip=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function zD(t){return t==null}const BD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Vp=(t,e)=>i=>!!(typeof i=="string"&&BD.test(i)&&i.startsWith(t)||e&&!zD(i)&&Object.prototype.hasOwnProperty.call(i,e)),f1=(t,e,i)=>r=>{if(typeof r!="string")return r;const[o,u,c,h]=r.match(Ip);return{[t]:parseFloat(o),[e]:parseFloat(u),[i]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},UD=t=>Wn(0,255,t),Pd={...la,transform:t=>Math.round(UD(t))},Ps={test:Vp("rgb","red"),parse:f1("red","green","blue"),transform:({red:t,green:e,blue:i,alpha:r=1})=>"rgba("+Pd.transform(t)+", "+Pd.transform(e)+", "+Pd.transform(i)+", "+So(Bo.transform(r))+")"};function HD(t){let e="",i="",r="",o="";return t.length>5?(e=t.substring(1,3),i=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),i=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,i+=i,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(i,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Tm={test:Vp("#"),parse:HD,transform:Ps.transform},rl=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ji=rl("deg"),Kn=rl("%"),le=rl("px"),FD=rl("vh"),GD=rl("vw"),S_={...Kn,parse:t=>Kn.parse(t)/100,transform:t=>Kn.transform(t*100)},Ur={test:Vp("hsl","hue"),parse:f1("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:i,alpha:r=1})=>"hsla("+Math.round(t)+", "+Kn.transform(So(e))+", "+Kn.transform(So(i))+", "+So(Bo.transform(r))+")"},_t={test:t=>Ps.test(t)||Tm.test(t)||Ur.test(t),parse:t=>Ps.test(t)?Ps.parse(t):Ur.test(t)?Ur.parse(t):Tm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ps.transform(t):Ur.transform(t),getAnimatableNone:t=>{const e=_t.parse(t);return e.alpha=0,_t.transform(e)}},qD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function YD(t){return isNaN(t)&&typeof t=="string"&&(t.match(Ip)?.length||0)+(t.match(qD)?.length||0)>0}const h1="number",d1="color",QD="var",KD="var(",T_="${}",XD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Uo(t){const e=t.toString(),i=[],r={color:[],number:[],var:[]},o=[];let u=0;const h=e.replace(XD,m=>(_t.test(m)?(r.color.push(u),o.push(d1),i.push(_t.parse(m))):m.startsWith(KD)?(r.var.push(u),o.push(QD),i.push(m)):(r.number.push(u),o.push(h1),i.push(parseFloat(m))),++u,T_)).split(T_);return{values:i,split:h,indexes:r,types:o}}function m1(t){return Uo(t).values}function p1(t){const{split:e,types:i}=Uo(t),r=e.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=e[c],o[c]!==void 0){const h=i[c];h===h1?u+=So(o[c]):h===d1?u+=_t.transform(o[c]):u+=o[c]}return u}}const WD=t=>typeof t=="number"?0:_t.test(t)?_t.getAnimatableNone(t):t;function $D(t){const e=m1(t);return p1(t)(e.map(WD))}const as={test:YD,parse:m1,createTransformer:p1,getAnimatableNone:$D};function Id(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+(e-t)*6*i:i<1/2?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function ZD({hue:t,saturation:e,lightness:i,alpha:r}){t/=360,e/=100,i/=100;let o=0,u=0,c=0;if(!e)o=u=c=i;else{const h=i<.5?i*(1+e):i+e-i*e,m=2*i-h;o=Id(m,h,t+1/3),u=Id(m,h,t),c=Id(m,h,t-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function hc(t,e){return i=>i>0?e:t}const rt=(t,e,i)=>t+(e-t)*i,Vd=(t,e,i)=>{const r=t*t,o=i*(e*e-r)+r;return o<0?0:Math.sqrt(o)},JD=[Tm,Ps,Ur],ek=t=>JD.find(e=>e.test(t));function w_(t){const e=ek(t);if(!e)return!1;let i=e.parse(t);return e===Ur&&(i=ZD(i)),i}const C_=(t,e)=>{const i=w_(t),r=w_(e);if(!i||!r)return hc(t,e);const o={...i};return u=>(o.red=Vd(i.red,r.red,u),o.green=Vd(i.green,r.green,u),o.blue=Vd(i.blue,r.blue,u),o.alpha=rt(i.alpha,r.alpha,u),Ps.transform(o))},wm=new Set(["none","hidden"]);function tk(t,e){return wm.has(t)?i=>i<=0?t:e:i=>i>=1?e:t}function nk(t,e){return i=>rt(t,e,i)}function zp(t){return typeof t=="number"?nk:typeof t=="string"?Pp(t)?hc:_t.test(t)?C_:rk:Array.isArray(t)?g1:typeof t=="object"?_t.test(t)?C_:ik:hc}function g1(t,e){const i=[...t],r=i.length,o=t.map((u,c)=>zp(u)(u,e[c]));return u=>{for(let c=0;c<r;c++)i[c]=o[c](u);return i}}function ik(t,e){const i={...t,...e},r={};for(const o in i)t[o]!==void 0&&e[o]!==void 0&&(r[o]=zp(t[o])(t[o],e[o]));return o=>{for(const u in r)i[u]=r[u](o);return i}}function sk(t,e){const i=[],r={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const u=e.types[o],c=t.indexes[u][r[u]],h=t.values[c]??0;i[o]=h,r[u]++}return i}const rk=(t,e)=>{const i=as.createTransformer(e),r=Uo(t),o=Uo(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?wm.has(t)&&!o.values.length||wm.has(e)&&!r.values.length?tk(t,e):il(g1(sk(r,o),o.values),i):hc(t,e)};function y1(t,e,i){return typeof t=="number"&&typeof e=="number"&&typeof i=="number"?rt(t,e,i):zp(t)(t,e)}const ak=t=>{const e=({timestamp:i})=>t(i);return{start:(i=!0)=>We.update(e,i),stop:()=>Ti(e),now:()=>Vt.isProcessing?Vt.timestamp:Gt.now()}},v1=(t,e,i=10)=>{let r="";const o=Math.max(Math.round(e/i),2);for(let u=0;u<o;u++)r+=Math.round(t(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},dc=2e4;function Bp(t){let e=0;const i=50;let r=t.next(e);for(;!r.done&&e<dc;)e+=i,r=t.next(e);return e>=dc?1/0:e}function ok(t,e=100,i){const r=i({...t,keyframes:[0,e]}),o=Math.min(Bp(r),dc);return{type:"keyframes",ease:u=>r.next(o*u).value/e,duration:Cn(o)}}const lk=5;function b1(t,e,i){const r=Math.max(e-lk,0);return $T(i-t(r),e-r)}const ft={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},zd=.001;function uk({duration:t=ft.duration,bounce:e=ft.bounce,velocity:i=ft.velocity,mass:r=ft.mass}){let o,u,c=1-e;c=Wn(ft.minDamping,ft.maxDamping,c),t=Wn(ft.minDuration,ft.maxDuration,Cn(t)),c<1?(o=d=>{const g=d*c,y=g*t,v=g-i,x=Cm(d,c),w=Math.exp(-y);return zd-v/x*w},u=d=>{const y=d*c*t,v=y*i+i,x=Math.pow(c,2)*Math.pow(d,2)*t,w=Math.exp(-y),C=Cm(Math.pow(d,2),c);return(-o(d)+zd>0?-1:1)*((v-x)*w)/C}):(o=d=>{const g=Math.exp(-d*t),y=(d-i)*t+1;return-zd+g*y},u=d=>{const g=Math.exp(-d*t),y=(i-d)*(t*t);return g*y});const h=5/t,m=fk(o,u,h);if(t=In(t),isNaN(m))return{stiffness:ft.stiffness,damping:ft.damping,duration:t};{const d=Math.pow(m,2)*r;return{stiffness:d,damping:c*2*Math.sqrt(r*d),duration:t}}}const ck=12;function fk(t,e,i){let r=i;for(let o=1;o<ck;o++)r=r-t(r)/e(r);return r}function Cm(t,e){return t*Math.sqrt(1-e*e)}const hk=["duration","bounce"],dk=["stiffness","damping","mass"];function E_(t,e){return e.some(i=>t[i]!==void 0)}function mk(t){let e={velocity:ft.velocity,stiffness:ft.stiffness,damping:ft.damping,mass:ft.mass,isResolvedFromDuration:!1,...t};if(!E_(t,dk)&&E_(t,hk))if(t.visualDuration){const i=t.visualDuration,r=2*Math.PI/(i*1.2),o=r*r,u=2*Wn(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:ft.mass,stiffness:o,damping:u}}else{const i=uk(t);e={...e,...i,mass:ft.mass},e.isResolvedFromDuration=!0}return e}function mc(t=ft.visualDuration,e=ft.bounce){const i=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:o}=i;const u=i.keyframes[0],c=i.keyframes[i.keyframes.length-1],h={done:!1,value:u},{stiffness:m,damping:d,mass:g,duration:y,velocity:v,isResolvedFromDuration:x}=mk({...i,velocity:-Cn(i.velocity||0)}),w=v||0,C=d/(2*Math.sqrt(m*g)),E=c-u,A=Cn(Math.sqrt(m/g)),N=Math.abs(E)<5;r||(r=N?ft.restSpeed.granular:ft.restSpeed.default),o||(o=N?ft.restDelta.granular:ft.restDelta.default);let D;if(C<1){const B=Cm(A,C);D=ne=>{const K=Math.exp(-C*A*ne);return c-K*((w+C*A*E)/B*Math.sin(B*ne)+E*Math.cos(B*ne))}}else if(C===1)D=B=>c-Math.exp(-A*B)*(E+(w+A*E)*B);else{const B=A*Math.sqrt(C*C-1);D=ne=>{const K=Math.exp(-C*A*ne),z=Math.min(B*ne,300);return c-K*((w+C*A*E)*Math.sinh(z)+B*E*Math.cosh(z))/B}}const L={calculatedDuration:x&&y||null,next:B=>{const ne=D(B);if(x)h.done=B>=y;else{let K=B===0?w:0;C<1&&(K=B===0?In(w):b1(D,B,ne));const z=Math.abs(K)<=r,ee=Math.abs(c-ne)<=o;h.done=z&&ee}return h.value=h.done?c:ne,h},toString:()=>{const B=Math.min(Bp(L),dc),ne=v1(K=>L.next(B*K).value,B,30);return B+"ms "+ne},toTransition:()=>{}};return L}mc.applyToOptions=t=>{const e=ok(t,100,mc);return t.ease=e.ease,t.duration=In(e.duration),t.type="keyframes",t};function Em({keyframes:t,velocity:e=0,power:i=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:h,max:m,restDelta:d=.5,restSpeed:g}){const y=t[0],v={done:!1,value:y},x=z=>h!==void 0&&z<h||m!==void 0&&z>m,w=z=>h===void 0?m:m===void 0||Math.abs(h-z)<Math.abs(m-z)?h:m;let C=i*e;const E=y+C,A=c===void 0?E:c(E);A!==E&&(C=A-y);const N=z=>-C*Math.exp(-z/r),D=z=>A+N(z),L=z=>{const ee=N(z),se=D(z);v.done=Math.abs(ee)<=d,v.value=v.done?A:se};let B,ne;const K=z=>{x(v.value)&&(B=z,ne=mc({keyframes:[v.value,w(v.value)],velocity:b1(D,z,v.value),damping:o,stiffness:u,restDelta:d,restSpeed:g}))};return K(0),{calculatedDuration:null,next:z=>{let ee=!1;return!ne&&B===void 0&&(ee=!0,L(z),K(z)),B!==void 0&&z>=B?ne.next(z-B):(!ee&&L(z),v)}}}function pk(t,e,i){const r=[],o=i||Si.mix||y1,u=t.length-1;for(let c=0;c<u;c++){let h=o(t[c],t[c+1]);if(e){const m=Array.isArray(e)?e[c]||An:e;h=il(m,h)}r.push(h)}return r}function _1(t,e,{clamp:i=!0,ease:r,mixer:o}={}){const u=t.length;if(Dp(u===e.length),u===1)return()=>e[0];if(u===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[u-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=pk(e,r,o),m=h.length,d=g=>{if(c&&g<t[0])return e[0];let y=0;if(m>1)for(;y<t.length-2&&!(g<t[y+1]);y++);const v=zo(t[y],t[y+1],g);return h[y](v)};return i?g=>d(Wn(t[0],t[u-1],g)):d}function gk(t,e){const i=t[t.length-1];for(let r=1;r<=e;r++){const o=zo(0,e,r);t.push(rt(i,1,o))}}function yk(t){const e=[0];return gk(e,t.length-1),e}function vk(t,e){return t.map(i=>i*e)}function bk(t,e){return t.map(()=>e||a1).splice(0,t.length-1)}function To({duration:t=300,keyframes:e,times:i,ease:r="easeInOut"}){const o=DD(r)?r.map(__):__(r),u={done:!1,value:e[0]},c=vk(i&&i.length===e.length?i:yk(e),t),h=_1(c,e,{ease:Array.isArray(o)?o:bk(e,o)});return{calculatedDuration:t,next:m=>(u.value=h(m),u.done=m>=t,u)}}const _k=t=>t!==null;function Up(t,{repeat:e,repeatType:i="loop"},r,o=1){const u=t.filter(_k),h=o<0||e&&i!=="loop"&&e%2===1?0:u.length-1;return!h||r===void 0?u[h]:r}const xk={decay:Em,inertia:Em,tween:To,keyframes:To,spring:mc};function x1(t){typeof t.type=="string"&&(t.type=xk[t.type])}class Hp{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,i){return this.finished.then(e,i)}}const Sk=t=>t/100;class Fp extends Hp{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:i}=this.options;i&&i.updatedAt!==Gt.now()&&this.tick(Gt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;x1(e);const{type:i=To,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=e;let{keyframes:h}=e;const m=i||To;m!==To&&typeof h[0]!="number"&&(this.mixKeyframes=il(Sk,y1(h[0],h[1])),h=[0,100]);const d=m({...e,keyframes:h});u==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...h].reverse(),velocity:-c})),d.calculatedDuration===null&&(d.calculatedDuration=Bp(d));const{calculatedDuration:g}=d;this.calculatedDuration=g,this.resolvedDuration=g+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=d}updateTime(e){const i=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(e,i=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:m}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:g,repeat:y,repeatType:v,repeatDelay:x,type:w,onUpdate:C,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),i?this.currentTime=e:this.updateTime(e);const A=this.currentTime-d*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?A<0:A>o;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let D=this.currentTime,L=r;if(y){const z=Math.min(this.currentTime,o)/h;let ee=Math.floor(z),se=z%1;!se&&z>=1&&(se=1),se===1&&ee--,ee=Math.min(ee,y+1),ee%2&&(v==="reverse"?(se=1-se,x&&(se-=x/h)):v==="mirror"&&(L=c)),D=Wn(0,1,se)*h}const B=N?{done:!1,value:g[0]}:L.next(D);u&&(B.value=u(B.value));let{done:ne}=B;!N&&m!==null&&(ne=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const K=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ne);return K&&w!==Em&&(B.value=Up(g,this.options,E,this.speed)),C&&C(B.value),K&&this.finish(),B}then(e,i){return this.finished.then(e,i)}get duration(){return Cn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Cn(e)}get time(){return Cn(this.currentTime)}set time(e){e=In(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Gt.now());const i=this.playbackSpeed!==e;this.playbackSpeed=e,i&&(this.time=Cn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=ak,startTime:i}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=i??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Gt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Tk(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Is=t=>t*180/Math.PI,Am=t=>{const e=Is(Math.atan2(t[1],t[0]));return Rm(e)},wk={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Am,rotateZ:Am,skewX:t=>Is(Math.atan(t[1])),skewY:t=>Is(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Rm=t=>(t=t%360,t<0&&(t+=360),t),A_=Am,R_=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),N_=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Ck={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:R_,scaleY:N_,scale:t=>(R_(t)+N_(t))/2,rotateX:t=>Rm(Is(Math.atan2(t[6],t[5]))),rotateY:t=>Rm(Is(Math.atan2(-t[2],t[0]))),rotateZ:A_,rotate:A_,skewX:t=>Is(Math.atan(t[4])),skewY:t=>Is(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Nm(t){return t.includes("scale")?1:0}function Mm(t,e){if(!t||t==="none")return Nm(e);const i=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(i)r=Ck,o=i;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=wk,o=h}if(!o)return Nm(e);const u=r[e],c=o[1].split(",").map(Ak);return typeof u=="function"?u(c):c[u]}const Ek=(t,e)=>{const{transform:i="none"}=getComputedStyle(t);return Mm(i,e)};function Ak(t){return parseFloat(t.trim())}const ua=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ca=new Set(ua),M_=t=>t===la||t===le,Rk=new Set(["x","y","z"]),Nk=ua.filter(t=>!Rk.has(t));function Mk(t){const e=[];return Nk.forEach(i=>{const r=t.getValue(i);r!==void 0&&(e.push([i,r.get()]),r.set(i.startsWith("scale")?1:0))}),e}const es={width:({x:t},{paddingLeft:e="0",paddingRight:i="0"})=>t.max-t.min-parseFloat(e)-parseFloat(i),height:({y:t},{paddingTop:e="0",paddingBottom:i="0"})=>t.max-t.min-parseFloat(e)-parseFloat(i),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Mm(e,"x"),y:(t,{transform:e})=>Mm(e,"y")};es.translateX=es.x;es.translateY=es.y;const zs=new Set;let Dm=!1,km=!1,Om=!1;function S1(){if(km){const t=Array.from(zs).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),i=new Map;e.forEach(r=>{const o=Mk(r);o.length&&(i.set(r,o),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=i.get(r);o&&o.forEach(([u,c])=>{r.getValue(u)?.set(c)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}km=!1,Dm=!1,zs.forEach(t=>t.complete(Om)),zs.clear()}function T1(){zs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(km=!0)})}function Dk(){Om=!0,T1(),S1(),Om=!1}class Gp{constructor(e,i,r,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=i,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(zs.add(this),Dm||(Dm=!0,We.read(T1),We.resolveKeyframes(S1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:i,element:r,motionValue:o}=this;if(e[0]===null){const u=o?.get(),c=e[e.length-1];if(u!==void 0)e[0]=u;else if(r&&i){const h=r.readValue(i,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),o&&u===void 0&&o.set(e[0])}Tk(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),zs.delete(this)}cancel(){this.state==="scheduled"&&(zs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const kk=t=>t.startsWith("--");function Ok(t,e,i){kk(e)?t.style.setProperty(e,i):t.style[e]=i}const Lk=kp(()=>window.ScrollTimeline!==void 0),jk={};function Pk(t,e){const i=kp(t);return()=>jk[e]??i()}const w1=Pk(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),_o=([t,e,i,r])=>`cubic-bezier(${t}, ${e}, ${i}, ${r})`,D_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:_o([0,.65,.55,1]),circOut:_o([.55,0,1,.45]),backIn:_o([.31,.01,.66,-.59]),backOut:_o([.33,1.53,.69,.99])};function C1(t,e){if(t)return typeof t=="function"?w1()?v1(t,e):"ease-out":o1(t)?_o(t):Array.isArray(t)?t.map(i=>C1(i,e)||D_.easeOut):D_[t]}function Ik(t,e,i,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:h="easeOut",times:m}={},d=void 0){const g={[e]:i};m&&(g.offset=m);const y=C1(h,o);Array.isArray(y)&&(g.easing=y);const v={delay:r,duration:o,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return d&&(v.pseudoElement=d),t.animate(g,v)}function E1(t){return typeof t=="function"&&"applyToOptions"in t}function Vk({type:t,...e}){return E1(t)&&w1()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class A1 extends Hp{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:i,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:h,onComplete:m}=e;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=e,Dp(typeof e.type!="string");const d=Vk(e);this.animation=Ik(i,r,o,d,u),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const g=Up(o,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):Ok(i,r,g),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Cn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Cn(e)}get time(){return Cn(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=In(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:i}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Lk()?(this.animation.timeline=e,An):i(this)}}const R1={anticipate:i1,backInOut:n1,circInOut:r1};function zk(t){return t in R1}function Bk(t){typeof t.ease=="string"&&zk(t.ease)&&(t.ease=R1[t.ease])}const Bd=10;class Uk extends A1{constructor(e){Bk(e),x1(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:i,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!i)return;if(e!==void 0){i.set(e);return}const h=new Fp({...c,autoplay:!1}),m=Math.max(Bd,Gt.now()-this.startTime),d=Wn(0,Bd,m-Bd);i.setWithVelocity(h.sample(Math.max(0,m-d)).value,h.sample(m).value,d),h.stop()}}const k_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(as.test(t)||t==="0")&&!t.startsWith("url("));function Hk(t){const e=t[0];if(t.length===1)return!0;for(let i=0;i<t.length;i++)if(t[i]!==e)return!0}function Fk(t,e,i,r){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const u=t[t.length-1],c=k_(o,e),h=k_(u,e);return!c||!h?!1:Hk(t)||(i==="spring"||E1(i))&&r}function Lm(t){t.duration=0,t.type="keyframes"}const Gk=new Set(["opacity","clipPath","filter","transform"]),qk=kp(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Yk(t){const{motionValue:e,name:i,repeatDelay:r,repeatType:o,damping:u,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:d}=e.owner.getProps();return qk()&&i&&Gk.has(i)&&(i!=="transform"||!d)&&!m&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const Qk=40;class Kk extends Hp{constructor({autoplay:e=!0,delay:i=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:h,name:m,motionValue:d,element:g,...y}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Gt.now();const v={autoplay:e,delay:i,type:r,repeat:o,repeatDelay:u,repeatType:c,name:m,motionValue:d,element:g,...y},x=g?.KeyframeResolver||Gp;this.keyframeResolver=new x(h,(w,C,E)=>this.onKeyframesResolved(w,C,v,!E),m,d,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,i,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:h,delay:m,isHandoff:d,onUpdate:g}=r;this.resolvedAt=Gt.now(),Fk(e,u,c,h)||((Si.instantAnimations||!m)&&g?.(Up(e,r,i)),e[0]=e[e.length-1],Lm(r),r.repeat=0);const v={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>Qk?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...r,keyframes:e},x=!d&&Yk(v),w=v.motionValue?.owner?.current,C=x?new Uk({...v,element:w}):new Fp(v);C.finished.then(()=>{this.notifyFinished()}).catch(An),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(e,i){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Dk()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function N1(t,e,i,r=0,o=1){const u=Array.from(t).sort((d,g)=>d.sortNodePosition(g)).indexOf(e),c=t.size,h=(c-1)*r;return typeof i=="function"?i(u,c):o===1?u*r:h-u*r}const Xk=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Wk(t){const e=Xk.exec(t);if(!e)return[,];const[,i,r,o]=e;return[`--${i??r}`,o]}function M1(t,e,i=1){const[r,o]=Wk(t);if(!r)return;const u=window.getComputedStyle(e).getPropertyValue(r);if(u){const c=u.trim();return KT(c)?parseFloat(c):c}return Pp(o)?M1(o,e,i+1):o}const $k={type:"spring",stiffness:500,damping:25,restSpeed:10},Zk=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Jk={type:"keyframes",duration:.8},eO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},tO=(t,{keyframes:e})=>e.length>2?Jk:ca.has(t)?t.startsWith("scale")?Zk(e[1]):$k:eO,nO=t=>t!==null;function iO(t,{repeat:e,repeatType:i="loop"},r){const o=t.filter(nO),u=e&&i!=="loop"&&e%2===1?0:o.length-1;return o[u]}function D1(t,e){if(t?.inherit&&e){const{inherit:i,...r}=t;return{...e,...r}}return t}function qp(t,e){const i=t?.[e]??t?.default??t;return i!==t?D1(i,t):i}function sO({when:t,delay:e,delayChildren:i,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:h,from:m,elapsed:d,...g}){return!!Object.keys(g).length}const Yp=(t,e,i,r={},o,u)=>c=>{const h=qp(r,t)||{},m=h.delay||r.delay||0;let{elapsed:d=0}=r;d=d-In(m);const g={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-d,onUpdate:v=>{e.set(v),h.onUpdate&&h.onUpdate(v)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:u?void 0:o};sO(h)||Object.assign(g,tO(t,g)),g.duration&&(g.duration=In(g.duration)),g.repeatDelay&&(g.repeatDelay=In(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(Lm(g),g.delay===0&&(y=!0)),(Si.instantAnimations||Si.skipAnimations||o?.shouldSkipAnimations)&&(y=!0,Lm(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,y&&!u&&e.get()!==void 0){const v=iO(g.keyframes,h);if(v!==void 0){We.update(()=>{g.onUpdate(v),g.onComplete()});return}}return h.isSync?new Fp(g):new Kk(g)};function O_(t){const e=[{},{}];return t?.values.forEach((i,r)=>{e[0][r]=i.get(),e[1][r]=i.getVelocity()}),e}function Qp(t,e,i,r){if(typeof e=="function"){const[o,u]=O_(r);e=e(i!==void 0?i:t.custom,o,u)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,u]=O_(r);e=e(i!==void 0?i:t.custom,o,u)}return e}function Qr(t,e,i){const r=t.getProps();return Qp(r,e,i!==void 0?i:r.custom,t)}const k1=new Set(["width","height","top","left","right","bottom",...ua]),L_=30,rO=t=>!isNaN(parseFloat(t)),wo={current:void 0};class aO{constructor(e,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=Gt.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=i.owner}setCurrent(e){this.current=e,this.updatedAt=Gt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=rO(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,i){this.events[e]||(this.events[e]=new Op);const r=this.events[e].add(i);return e==="change"?()=>{r(),We.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,i){this.passiveEffect=e,this.stopPassiveEffect=i}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,i,r){this.set(i),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,i=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return wo.current&&wo.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Gt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>L_)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,L_);return $T(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(e){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=e(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Us(t,e){return new aO(t,e)}const jm=t=>Array.isArray(t);function oO(t,e,i){t.hasValue(e)?t.getValue(e).set(i):t.addValue(e,Us(i))}function lO(t){return jm(t)?t[t.length-1]||0:t}function uO(t,e){const i=Qr(t,e);let{transitionEnd:r={},transition:o={},...u}=i||{};u={...u,...r};for(const c in u){const h=lO(u[c]);oO(t,c,h)}}const Bt=t=>!!(t&&t.getVelocity);function cO(t){return!!(Bt(t)&&t.add)}function Pm(t,e){const i=t.getValue("willChange");if(cO(i))return i.add(e);if(!i&&Si.WillChange){const r=new Si.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Kp(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const fO="framerAppearId",O1="data-"+Kp(fO);function L1(t){return t.props[O1]}function hO({protectedKeys:t,needsAnimating:e},i){const r=t.hasOwnProperty(i)&&e[i]!==!0;return e[i]=!1,r}function j1(t,e,{delay:i=0,transitionOverride:r,type:o}={}){let{transition:u,transitionEnd:c,...h}=e;const m=t.getDefaultTransition();u=u?D1(u,m):m;const d=u?.reduceMotion;r&&(u=r);const g=[],y=o&&t.animationState&&t.animationState.getState()[o];for(const v in h){const x=t.getValue(v,t.latestValues[v]??null),w=h[v];if(w===void 0||y&&hO(y,v))continue;const C={delay:i,...qp(u||{},v)},E=x.get();if(E!==void 0&&!x.isAnimating&&!Array.isArray(w)&&w===E&&!C.velocity)continue;let A=!1;if(window.MotionHandoffAnimation){const L=L1(t);if(L){const B=window.MotionHandoffAnimation(L,v,We);B!==null&&(C.startTime=B,A=!0)}}Pm(t,v);const N=d??t.shouldReduceMotion;x.start(Yp(v,x,w,N&&k1.has(v)?{type:!1}:C,t,A));const D=x.animation;D&&g.push(D)}if(c){const v=()=>We.update(()=>{c&&uO(t,c)});g.length?Promise.all(g).then(v):v()}return g}function Im(t,e,i={}){const r=Qr(t,e,i.type==="exit"?t.presenceContext?.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=r||{};i.transitionOverride&&(o=i.transitionOverride);const u=r?()=>Promise.all(j1(t,r,i)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:d=0,staggerChildren:g,staggerDirection:y}=o;return dO(t,e,m,d,g,y,i)}:()=>Promise.resolve(),{when:h}=o;if(h){const[m,d]=h==="beforeChildren"?[u,c]:[c,u];return m().then(()=>d())}else return Promise.all([u(),c(i.delay)])}function dO(t,e,i=0,r=0,o=0,u=1,c){const h=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),h.push(Im(m,e,{...c,delay:i+(typeof r=="function"?0:r)+N1(t.variantChildren,m,r,o,u)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(h)}function mO(t,e,i={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(u=>Im(t,u,i));r=Promise.all(o)}else if(typeof e=="string")r=Im(t,e,i);else{const o=typeof e=="function"?Qr(t,e,i.custom):e;r=Promise.all(j1(t,o,i))}return r.then(()=>{t.notify("AnimationComplete",e)})}const pO={test:t=>t==="auto",parse:t=>t},P1=t=>e=>e.test(t),I1=[la,le,Kn,Ji,GD,FD,pO],j_=t=>I1.find(P1(t));function gO(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||WT(t):!0}const yO=new Set(["brightness","contrast","saturate","opacity"]);function vO(t){const[e,i]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=i.match(Ip)||[];if(!r)return t;const o=i.replace(r,"");let u=yO.has(e)?1:0;return r!==i&&(u*=100),e+"("+u+o+")"}const bO=/\b([a-z-]*)\(.*?\)/gu,Vm={...as,getAnimatableNone:t=>{const e=t.match(bO);return e?e.map(vO).join(" "):t}},P_={...la,transform:Math.round},_O={rotate:Ji,rotateX:Ji,rotateY:Ji,rotateZ:Ji,scale:Pu,scaleX:Pu,scaleY:Pu,scaleZ:Pu,skew:Ji,skewX:Ji,skewY:Ji,distance:le,translateX:le,translateY:le,translateZ:le,x:le,y:le,z:le,perspective:le,transformPerspective:le,opacity:Bo,originX:S_,originY:S_,originZ:le},Xp={borderWidth:le,borderTopWidth:le,borderRightWidth:le,borderBottomWidth:le,borderLeftWidth:le,borderRadius:le,borderTopLeftRadius:le,borderTopRightRadius:le,borderBottomRightRadius:le,borderBottomLeftRadius:le,width:le,maxWidth:le,height:le,maxHeight:le,top:le,right:le,bottom:le,left:le,inset:le,insetBlock:le,insetBlockStart:le,insetBlockEnd:le,insetInline:le,insetInlineStart:le,insetInlineEnd:le,padding:le,paddingTop:le,paddingRight:le,paddingBottom:le,paddingLeft:le,paddingBlock:le,paddingBlockStart:le,paddingBlockEnd:le,paddingInline:le,paddingInlineStart:le,paddingInlineEnd:le,margin:le,marginTop:le,marginRight:le,marginBottom:le,marginLeft:le,marginBlock:le,marginBlockStart:le,marginBlockEnd:le,marginInline:le,marginInlineStart:le,marginInlineEnd:le,fontSize:le,backgroundPositionX:le,backgroundPositionY:le,..._O,zIndex:P_,fillOpacity:Bo,strokeOpacity:Bo,numOctaves:P_},xO={...Xp,color:_t,backgroundColor:_t,outlineColor:_t,fill:_t,stroke:_t,borderColor:_t,borderTopColor:_t,borderRightColor:_t,borderBottomColor:_t,borderLeftColor:_t,filter:Vm,WebkitFilter:Vm},V1=t=>xO[t];function z1(t,e){let i=V1(t);return i!==Vm&&(i=as),i.getAnimatableNone?i.getAnimatableNone(e):void 0}const SO=new Set(["auto","none","0"]);function TO(t,e,i){let r=0,o;for(;r<t.length&&!o;){const u=t[r];typeof u=="string"&&!SO.has(u)&&Uo(u).values.length&&(o=t[r]),r++}if(o&&i)for(const u of e)t[u]=z1(i,o)}class wO extends Gp{constructor(e,i,r,o,u){super(e,i,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:i,name:r}=this;if(!i||!i.current)return;super.readKeyframes();for(let g=0;g<e.length;g++){let y=e[g];if(typeof y=="string"&&(y=y.trim(),Pp(y))){const v=M1(y,i.current);v!==void 0&&(e[g]=v),g===e.length-1&&(this.finalKeyframe=y)}}if(this.resolveNoneKeyframes(),!k1.has(r)||e.length!==2)return;const[o,u]=e,c=j_(o),h=j_(u),m=x_(o),d=x_(u);if(m!==d&&es[r]){this.needsMeasurement=!0;return}if(c!==h)if(M_(c)&&M_(h))for(let g=0;g<e.length;g++){const y=e[g];typeof y=="string"&&(e[g]=parseFloat(y))}else es[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:i}=this,r=[];for(let o=0;o<e.length;o++)(e[o]===null||gO(e[o]))&&r.push(o);r.length&&TO(e,r,i)}measureInitialState(){const{element:e,unresolvedKeyframes:i,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=es[r](e.measureViewportBox(),window.getComputedStyle(e.current)),i[0]=this.measuredOrigin;const o=i[i.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){const{element:e,name:i,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const o=e.getValue(i);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=es[i](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,m])=>{e.getValue(h).set(m)}),this.resolveNoneKeyframes()}}const CO=new Set(["opacity","clipPath","filter","transform"]);function B1(t,e,i){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const o=i?.[t]??r.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t).filter(r=>r!=null)}const U1=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function zm(t){return XT(t)&&"offsetHeight"in t}const{schedule:Wp}=l1(queueMicrotask,!1),Ln={x:!1,y:!1};function H1(){return Ln.x||Ln.y}function EO(t){return t==="x"||t==="y"?Ln[t]?null:(Ln[t]=!0,()=>{Ln[t]=!1}):Ln.x||Ln.y?null:(Ln.x=Ln.y=!0,()=>{Ln.x=Ln.y=!1})}function F1(t,e){const i=B1(t),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[i,o,()=>r.abort()]}function AO(t){return!(t.pointerType==="touch"||H1())}function RO(t,e,i={}){const[r,o,u]=F1(t,i);return r.forEach(c=>{let h=!1,m=!1,d;const g=()=>{c.removeEventListener("pointerleave",w)},y=E=>{d&&(d(E),d=void 0),g()},v=E=>{h=!1,window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",v),m&&(m=!1,y(E))},x=()=>{h=!0,window.addEventListener("pointerup",v,o),window.addEventListener("pointercancel",v,o)},w=E=>{if(E.pointerType!=="touch"){if(h){m=!0;return}y(E)}},C=E=>{if(!AO(E))return;m=!1;const A=e(c,E);typeof A=="function"&&(d=A,c.addEventListener("pointerleave",w,o))};c.addEventListener("pointerenter",C,o),c.addEventListener("pointerdown",x,o)}),u}const G1=(t,e)=>e?t===e?!0:G1(t,e.parentElement):!1,$p=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,NO=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function MO(t){return NO.has(t.tagName)||t.isContentEditable===!0}const DO=new Set(["INPUT","SELECT","TEXTAREA"]);function kO(t){return DO.has(t.tagName)||t.isContentEditable===!0}const tc=new WeakSet;function I_(t){return e=>{e.key==="Enter"&&t(e)}}function Ud(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const OO=(t,e)=>{const i=t.currentTarget;if(!i)return;const r=I_(()=>{if(tc.has(i))return;Ud(i,"down");const o=I_(()=>{Ud(i,"up")}),u=()=>Ud(i,"cancel");i.addEventListener("keyup",o,e),i.addEventListener("blur",u,e)});i.addEventListener("keydown",r,e),i.addEventListener("blur",()=>i.removeEventListener("keydown",r),e)};function V_(t){return $p(t)&&!H1()}const z_=new WeakSet;function LO(t,e,i={}){const[r,o,u]=F1(t,i),c=h=>{const m=h.currentTarget;if(!V_(h)||z_.has(h))return;tc.add(m),i.stopPropagation&&z_.add(h);const d=e(m,h),g=(x,w)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",v),tc.has(m)&&tc.delete(m),V_(x)&&typeof d=="function"&&d(x,{success:w})},y=x=>{g(x,m===window||m===document||i.useGlobalTarget||G1(m,x.target))},v=x=>{g(x,!1)};window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",v,o)};return r.forEach(h=>{(i.useGlobalTarget?window:h).addEventListener("pointerdown",c,o),zm(h)&&(h.addEventListener("focus",d=>OO(d,o)),!MO(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),u}function Zp(t){return XT(t)&&"ownerSVGElement"in t}const nc=new WeakMap;let ic;const q1=(t,e,i)=>(r,o)=>o&&o[0]?o[0][t+"Size"]:Zp(r)&&"getBBox"in r?r.getBBox()[e]:r[i],jO=q1("inline","width","offsetWidth"),PO=q1("block","height","offsetHeight");function IO({target:t,borderBoxSize:e}){nc.get(t)?.forEach(i=>{i(t,{get width(){return jO(t,e)},get height(){return PO(t,e)}})})}function VO(t){t.forEach(IO)}function zO(){typeof ResizeObserver>"u"||(ic=new ResizeObserver(VO))}function BO(t,e){ic||zO();const i=B1(t);return i.forEach(r=>{let o=nc.get(r);o||(o=new Set,nc.set(r,o)),o.add(e),ic?.observe(r)}),()=>{i.forEach(r=>{const o=nc.get(r);o?.delete(e),o?.size||ic?.unobserve(r)})}}const sc=new Set;let Hr;function UO(){Hr=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};sc.forEach(e=>e(t))},window.addEventListener("resize",Hr)}function HO(t){return sc.add(t),Hr||UO(),()=>{sc.delete(t),!sc.size&&typeof Hr=="function"&&(window.removeEventListener("resize",Hr),Hr=void 0)}}function B_(t,e){return typeof t=="function"?HO(t):BO(t,e)}function FO(t){return Zp(t)&&t.tagName==="svg"}function GO(...t){const e=!Array.isArray(t[0]),i=e?0:-1,r=t[0+i],o=t[1+i],u=t[2+i],c=t[3+i],h=_1(o,u,c);return e?h(r):h}const qO=[...I1,_t,as],YO=t=>qO.find(P1(t)),U_=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fr=()=>({x:U_(),y:U_()}),H_=()=>({min:0,max:0}),wt=()=>({x:H_(),y:H_()}),QO=new WeakMap;function Gc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ho(t){return typeof t=="string"||Array.isArray(t)}const Jp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],eg=["initial",...Jp];function qc(t){return Gc(t.animate)||eg.some(e=>Ho(t[e]))}function Y1(t){return!!(qc(t)||t.variants)}function KO(t,e,i){for(const r in e){const o=e[r],u=i[r];if(Bt(o))t.addValue(r,o);else if(Bt(u))t.addValue(r,Us(o,{owner:t}));else if(u!==o)if(t.hasValue(r)){const c=t.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=t.getStaticValue(r);t.addValue(r,Us(c!==void 0?c:o,{owner:t}))}}for(const r in i)e[r]===void 0&&t.removeValue(r);return e}const Bm={current:null},Q1={current:!1},XO=typeof window<"u";function WO(){if(Q1.current=!0,!!XO)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Bm.current=t.matches;t.addEventListener("change",e),e()}else Bm.current=!1}const F_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let pc={};function K1(t){pc=t}function $O(){return pc}class ZO{scrapeMotionValuesFromProps(e,i,r){return{}}constructor({parent:e,props:i,presenceContext:r,reducedMotionConfig:o,skipAnimations:u,blockInitialAnimation:c,visualState:h},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=Gp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Gt.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,We.render(this.render,!1,!0))};const{latestValues:d,renderState:g}=h;this.latestValues=d,this.baseTarget={...d},this.initialValues=i.initial?{...d}:{},this.renderState=g,this.parent=e,this.props=i,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.skipAnimationsConfig=u,this.options=m,this.blockInitialAnimation=!!c,this.isControllingVariants=qc(i),this.isVariantNode=Y1(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(i,{},this);for(const x in v){const w=v[x];d[x]!==void 0&&Bt(w)&&w.set(d[x])}}mount(e){if(this.hasBeenMounted)for(const i in this.initialValues)this.values.get(i)?.jump(this.initialValues[i]),this.latestValues[i]=this.initialValues[i];this.current=e,QO.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,r)=>this.bindToMotionValue(r,i)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(Q1.current||WO(),this.shouldReduceMotion=Bm.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),Ti(this.notifyUpdate),Ti(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const i=this.features[e];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,i){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),i.accelerate&&CO.has(e)&&this.current instanceof HTMLElement){const{factory:c,keyframes:h,times:m,ease:d,duration:g}=i.accelerate,y=new A1({element:this.current,name:e,keyframes:h,times:m,ease:d,duration:In(g)}),v=c(y);this.valueSubscriptions.set(e,()=>{v(),y.cancel()});return}const r=ca.has(e);r&&this.onBindTransform&&this.onBindTransform();const o=i.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&We.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;typeof window<"u"&&window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,i)),this.valueSubscriptions.set(e,()=>{o(),u&&u(),i.owner&&i.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in pc){const i=pc[e];if(!i)continue;const{isEnabled:r,Feature:o}=i;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const u=this.features[e];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):wt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,i){this.latestValues[e]=i}update(e,i){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let r=0;r<F_.length;r++){const o=F_[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=e[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=KO(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(e),()=>i.variantChildren.delete(e)}addValue(e,i){const r=this.values.get(e);i!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,i),this.values.set(e,i),this.latestValues[e]=i.get())}removeValue(e){this.values.delete(e);const i=this.valueSubscriptions.get(e);i&&(i(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,i){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&i!==void 0&&(r=Us(i===null?void 0:i,{owner:this}),this.addValue(e,r)),r}readValue(e,i){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(KT(r)||WT(r))?r=parseFloat(r):!YO(r)&&as.test(i)&&(r=z1(e,i)),this.setBaseTarget(e,Bt(r)?r.get():r)),Bt(r)?r.get():r}setBaseTarget(e,i){this.baseTarget[e]=i}getBaseTarget(e){const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const u=Qp(this.props,i,this.presenceContext?.custom);u&&(r=u[e])}if(i&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Bt(o)?o:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,i){return this.events[e]||(this.events[e]=new Op),this.events[e].add(i)}notify(e,...i){this.events[e]&&this.events[e].notify(...i)}scheduleRenderMicrotask(){Wp.render(this.render)}}class X1 extends ZO{constructor(){super(...arguments),this.KeyframeResolver=wO}sortInstanceNodePosition(e,i){return e.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(e,i){const r=e.style;return r?r[i]:void 0}removeValueFromRenderState(e,{vars:i,style:r}){delete i[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Bt(e)&&(this.childSubscription=e.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}class fs{constructor(e){this.isMounted=!1,this.node=e}update(){}}function W1({top:t,left:e,right:i,bottom:r}){return{x:{min:e,max:i},y:{min:t,max:r}}}function JO({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function e3(t,e){if(!e)return t;const i=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:i.y,left:i.x,bottom:r.y,right:r.x}}function Hd(t){return t===void 0||t===1}function Um({scale:t,scaleX:e,scaleY:i}){return!Hd(t)||!Hd(e)||!Hd(i)}function Os(t){return Um(t)||$1(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function $1(t){return G_(t.x)||G_(t.y)}function G_(t){return t&&t!=="0%"}function gc(t,e,i){const r=t-i,o=e*r;return i+o}function q_(t,e,i,r,o){return o!==void 0&&(t=gc(t,o,r)),gc(t,i,r)+e}function Hm(t,e=0,i=1,r,o){t.min=q_(t.min,e,i,r,o),t.max=q_(t.max,e,i,r,o)}function Z1(t,{x:e,y:i}){Hm(t.x,e.translate,e.scale,e.originPoint),Hm(t.y,i.translate,i.scale,i.originPoint)}const Y_=.999999999999,Q_=1.0000000000001;function t3(t,e,i,r=!1){const o=i.length;if(!o)return;e.x=e.y=1;let u,c;for(let h=0;h<o;h++){u=i[h],c=u.projectionDelta;const{visualElement:m}=u.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&qr(t,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,Z1(t,c)),r&&Os(u.latestValues)&&qr(t,u.latestValues))}e.x<Q_&&e.x>Y_&&(e.x=1),e.y<Q_&&e.y>Y_&&(e.y=1)}function Gr(t,e){t.min=t.min+e,t.max=t.max+e}function K_(t,e,i,r,o=.5){const u=rt(t.min,t.max,o);Hm(t,e,i,u,r)}function qr(t,e){K_(t.x,e.x,e.scaleX,e.scale,e.originX),K_(t.y,e.y,e.scaleY,e.scale,e.originY)}function J1(t,e){return W1(e3(t.getBoundingClientRect(),e))}function n3(t,e,i){const r=J1(t,i),{scroll:o}=e;return o&&(Gr(r.x,o.offset.x),Gr(r.y,o.offset.y)),r}const i3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},s3=ua.length;function r3(t,e,i){let r="",o=!0;for(let u=0;u<s3;u++){const c=ua[u],h=t[c];if(h===void 0)continue;let m=!0;if(typeof h=="number")m=h===(c.startsWith("scale")?1:0);else{const d=parseFloat(h);m=c.startsWith("scale")?d===1:d===0}if(!m||i){const d=U1(h,Xp[c]);if(!m){o=!1;const g=i3[c]||c;r+=`${g}(${d}) `}i&&(e[c]=d)}}return r=r.trim(),i?r=i(e,o?"":r):o&&(r="none"),r}function tg(t,e,i){const{style:r,vars:o,transformOrigin:u}=t;let c=!1,h=!1;for(const m in e){const d=e[m];if(ca.has(m)){c=!0;continue}else if(c1(m)){o[m]=d;continue}else{const g=U1(d,Xp[m]);m.startsWith("origin")?(h=!0,u[m]=g):r[m]=g}}if(e.transform||(c||i?r.transform=r3(e,t.transform,i):r.transform&&(r.transform="none")),h){const{originX:m="50%",originY:d="50%",originZ:g=0}=u;r.transformOrigin=`${m} ${d} ${g}`}}function ew(t,{style:e,vars:i},r,o){const u=t.style;let c;for(c in e)u[c]=e[c];o?.applyProjectionStyles(u,r);for(c in i)u.setProperty(c,i[c])}function X_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const po={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(le.test(t))t=parseFloat(t);else return t;const i=X_(t,e.target.x),r=X_(t,e.target.y);return`${i}% ${r}%`}},a3={correct:(t,{treeScale:e,projectionDelta:i})=>{const r=t,o=as.parse(t);if(o.length>5)return r;const u=as.createTransformer(t),c=typeof o[0]!="number"?1:0,h=i.x.scale*e.x,m=i.y.scale*e.y;o[0+c]/=h,o[1+c]/=m;const d=rt(h,m,.5);return typeof o[2+c]=="number"&&(o[2+c]/=d),typeof o[3+c]=="number"&&(o[3+c]/=d),u(o)}},Fm={borderRadius:{...po,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:po,borderTopRightRadius:po,borderBottomLeftRadius:po,borderBottomRightRadius:po,boxShadow:a3};function tw(t,{layout:e,layoutId:i}){return ca.has(t)||t.startsWith("origin")||(e||i!==void 0)&&(!!Fm[t]||t==="opacity")}function ng(t,e,i){const r=t.style,o=e?.style,u={};if(!r)return u;for(const c in r)(Bt(r[c])||o&&Bt(o[c])||tw(c,t)||i?.getValue(c)?.liveStyle!==void 0)&&(u[c]=r[c]);return u}function o3(t){return window.getComputedStyle(t)}class l3 extends X1{constructor(){super(...arguments),this.type="html",this.renderInstance=ew}readValueFromInstance(e,i){if(ca.has(i))return this.projection?.isProjecting?Nm(i):Ek(e,i);{const r=o3(e),o=(c1(i)?r.getPropertyValue(i):r[i])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:i}){return J1(e,i)}build(e,i,r){tg(e,i,r.transformTemplate)}scrapeMotionValuesFromProps(e,i,r){return ng(e,i,r)}}const u3={offset:"stroke-dashoffset",array:"stroke-dasharray"},c3={offset:"strokeDashoffset",array:"strokeDasharray"};function f3(t,e,i=1,r=0,o=!0){t.pathLength=1;const u=o?u3:c3;t[u.offset]=`${-r}`,t[u.array]=`${e} ${i}`}const h3=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function nw(t,{attrX:e,attrY:i,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...h},m,d,g){if(tg(t,h,d),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:v}=t;y.transform&&(v.transform=y.transform,delete y.transform),(v.transform||y.transformOrigin)&&(v.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),v.transform&&(v.transformBox=g?.transformBox??"fill-box",delete y.transformBox);for(const x of h3)y[x]!==void 0&&(v[x]=y[x],delete y[x]);e!==void 0&&(y.x=e),i!==void 0&&(y.y=i),r!==void 0&&(y.scale=r),o!==void 0&&f3(y,o,u,c,!1)}const iw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),sw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function d3(t,e,i,r){ew(t,e,void 0,r);for(const o in e.attrs)t.setAttribute(iw.has(o)?o:Kp(o),e.attrs[o])}function rw(t,e,i){const r=ng(t,e,i);for(const o in t)if(Bt(t[o])||Bt(e[o])){const u=ua.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=t[o]}return r}class m3 extends X1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=wt}getBaseTargetFromProps(e,i){return e[i]}readValueFromInstance(e,i){if(ca.has(i)){const r=V1(i);return r&&r.default||0}return i=iw.has(i)?i:Kp(i),e.getAttribute(i)}scrapeMotionValuesFromProps(e,i,r){return rw(e,i,r)}build(e,i,r){nw(e,i,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,i,r,o){d3(e,i,r,o)}mount(e){this.isSVGTag=sw(e.tagName),super.mount(e)}}const p3=eg.length;function aw(t){if(!t)return;if(!t.isControllingVariants){const i=t.parent?aw(t.parent)||{}:{};return t.props.initial!==void 0&&(i.initial=t.props.initial),i}const e={};for(let i=0;i<p3;i++){const r=eg[i],o=t.props[r];(Ho(o)||o===!1)&&(e[r]=o)}return e}function ow(t,e){if(!Array.isArray(e))return!1;const i=e.length;if(i!==t.length)return!1;for(let r=0;r<i;r++)if(e[r]!==t[r])return!1;return!0}const g3=[...Jp].reverse(),y3=Jp.length;function v3(t){return e=>Promise.all(e.map(({animation:i,options:r})=>mO(t,i,r)))}function b3(t){let e=v3(t),i=W_(),r=!0;const o=m=>(d,g)=>{const y=Qr(t,g,m==="exit"?t.presenceContext?.custom:void 0);if(y){const{transition:v,transitionEnd:x,...w}=y;d={...d,...w,...x}}return d};function u(m){e=m(t)}function c(m){const{props:d}=t,g=aw(t.parent)||{},y=[],v=new Set;let x={},w=1/0;for(let E=0;E<y3;E++){const A=g3[E],N=i[A],D=d[A]!==void 0?d[A]:g[A],L=Ho(D),B=A===m?N.isActive:null;B===!1&&(w=E);let ne=D===g[A]&&D!==d[A]&&L;if(ne&&r&&t.manuallyAnimateOnMount&&(ne=!1),N.protectedKeys={...x},!N.isActive&&B===null||!D&&!N.prevProp||Gc(D)||typeof D=="boolean")continue;if(A==="exit"&&N.isActive&&B!==!0){N.prevResolvedValues&&(x={...x,...N.prevResolvedValues});continue}const K=_3(N.prevProp,D);let z=K||A===m&&N.isActive&&!ne&&L||E>w&&L,ee=!1;const se=Array.isArray(D)?D:[D];let ye=se.reduce(o(A),{});B===!1&&(ye={});const{prevResolvedValues:ve={}}=N,Ee={...ve,...ye},Ve=Y=>{z=!0,v.has(Y)&&(ee=!0,v.delete(Y)),N.needsAnimating[Y]=!0;const H=t.getValue(Y);H&&(H.liveStyle=!1)};for(const Y in Ee){const H=ye[Y],ie=ve[Y];if(x.hasOwnProperty(Y))continue;let ue=!1;jm(H)&&jm(ie)?ue=!ow(H,ie):ue=H!==ie,ue?H!=null?Ve(Y):v.add(Y):H!==void 0&&v.has(Y)?Ve(Y):N.protectedKeys[Y]=!0}N.prevProp=D,N.prevResolvedValues=ye,N.isActive&&(x={...x,...ye}),r&&t.blockInitialAnimation&&(z=!1);const X=ne&&K;z&&(!X||ee)&&y.push(...se.map(Y=>{const H={type:A};if(typeof Y=="string"&&r&&!X&&t.manuallyAnimateOnMount&&t.parent){const{parent:ie}=t,ue=Qr(ie,Y);if(ie.enteringChildren&&ue){const{delayChildren:M}=ue.transition||{};H.delay=N1(ie.enteringChildren,t,M)}}return{animation:Y,options:H}}))}if(v.size){const E={};if(typeof d.initial!="boolean"){const A=Qr(t,Array.isArray(d.initial)?d.initial[0]:d.initial);A&&A.transition&&(E.transition=A.transition)}v.forEach(A=>{const N=t.getBaseTarget(A),D=t.getValue(A);D&&(D.liveStyle=!0),E[A]=N??null}),y.push({animation:E})}let C=!!y.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(C=!1),r=!1,C?e(y):Promise.resolve()}function h(m,d){if(i[m].isActive===d)return Promise.resolve();t.variantChildren?.forEach(y=>y.animationState?.setActive(m,d)),i[m].isActive=d;const g=c(m);for(const y in i)i[y].protectedKeys={};return g}return{animateChanges:c,setActive:h,setAnimateFunction:u,getState:()=>i,reset:()=>{i=W_()}}}function _3(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!ow(e,t):!1}function ks(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function W_(){return{animate:ks(!0),whileInView:ks(),whileHover:ks(),whileTap:ks(),whileDrag:ks(),whileFocus:ks(),exit:ks()}}function $_(t,e){t.min=e.min,t.max=e.max}function On(t,e){$_(t.x,e.x),$_(t.y,e.y)}function Z_(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const lw=1e-4,x3=1-lw,S3=1+lw,uw=.01,T3=0-uw,w3=0+uw;function qt(t){return t.max-t.min}function C3(t,e,i){return Math.abs(t-e)<=i}function J_(t,e,i,r=.5){t.origin=r,t.originPoint=rt(e.min,e.max,t.origin),t.scale=qt(i)/qt(e),t.translate=rt(i.min,i.max,t.origin)-t.originPoint,(t.scale>=x3&&t.scale<=S3||isNaN(t.scale))&&(t.scale=1),(t.translate>=T3&&t.translate<=w3||isNaN(t.translate))&&(t.translate=0)}function Co(t,e,i,r){J_(t.x,e.x,i.x,r?r.originX:void 0),J_(t.y,e.y,i.y,r?r.originY:void 0)}function ex(t,e,i){t.min=i.min+e.min,t.max=t.min+qt(e)}function E3(t,e,i){ex(t.x,e.x,i.x),ex(t.y,e.y,i.y)}function tx(t,e,i){t.min=e.min-i.min,t.max=t.min+qt(e)}function yc(t,e,i){tx(t.x,e.x,i.x),tx(t.y,e.y,i.y)}function nx(t,e,i,r,o){return t-=e,t=gc(t,1/i,r),o!==void 0&&(t=gc(t,1/o,r)),t}function A3(t,e=0,i=1,r=.5,o,u=t,c=t){if(Kn.test(e)&&(e=parseFloat(e),e=rt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=rt(u.min,u.max,r);t===u&&(h-=e),t.min=nx(t.min,e,i,h,o),t.max=nx(t.max,e,i,h,o)}function ix(t,e,[i,r,o],u,c){A3(t,e[i],e[r],e[o],e.scale,u,c)}const R3=["x","scaleX","originX"],N3=["y","scaleY","originY"];function sx(t,e,i,r){ix(t.x,e,R3,i?i.x:void 0,r?r.x:void 0),ix(t.y,e,N3,i?i.y:void 0,r?r.y:void 0)}function rx(t){return t.translate===0&&t.scale===1}function cw(t){return rx(t.x)&&rx(t.y)}function ax(t,e){return t.min===e.min&&t.max===e.max}function M3(t,e){return ax(t.x,e.x)&&ax(t.y,e.y)}function ox(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function fw(t,e){return ox(t.x,e.x)&&ox(t.y,e.y)}function lx(t){return qt(t.x)/qt(t.y)}function ux(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Yn(t){return[t("x"),t("y")]}function D3(t,e,i){let r="";const o=t.x.translate/e.x,u=t.y.translate/e.y,c=i?.z||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),i){const{transformPerspective:d,rotate:g,rotateX:y,rotateY:v,skewX:x,skewY:w}=i;d&&(r=`perspective(${d}px) ${r}`),g&&(r+=`rotate(${g}deg) `),y&&(r+=`rotateX(${y}deg) `),v&&(r+=`rotateY(${v}deg) `),x&&(r+=`skewX(${x}deg) `),w&&(r+=`skewY(${w}deg) `)}const h=t.x.scale*e.x,m=t.y.scale*e.y;return(h!==1||m!==1)&&(r+=`scale(${h}, ${m})`),r||"none"}const hw=["TopLeft","TopRight","BottomLeft","BottomRight"],k3=hw.length,cx=t=>typeof t=="string"?parseFloat(t):t,fx=t=>typeof t=="number"||le.test(t);function O3(t,e,i,r,o,u){o?(t.opacity=rt(0,i.opacity??1,L3(r)),t.opacityExit=rt(e.opacity??1,0,j3(r))):u&&(t.opacity=rt(e.opacity??1,i.opacity??1,r));for(let c=0;c<k3;c++){const h=`border${hw[c]}Radius`;let m=hx(e,h),d=hx(i,h);if(m===void 0&&d===void 0)continue;m||(m=0),d||(d=0),m===0||d===0||fx(m)===fx(d)?(t[h]=Math.max(rt(cx(m),cx(d),r),0),(Kn.test(d)||Kn.test(m))&&(t[h]+="%")):t[h]=d}(e.rotate||i.rotate)&&(t.rotate=rt(e.rotate||0,i.rotate||0,r))}function hx(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const L3=dw(0,.5,s1),j3=dw(.5,.95,An);function dw(t,e,i){return r=>r<t?0:r>e?1:i(zo(t,e,r))}function P3(t,e,i){const r=Bt(t)?t:Us(t);return r.start(Yp("",r,e,i)),r.animation}function Fo(t,e,i,r={passive:!0}){return t.addEventListener(e,i,r),()=>t.removeEventListener(e,i)}const I3=(t,e)=>t.depth-e.depth;class V3{constructor(){this.children=[],this.isDirty=!1}add(e){Mp(this.children,e),this.isDirty=!0}remove(e){fc(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(I3),this.isDirty=!1,this.children.forEach(e)}}function z3(t,e){const i=Gt.now(),r=({timestamp:o})=>{const u=o-i;u>=e&&(Ti(r),t(u-e))};return We.setup(r,!0),()=>Ti(r)}function rc(t){return Bt(t)?t.get():t}class B3{constructor(){this.members=[]}add(e){Mp(this.members,e);for(let i=this.members.length-1;i>=0;i--){const r=this.members[i];if(r===e||r===this.lead||r===this.prevLead)continue;const o=r.instance;o&&o.isConnected===!1&&r.isPresent!==!1&&!r.snapshot&&fc(this.members,r)}e.scheduleRender()}remove(e){if(fc(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(e){const i=this.members.findIndex(o=>e===o);if(i===0)return!1;let r;for(let o=i;o>=0;o--){const u=this.members[o],c=u.instance;if(u.isPresent!==!1&&(!c||c.isConnected!==!1)){r=u;break}}return r?(this.promote(r),!0):!1}promote(e,i){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender();const o=r.options.layoutDependency,u=e.options.layoutDependency;if(!(o!==void 0&&u!==void 0&&o===u)){const m=r.instance;m&&m.isConnected===!1&&!r.snapshot||(e.resumeFrom=r,i&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:h}=e.options;h===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:i,resumingFrom:r}=e;i.onExitComplete&&i.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const ac={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Fd=["","X","Y","Z"],U3=1e3;let H3=0;function Gd(t,e,i,r){const{latestValues:o}=e;o[t]&&(i[t]=o[t],e.setStaticValue(t,0),r&&(r[t]=0))}function mw(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const i=L1(e);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:o,layoutId:u}=t.options;window.MotionCancelOptimisedAnimation(i,"transform",We,!(o||u))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&mw(r)}function pw({attachResizeListener:t,defaultParent:e,measureScroll:i,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},h=e?.()){this.id=H3++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(q3),this.nodes.forEach(X3),this.nodes.forEach(W3),this.nodes.forEach(Y3)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new V3)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Op),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const m=this.eventHandlers.get(c);m&&m.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Zp(c)&&!FO(c),this.instance=c;const{layoutId:h,layout:m,visualElement:d}=this.options;if(d&&!d.current&&d.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||h)&&(this.isLayoutDirty=!0),t){let g,y=0;const v=()=>this.root.updateBlockedByResize=!1;We.read(()=>{y=window.innerWidth}),t(c,()=>{const x=window.innerWidth;x!==y&&(y=x,this.root.updateBlockedByResize=!0,g&&g(),g=z3(v,250),ac.hasAnimatedSinceResize&&(ac.hasAnimatedSinceResize=!1,this.nodes.forEach(px)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&d&&(h||m)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:y,hasRelativeLayoutChanged:v,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||t5,{onLayoutAnimationStart:C,onLayoutAnimationComplete:E}=d.getProps(),A=!this.targetLayout||!fw(this.targetLayout,x),N=!y&&v;if(this.options.layoutRoot||this.resumeFrom||N||y&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const D={...qp(w,"layout"),onPlay:C,onComplete:E};(d.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D),this.setAnimationOrigin(g,N)}else y||px(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ti(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach($3),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&mw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:h,layout:m}=this.options;if(h===void 0&&!m)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(dx);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(mx);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(K3),this.nodes.forEach(F3),this.nodes.forEach(G3)):this.nodes.forEach(mx),this.clearAllSnapshots();const h=Gt.now();Vt.delta=Wn(0,1e3/60,h-Vt.timestamp),Vt.timestamp=h,Vt.isProcessing=!0,jd.update.process(Vt),jd.preRender.process(Vt),jd.render.process(Vt),Vt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Wp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Q3),this.sharedNodes.forEach(Z3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,We.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){We.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!qt(this.snapshot.measuredBox.x)&&!qt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=wt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!cw(this.projectionDelta),m=this.getTransformTemplate(),d=m?m(this.latestValues,""):void 0,g=d!==this.prevTransformTemplateValue;c&&this.instance&&(h||Os(this.latestValues)||g)&&(o(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let m=this.removeElementScroll(h);return c&&(m=this.removeTransform(m)),n5(m),{animationId:this.root.animationId,measuredBox:h,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return wt();const h=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(i5))){const{scroll:d}=this.root;d&&(Gr(h.x,d.offset.x),Gr(h.y,d.offset.y))}return h}removeElementScroll(c){const h=wt();if(On(h,c),this.scroll?.wasRoot)return h;for(let m=0;m<this.path.length;m++){const d=this.path[m],{scroll:g,options:y}=d;d!==this.root&&g&&y.layoutScroll&&(g.wasRoot&&On(h,c),Gr(h.x,g.offset.x),Gr(h.y,g.offset.y))}return h}applyTransform(c,h=!1){const m=wt();On(m,c);for(let d=0;d<this.path.length;d++){const g=this.path[d];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&qr(m,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Os(g.latestValues)&&qr(m,g.latestValues)}return Os(this.latestValues)&&qr(m,this.latestValues),m}removeTransform(c){const h=wt();On(h,c);for(let m=0;m<this.path.length;m++){const d=this.path[m];if(!d.instance||!Os(d.latestValues))continue;Um(d.latestValues)&&d.updateSnapshot();const g=wt(),y=d.measurePageBox();On(g,y),sx(h,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,g)}return Os(this.latestValues)&&sx(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Vt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==h;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!this.layout||!(g||y))return;this.resolvedRelativeTargetAt=Vt.timestamp;const v=this.getClosestProjectingParent();v&&this.linkedParentVersion!==v.layoutVersion&&!v.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(v&&v.layout?this.createRelativeTarget(v,this.layout.layoutBox,v.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=wt(),this.targetWithTransforms=wt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),E3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):On(this.target,this.layout.layoutBox),Z1(this.target,this.targetDelta)):On(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?this.createRelativeTarget(v,this.target,v.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Um(this.parent.latestValues)||$1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,h,m){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wt(),this.relativeTargetOrigin=wt(),yc(this.relativeTargetOrigin,h,m),On(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),h=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Vt.timestamp&&(m=!1),m)return;const{layout:d,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||g))return;On(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,v=this.treeScale.y;t3(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=wt());const{target:x}=c;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Z_(this.prevProjectionDelta.x,this.projectionDelta.x),Z_(this.prevProjectionDelta.y,this.projectionDelta.y)),Co(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==v||!ux(this.projectionDelta.x,this.prevProjectionDelta.x)||!ux(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Fr(),this.projectionDelta=Fr(),this.projectionDeltaWithTransform=Fr()}setAnimationOrigin(c,h=!1){const m=this.snapshot,d=m?m.latestValues:{},g={...this.latestValues},y=Fr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const v=wt(),x=m?m.source:void 0,w=this.layout?this.layout.source:void 0,C=x!==w,E=this.getStack(),A=!E||E.members.length<=1,N=!!(C&&!A&&this.options.crossfade===!0&&!this.path.some(e5));this.animationProgress=0;let D;this.mixTargetDelta=L=>{const B=L/1e3;gx(y.x,c.x,B),gx(y.y,c.y,B),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yc(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),J3(this.relativeTarget,this.relativeTargetOrigin,v,B),D&&M3(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=wt()),On(D,this.relativeTarget)),C&&(this.animationValues=g,O3(g,d,this.latestValues,B,N,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ti(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=We.update(()=>{ac.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Us(0)),this.currentAnimation=P3(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(U3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:m,layout:d,latestValues:g}=c;if(!(!h||!m||!d)){if(this!==c&&this.layout&&d&&gw(this.options.animationType,this.layout.layoutBox,d.layoutBox)){m=this.target||wt();const y=qt(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+y;const v=qt(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+v}On(h,m),qr(h,g),Co(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new B3),this.sharedNodes.get(c).add(h);const d=h.options.initialPromotionConfig;h.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:m}={}){const d=this.getStack();d&&d.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(h=!0),!h)return;const d={};m.z&&Gd("z",c,d,this.animationValues);for(let g=0;g<Fd.length;g++)Gd(`rotate${Fd[g]}`,c,d,this.animationValues),Gd(`skew${Fd[g]}`,c,d,this.animationValues);c.render();for(const g in d)c.setStaticValue(g,d[g]),this.animationValues&&(this.animationValues[g]=d[g]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=rc(h?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=rc(h?.pointerEvents)||""),this.hasProjected&&!Os(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const g=d.animationValues||d.latestValues;this.applyTransformsToTarget();let y=D3(this.projectionDeltaWithTransform,this.treeScale,g);m&&(y=m(g,y)),c.transform=y;const{x:v,y:x}=this.projectionDelta;c.transformOrigin=`${v.origin*100}% ${x.origin*100}% 0`,d.animationValues?c.opacity=d===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:c.opacity=d===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const w in Fm){if(g[w]===void 0)continue;const{correct:C,applyTo:E,isCSSVariable:A}=Fm[w],N=y==="none"?g[w]:C(g[w],d);if(E){const D=E.length;for(let L=0;L<D;L++)c[E[L]]=N}else A?this.options.visualElement.renderState.vars[w]=N:c[w]=N}this.options.layoutId&&(c.pointerEvents=d===this?rc(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(dx),this.root.sharedNodes.clear()}}}function F3(t){t.updateLayout()}function G3(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=t.layout,{animationType:o}=t.options,u=e.source!==t.layout.source;o==="size"?Yn(g=>{const y=u?e.measuredBox[g]:e.layoutBox[g],v=qt(y);y.min=i[g].min,y.max=y.min+v}):gw(o,e.layoutBox,i)&&Yn(g=>{const y=u?e.measuredBox[g]:e.layoutBox[g],v=qt(i[g]);y.max=y.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+v)});const c=Fr();Co(c,i,e.layoutBox);const h=Fr();u?Co(h,t.applyTransform(r,!0),e.measuredBox):Co(h,i,e.layoutBox);const m=!cw(c);let d=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:y,layout:v}=g;if(y&&v){const x=wt();yc(x,e.layoutBox,y.layoutBox);const w=wt();yc(w,i,v.layoutBox),fw(x,w)||(d=!0),g.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=x,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:h,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function q3(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Y3(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Q3(t){t.clearSnapshot()}function dx(t){t.clearMeasurements()}function mx(t){t.isLayoutDirty=!1}function K3(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function px(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function X3(t){t.resolveTargetDelta()}function W3(t){t.calcProjection()}function $3(t){t.resetSkewAndRotation()}function Z3(t){t.removeLeadSnapshot()}function gx(t,e,i){t.translate=rt(e.translate,0,i),t.scale=rt(e.scale,1,i),t.origin=e.origin,t.originPoint=e.originPoint}function yx(t,e,i,r){t.min=rt(e.min,i.min,r),t.max=rt(e.max,i.max,r)}function J3(t,e,i,r){yx(t.x,e.x,i.x,r),yx(t.y,e.y,i.y,r)}function e5(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const t5={duration:.45,ease:[.4,0,.1,1]},vx=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),bx=vx("applewebkit/")&&!vx("chrome/")?Math.round:An;function _x(t){t.min=bx(t.min),t.max=bx(t.max)}function n5(t){_x(t.x),_x(t.y)}function gw(t,e,i){return t==="position"||t==="preserve-aspect"&&!C3(lx(e),lx(i),.2)}function i5(t){return t!==t.root&&t.scroll?.wasRoot}const s5=pw({attachResizeListener:(t,e)=>Fo(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),qd={current:void 0},yw=pw({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!qd.current){const t=new s5({});t.mount(window),t.setOptions({layoutScroll:!0}),qd.current=t}return qd.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Yc=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function xx(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function r5(...t){return e=>{let i=!1;const r=t.map(o=>{const u=xx(o,e);return!i&&typeof u=="function"&&(i=!0),u});if(i)return()=>{for(let o=0;o<r.length;o++){const u=r[o];typeof u=="function"?u():xx(t[o],null)}}}}function a5(...t){return T.useCallback(r5(...t),t)}class o5 extends T.Component{getSnapshotBeforeUpdate(e){const i=this.props.childRef.current;if(i&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const r=i.offsetParent,o=zm(r)&&r.offsetWidth||0,u=zm(r)&&r.offsetHeight||0,c=this.props.sizeRef.current;c.height=i.offsetHeight||0,c.width=i.offsetWidth||0,c.top=i.offsetTop,c.left=i.offsetLeft,c.right=o-c.width-c.left,c.bottom=u-c.height-c.top}return null}componentDidUpdate(){}render(){return this.props.children}}function l5({children:t,isPresent:e,anchorX:i,anchorY:r,root:o,pop:u}){const c=T.useId(),h=T.useRef(null),m=T.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:d}=T.useContext(Yc),g=t.props?.ref??t?.ref,y=a5(h,g);return T.useInsertionEffect(()=>{const{width:v,height:x,top:w,left:C,right:E,bottom:A}=m.current;if(e||u===!1||!h.current||!v||!x)return;const N=i==="left"?`left: ${C}`:`right: ${E}`,D=r==="bottom"?`bottom: ${A}`:`top: ${w}`;h.current.dataset.motionPopId=c;const L=document.createElement("style");d&&(L.nonce=d);const B=o??document.head;return B.appendChild(L),L.sheet&&L.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${v}px !important;
            height: ${x}px !important;
            ${N}px !important;
            ${D}px !important;
          }
        `),()=>{B.contains(L)&&B.removeChild(L)}},[e]),_.jsx(o5,{isPresent:e,childRef:h,sizeRef:m,pop:u,children:u===!1?t:T.cloneElement(t,{ref:y})})}const u5=({children:t,initial:e,isPresent:i,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:c,anchorX:h,anchorY:m,root:d})=>{const g=cs(c5),y=T.useId();let v=!0,x=T.useMemo(()=>(v=!1,{id:y,initial:e,isPresent:i,custom:o,onExitComplete:w=>{g.set(w,!0);for(const C of g.values())if(!C)return;r&&r()},register:w=>(g.set(w,!1),()=>g.delete(w))}),[i,g,r]);return u&&v&&(x={...x}),T.useMemo(()=>{g.forEach((w,C)=>g.set(C,!1))},[i]),T.useEffect(()=>{!i&&!g.size&&r&&r()},[i]),t=_.jsx(l5,{pop:c==="popLayout",isPresent:i,anchorX:h,anchorY:m,root:d,children:t}),_.jsx(Fc.Provider,{value:x,children:t})};function c5(){return new Map}function vw(t=!0){const e=T.useContext(Fc);if(e===null)return[!0,null];const{isPresent:i,onExitComplete:r,register:o}=e,u=T.useId();T.useEffect(()=>{if(t)return o(u)},[t]);const c=T.useCallback(()=>t&&r&&r(u),[u,r,t]);return!i&&r?[!1,c]:[!0]}const Iu=t=>t.key||"";function Sx(t){const e=[];return T.Children.forEach(t,i=>{T.isValidElement(i)&&e.push(i)}),e}const Tx=({children:t,custom:e,initial:i=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:h="left",anchorY:m="top",root:d})=>{const[g,y]=vw(c),v=T.useMemo(()=>Sx(t),[t]),x=c&&!g?[]:v.map(Iu),w=T.useRef(!0),C=T.useRef(v),E=cs(()=>new Map),A=T.useRef(new Set),[N,D]=T.useState(v),[L,B]=T.useState(v);Np(()=>{w.current=!1,C.current=v;for(let z=0;z<L.length;z++){const ee=Iu(L[z]);x.includes(ee)?(E.delete(ee),A.current.delete(ee)):E.get(ee)!==!0&&E.set(ee,!1)}},[L,x.length,x.join("-")]);const ne=[];if(v!==N){let z=[...v];for(let ee=0;ee<L.length;ee++){const se=L[ee],ye=Iu(se);x.includes(ye)||(z.splice(ee,0,se),ne.push(se))}return u==="wait"&&ne.length&&(z=ne),B(Sx(z)),D(v),null}const{forceRender:K}=T.useContext(Rp);return _.jsx(_.Fragment,{children:L.map(z=>{const ee=Iu(z),se=c&&!g?!1:v===L||x.includes(ee),ye=()=>{if(A.current.has(ee))return;if(A.current.add(ee),E.has(ee))E.set(ee,!0);else return;let ve=!0;E.forEach(Ee=>{Ee||(ve=!1)}),ve&&(K?.(),B(C.current),c&&y?.(),r&&r())};return _.jsx(u5,{isPresent:se,initial:!w.current||i?void 0:!1,custom:e,presenceAffectsLayout:o,mode:u,root:d,onExitComplete:se?void 0:ye,anchorX:h,anchorY:m,children:z},ee)})})},bw=T.createContext({strict:!1}),wx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Cx=!1;function f5(){if(Cx)return;const t={};for(const e in wx)t[e]={isEnabled:i=>wx[e].some(r=>!!i[r])};K1(t),Cx=!0}function _w(){return f5(),$O()}function h5(t){const e=_w();for(const i in t)e[i]={...e[i],...t[i]};K1(e)}const d5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function vc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||d5.has(t)}let xw=t=>!vc(t);function m5(t){typeof t=="function"&&(xw=e=>e.startsWith("on")?!vc(e):t(e))}try{m5(require("@emotion/is-prop-valid").default)}catch{}function p5(t,e,i){const r={};for(const o in t)o==="values"&&typeof t.values=="object"||(xw(o)||i===!0&&vc(o)||!e&&!vc(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}const Qc=T.createContext({});function g5(t,e){if(qc(t)){const{initial:i,animate:r}=t;return{initial:i===!1||Ho(i)?i:void 0,animate:Ho(r)?r:void 0}}return t.inherit!==!1?e:{}}function y5(t){const{initial:e,animate:i}=g5(t,T.useContext(Qc));return T.useMemo(()=>({initial:e,animate:i}),[Ex(e),Ex(i)])}function Ex(t){return Array.isArray(t)?t.join(" "):t}const ig=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Sw(t,e,i){for(const r in e)!Bt(e[r])&&!tw(r,i)&&(t[r]=e[r])}function v5({transformTemplate:t},e){return T.useMemo(()=>{const i=ig();return tg(i,e,t),Object.assign({},i.vars,i.style)},[e])}function b5(t,e){const i=t.style||{},r={};return Sw(r,i,t),Object.assign(r,v5(t,e)),r}function _5(t,e){const i={},r=b5(t,e);return t.drag&&t.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(i.tabIndex=0),i.style=r,i}const Tw=()=>({...ig(),attrs:{}});function x5(t,e,i,r){const o=T.useMemo(()=>{const u=Tw();return nw(u,e,sw(r),t.transformTemplate,t.style),{...u.attrs,style:{...u.style}}},[e]);if(t.style){const u={};Sw(u,t.style,t),o.style={...u,...o.style}}return o}const S5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sg(t){return typeof t!="string"||t.includes("-")?!1:!!(S5.indexOf(t)>-1||/[A-Z]/u.test(t))}function T5(t,e,i,{latestValues:r},o,u=!1,c){const m=(c??sg(t)?x5:_5)(e,r,o,t),d=p5(e,typeof t=="string",u),g=t!==T.Fragment?{...d,...m,ref:i}:{},{children:y}=e,v=T.useMemo(()=>Bt(y)?y.get():y,[y]);return T.createElement(t,{...g,children:v})}function w5({scrapeMotionValuesFromProps:t,createRenderState:e},i,r,o){return{latestValues:C5(i,r,o,t),renderState:e()}}function C5(t,e,i,r){const o={},u=r(t,{});for(const v in u)o[v]=rc(u[v]);let{initial:c,animate:h}=t;const m=qc(t),d=Y1(t);e&&d&&!m&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let g=i?i.initial===!1:!1;g=g||c===!1;const y=g?h:c;if(y&&typeof y!="boolean"&&!Gc(y)){const v=Array.isArray(y)?y:[y];for(let x=0;x<v.length;x++){const w=Qp(t,v[x]);if(w){const{transitionEnd:C,transition:E,...A}=w;for(const N in A){let D=A[N];if(Array.isArray(D)){const L=g?D.length-1:0;D=D[L]}D!==null&&(o[N]=D)}for(const N in C)o[N]=C[N]}}}return o}const ww=t=>(e,i)=>{const r=T.useContext(Qc),o=T.useContext(Fc),u=()=>w5(t,e,r,o);return i?u():cs(u)},E5=ww({scrapeMotionValuesFromProps:ng,createRenderState:ig}),A5=ww({scrapeMotionValuesFromProps:rw,createRenderState:Tw}),R5=Symbol.for("motionComponentSymbol");function N5(t,e,i){const r=T.useRef(i);T.useInsertionEffect(()=>{r.current=i});const o=T.useRef(null);return T.useCallback(u=>{u&&t.onMount?.(u),e&&(u?e.mount(u):e.unmount());const c=r.current;if(typeof c=="function")if(u){const h=c(u);typeof h=="function"&&(o.current=h)}else o.current?(o.current(),o.current=null):c(u);else c&&(c.current=u)},[e])}const Cw=T.createContext({});function Vr(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function M5(t,e,i,r,o,u){const{visualElement:c}=T.useContext(Qc),h=T.useContext(bw),m=T.useContext(Fc),d=T.useContext(Yc),g=d.reducedMotion,y=d.skipAnimations,v=T.useRef(null),x=T.useRef(!1);r=r||h.renderer,!v.current&&r&&(v.current=r(t,{visualState:e,parent:c,props:i,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:g,skipAnimations:y,isSVG:u}),x.current&&v.current&&(v.current.manuallyAnimateOnMount=!0));const w=v.current,C=T.useContext(Cw);w&&!w.projection&&o&&(w.type==="html"||w.type==="svg")&&D5(v.current,i,o,C);const E=T.useRef(!1);T.useInsertionEffect(()=>{w&&E.current&&w.update(i,m)});const A=i[O1],N=T.useRef(!!A&&!window.MotionHandoffIsComplete?.(A)&&window.MotionHasOptimisedAnimation?.(A));return Np(()=>{x.current=!0,w&&(E.current=!0,window.MotionIsMounted=!0,w.updateFeatures(),w.scheduleRenderMicrotask(),N.current&&w.animationState&&w.animationState.animateChanges())}),T.useEffect(()=>{w&&(!N.current&&w.animationState&&w.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(A)}),N.current=!1),w.enteringChildren=void 0)}),w}function D5(t,e,i,r){const{layoutId:o,layout:u,drag:c,dragConstraints:h,layoutScroll:m,layoutRoot:d,layoutCrossfade:g}=e;t.projection=new i(t.latestValues,e["data-framer-portal-id"]?void 0:Ew(t.parent)),t.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||h&&Vr(h),visualElement:t,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:m,layoutRoot:d})}function Ew(t){if(t)return t.options.allowProjection!==!1?t.projection:Ew(t.parent)}function Yd(t,{forwardMotionProps:e=!1,type:i}={},r,o){r&&h5(r);const u=i?i==="svg":sg(t),c=u?A5:E5;function h(d,g){let y;const v={...T.useContext(Yc),...d,layoutId:k5(d)},{isStatic:x}=v,w=y5(d),C=c(d,x);if(!x&&QT){O5();const E=L5(v);y=E.MeasureLayout,w.visualElement=M5(t,C,v,o,E.ProjectionNode,u)}return _.jsxs(Qc.Provider,{value:w,children:[y&&w.visualElement?_.jsx(y,{visualElement:w.visualElement,...v}):null,T5(t,d,N5(C,w.visualElement,g),C,x,e,u)]})}h.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const m=T.forwardRef(h);return m[R5]=t,m}function k5({layoutId:t}){const e=T.useContext(Rp).id;return e&&t!==void 0?e+"-"+t:t}function O5(t,e){T.useContext(bw).strict}function L5(t){const e=_w(),{drag:i,layout:r}=e;if(!i&&!r)return{};const o={...i,...r};return{MeasureLayout:i?.isEnabled(t)||r?.isEnabled(t)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function j5(t,e){if(typeof Proxy>"u")return Yd;const i=new Map,r=(u,c)=>Yd(u,c,t,e),o=(u,c)=>r(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?r:(i.has(c)||i.set(c,Yd(c,void 0,t,e)),i.get(c))})}const P5=(t,e)=>e.isSVG??sg(t)?new m3(e):new l3(e,{allowProjection:t!==T.Fragment});class I5 extends fs{constructor(e){super(e),e.animationState||(e.animationState=b3(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Gc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:i}=this.node.prevProps||{};e!==i&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let V5=0;class z5 extends fs{constructor(){super(...arguments),this.id=V5++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);i&&!e&&o.then(()=>{i(this.id)})}mount(){const{register:e,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const B5={animation:{Feature:I5},exit:{Feature:z5}};function al(t){return{point:{x:t.pageX,y:t.pageY}}}const U5=t=>e=>$p(e)&&t(e,al(e));function Eo(t,e,i,r){return Fo(t,e,U5(i),r)}const Aw=({current:t})=>t?t.ownerDocument.defaultView:null,Ax=(t,e)=>Math.abs(t-e);function H5(t,e){const i=Ax(t.x,e.x),r=Ax(t.y,e.y);return Math.sqrt(i**2+r**2)}const Rx=new Set(["auto","scroll"]);class Rw{constructor(e,i,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=x=>{this.handleScroll(x.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Kd(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,C=H5(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!C)return;const{point:E}=x,{timestamp:A}=Vt;this.history.push({...E,timestamp:A});const{onStart:N,onMove:D}=this.handlers;w||(N&&N(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,x)},this.handlePointerMove=(x,w)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=Qd(w,this.transformPagePoint),We.update(this.updatePoint,!0)},this.handlePointerUp=(x,w)=>{this.end();const{onEnd:C,onSessionEnd:E,resumeAnimation:A}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=Kd(x.type==="pointercancel"?this.lastMoveEventInfo:Qd(w,this.transformPagePoint),this.history);this.startEvent&&C&&C(x,N),E&&E(x,N)},!$p(e))return;this.dragSnapToOrigin=u,this.handlers=i,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=o||window;const m=al(e),d=Qd(m,this.transformPagePoint),{point:g}=d,{timestamp:y}=Vt;this.history=[{...g,timestamp:y}];const{onSessionStart:v}=i;v&&v(e,Kd(d,this.history)),this.removeListeners=il(Eo(this.contextWindow,"pointermove",this.handlePointerMove),Eo(this.contextWindow,"pointerup",this.handlePointerUp),Eo(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(e){let i=e.parentElement;for(;i;){const r=getComputedStyle(i);(Rx.has(r.overflowX)||Rx.has(r.overflowY))&&this.scrollPositions.set(i,{x:i.scrollLeft,y:i.scrollTop}),i=i.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const i=this.scrollPositions.get(e);if(!i)return;const r=e===window,o=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},u={x:o.x-i.x,y:o.y-i.y};u.x===0&&u.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=u.x,this.lastMoveEventInfo.point.y+=u.y):this.history.length>0&&(this.history[0].x-=u.x,this.history[0].y-=u.y),this.scrollPositions.set(e,o),We.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Ti(this.updatePoint)}}function Qd(t,e){return e?{point:e(t.point)}:t}function Nx(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Kd({point:t},e){return{point:t,delta:Nx(t,Nw(e)),offset:Nx(t,F5(e)),velocity:G5(e,.1)}}function F5(t){return t[0]}function Nw(t){return t[t.length-1]}function G5(t,e){if(t.length<2)return{x:0,y:0};let i=t.length-1,r=null;const o=Nw(t);for(;i>=0&&(r=t[i],!(o.timestamp-r.timestamp>In(e)));)i--;if(!r)return{x:0,y:0};r===t[0]&&t.length>2&&o.timestamp-r.timestamp>In(e)*2&&(r=t[1]);const u=Cn(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function q5(t,{min:e,max:i},r){return e!==void 0&&t<e?t=r?rt(e,t,r.min):Math.max(t,e):i!==void 0&&t>i&&(t=r?rt(i,t,r.max):Math.min(t,i)),t}function Mx(t,e,i){return{min:e!==void 0?t.min+e:void 0,max:i!==void 0?t.max+i-(t.max-t.min):void 0}}function Y5(t,{top:e,left:i,bottom:r,right:o}){return{x:Mx(t.x,i,o),y:Mx(t.y,e,r)}}function Dx(t,e){let i=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([i,r]=[r,i]),{min:i,max:r}}function Q5(t,e){return{x:Dx(t.x,e.x),y:Dx(t.y,e.y)}}function K5(t,e){let i=.5;const r=qt(t),o=qt(e);return o>r?i=zo(e.min,e.max-r,t.min):r>o&&(i=zo(t.min,t.max-o,e.min)),Wn(0,1,i)}function X5(t,e){const i={};return e.min!==void 0&&(i.min=e.min-t.min),e.max!==void 0&&(i.max=e.max-t.min),i}const Gm=.35;function W5(t=Gm){return t===!1?t=0:t===!0&&(t=Gm),{x:kx(t,"left","right"),y:kx(t,"top","bottom")}}function kx(t,e,i){return{min:Ox(t,e),max:Ox(t,i)}}function Ox(t,e){return typeof t=="number"?t:t[e]||0}const $5=new WeakMap;class Z5{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=wt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:i=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=y=>{i&&this.snapToCursor(al(y).point),this.stopAnimation()},c=(y,v)=>{const{drag:x,dragPropagation:w,onDragStart:C}=this.getProps();if(x&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=EO(x),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Yn(A=>{let N=this.getAxisMotionValue(A).get()||0;if(Kn.test(N)){const{projection:D}=this.visualElement;if(D&&D.layout){const L=D.layout.layoutBox[A];L&&(N=qt(L)*(parseFloat(N)/100))}}this.originPoint[A]=N}),C&&We.update(()=>C(y,v),!1,!0),Pm(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},h=(y,v)=>{this.latestPointerEvent=y,this.latestPanInfo=v;const{dragPropagation:x,dragDirectionLock:w,onDirectionLock:C,onDrag:E}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:A}=v;if(w&&this.currentDirection===null){this.currentDirection=eL(A),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",v.point,A),this.updateAxis("y",v.point,A),this.visualElement.render(),E&&We.update(()=>E(y,v),!1,!0)},m=(y,v)=>{this.latestPointerEvent=y,this.latestPanInfo=v,this.stop(y,v),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>{const{dragSnapToOrigin:y}=this.getProps();(y||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:g}=this.getProps();this.panSession=new Rw(e,{onSessionStart:u,onStart:c,onMove:h,onSessionEnd:m,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:Aw(this.visualElement),element:this.visualElement.current})}stop(e,i){const r=e||this.latestPointerEvent,o=i||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&We.postRender(()=>h(r,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:i}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,i,r){const{drag:o}=this.getProps();if(!r||!Vu(e,o,this.currentDirection))return;const u=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=q5(c,this.constraints[e],this.elastic[e])),u.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;e&&Vr(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Y5(r.layoutBox,e):this.constraints=!1,this.elastic=W5(i),o!==this.constraints&&!Vr(e)&&r&&this.constraints&&!this.hasMutatedConstraints&&Yn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=X5(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:i}=this.getProps();if(!e||!Vr(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=n3(r,o.root,this.visualElement.getTransformPagePoint());let c=Q5(o.layout.layoutBox,u);if(i){const h=i(JO(c));this.hasMutatedConstraints=!!h,h&&(c=W1(h))}return c}startAnimation(e){const{drag:i,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),m=this.constraints||{},d=Yn(g=>{if(!Vu(g,i,this.currentDirection))return;let y=m&&m[g]||{};c&&(y={min:0,max:0});const v=o?200:1e6,x=o?40:1e7,w={type:"inertia",velocity:r?e[g]:0,bounceStiffness:v,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...u,...y};return this.startAxisValueAnimation(g,w)});return Promise.all(d).then(h)}startAxisValueAnimation(e,i){const r=this.getAxisMotionValue(e);return Pm(this.visualElement,e),r.start(Yp(e,r,0,i,this.visualElement,!1))}stopAnimation(){Yn(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const i=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[i];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Yn(i=>{const{drag:r}=this.getProps();if(!Vu(i,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(i);if(o&&o.layout){const{min:c,max:h}=o.layout.layoutBox[i],m=u.get()||0;u.set(e[i]-rt(c,h,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:i}=this.getProps(),{projection:r}=this.visualElement;if(!Vr(i)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Yn(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const m=h.get();o[c]=K5({min:m,max:m},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.constraints=!1,this.resolveConstraints(),Yn(c=>{if(!Vu(c,e,null))return;const h=this.getAxisMotionValue(c),{min:m,max:d}=this.constraints[c];h.set(rt(m,d,o[c]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;$5.set(this.visualElement,this);const e=this.visualElement.current,i=Eo(e,"pointerdown",d=>{const{drag:g,dragListener:y=!0}=this.getProps(),v=d.target,x=v!==e&&kO(v);g&&y&&!x&&this.start(d)});let r;const o=()=>{const{dragConstraints:d}=this.getProps();Vr(d)&&d.current&&(this.constraints=this.resolveRefConstraints(),r||(r=J5(e,d.current,()=>this.scalePositionWithinConstraints())))},{projection:u}=this.visualElement,c=u.addEventListener("measure",o);u&&!u.layout&&(u.root&&u.root.updateScroll(),u.updateLayout()),We.read(o);const h=Fo(window,"resize",()=>this.scalePositionWithinConstraints()),m=u.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:g})=>{this.isDragging&&g&&(Yn(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=d[y].translate,v.set(v.get()+d[y].translate))}),this.visualElement.render())}));return()=>{h(),i(),c(),m&&m(),r&&r()}}getProps(){const e=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=Gm,dragMomentum:h=!0}=e;return{...e,drag:i,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:h}}}function Lx(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function J5(t,e,i){const r=B_(t,Lx(i)),o=B_(e,Lx(i));return()=>{r(),o()}}function Vu(t,e,i){return(e===!0||e===t)&&(i===null||i===t)}function eL(t,e=10){let i=null;return Math.abs(t.y)>e?i="y":Math.abs(t.x)>e&&(i="x"),i}class tL extends fs{constructor(e){super(e),this.removeGroupControls=An,this.removeListeners=An,this.controls=new Z5(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||An}update(){const{dragControls:e}=this.node.getProps(),{dragControls:i}=this.node.prevProps||{};e!==i&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Xd=t=>(e,i)=>{t&&We.update(()=>t(e,i),!1,!0)};class nL extends fs{constructor(){super(...arguments),this.removePointerDownListener=An}onPointerDown(e){this.session=new Rw(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Aw(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:i,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:Xd(e),onStart:Xd(i),onMove:Xd(r),onEnd:(u,c)=>{delete this.session,o&&We.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=Eo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Wd=!1;class iL extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:i,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=e;u&&(i.group&&i.group.add(u),r&&r.register&&o&&r.register(u),Wd&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),ac.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:i,visualElement:r,drag:o,isPresent:u}=this.props,{projection:c}=r;return c&&(c.isPresent=u,e.layoutDependency!==i&&c.setOptions({...c.options,layoutDependency:i}),Wd=!0,o||e.layoutDependency!==i||i===void 0||e.isPresent!==u?c.willUpdate():this.safeToRemove(),e.isPresent!==u&&(u?c.promote():c.relegate()||We.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Wp.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:i,switchLayoutGroup:r}=this.props,{projection:o}=e;Wd=!0,o&&(o.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Mw(t){const[e,i]=vw(),r=T.useContext(Rp);return _.jsx(iL,{...t,layoutGroup:r,switchLayoutGroup:T.useContext(Cw),isPresent:e,safeToRemove:i})}const sL={pan:{Feature:nL},drag:{Feature:tL,ProjectionNode:yw,MeasureLayout:Mw}};function jx(t,e,i){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",i==="Start");const o="onHover"+i,u=r[o];u&&We.postRender(()=>u(e,al(e)))}class rL extends fs{mount(){const{current:e}=this.node;e&&(this.unmount=RO(e,(i,r)=>(jx(this.node,r,"Start"),o=>jx(this.node,o,"End"))))}unmount(){}}class aL extends fs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=il(Fo(this.node.current,"focus",()=>this.onFocus()),Fo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Px(t,e,i){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",i==="Start");const o="onTap"+(i==="End"?"":i),u=r[o];u&&We.postRender(()=>u(e,al(e)))}class oL extends fs{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:i,propagate:r}=this.node.props;this.unmount=LO(e,(o,u)=>(Px(this.node,u,"Start"),(c,{success:h})=>Px(this.node,c,h?"End":"Cancel")),{useGlobalTarget:i,stopPropagation:r?.tap===!1})}unmount(){}}const qm=new WeakMap,$d=new WeakMap,lL=t=>{const e=qm.get(t.target);e&&e(t)},uL=t=>{t.forEach(lL)};function cL({root:t,...e}){const i=t||document;$d.has(i)||$d.set(i,{});const r=$d.get(i),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(uL,{root:t,...e})),r[o]}function fL(t,e,i){const r=cL(e);return qm.set(t,i),r.observe(t),()=>{qm.delete(t),r.unobserve(t)}}const hL={some:0,all:1};class dL extends fs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:i,margin:r,amount:o="some",once:u}=e,c={root:i?i.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:hL[o]},h=m=>{const{isIntersecting:d}=m;if(this.isInView===d||(this.isInView=d,u&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),v=d?g:y;v&&v(m)};return fL(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:i}=this.node;["amount","margin","root"].some(mL(e,i))&&this.startObserver()}unmount(){}}function mL({viewport:t={}},{viewport:e={}}={}){return i=>t[i]!==e[i]}const pL={inView:{Feature:dL},tap:{Feature:oL},focus:{Feature:aL},hover:{Feature:rL}},gL={layout:{ProjectionNode:yw,MeasureLayout:Mw}},yL={...B5,...pL,...sL,...gL},rg=j5(yL,P5);function Dw(t){const e=cs(()=>Us(t)),{isStatic:i}=T.useContext(Yc);if(i){const[,r]=T.useState(t);T.useEffect(()=>e.on("change",r),[])}return e}function kw(t,e){const i=Dw(e()),r=()=>i.set(e());return r(),Np(()=>{const o=()=>We.preRender(r,!1,!0),u=t.map(c=>c.on("change",o));return()=>{u.forEach(c=>c()),Ti(r)}}),i}function vL(t){wo.current=[],t();const e=kw(wo.current,t);return wo.current=void 0,e}function bL(t,e,i,r){if(typeof t=="function")return vL(t);const u=typeof e=="function"?e:GO(e,i,r),c=Array.isArray(t)?Ix(t,u):Ix([t],([m])=>u(m)),h=Array.isArray(t)?void 0:t.accelerate;return h&&!h.isTransformed&&typeof e!="function"&&Array.isArray(i)&&r?.clamp!==!1&&(c.accelerate={...h,times:e,keyframes:i,isTransformed:!0}),c}function Ix(t,e){const i=cs(()=>[]);return kw(t,()=>{i.length=0;const r=t.length;for(let o=0;o<r;o++)i[o]=t[o].get();return e(i)})}class _L{constructor(){this.componentControls=new Set}subscribe(e){return this.componentControls.add(e),()=>this.componentControls.delete(e)}start(e,i){this.componentControls.forEach(r=>{r.start(e.nativeEvent||e,i)})}cancel(){this.componentControls.forEach(e=>{e.cancel()})}stop(){this.componentControls.forEach(e=>{e.stop()})}}const xL=()=>new _L;function SL(){return cs(xL)}const Ow=T.createContext(null);function TL(t,e,i,r){if(!r)return t;const o=t.findIndex(g=>g.value===e);if(o===-1)return t;const u=r>0?1:-1,c=t[o+u];if(!c)return t;const h=t[o],m=c.layout,d=rt(m.min,m.max,.5);return u===1&&h.layout.max+i>d||u===-1&&h.layout.min+i<d?wD(t,o,o+u):t}function wL({children:t,as:e="ul",axis:i="y",onReorder:r,values:o,...u},c){const h=cs(()=>rg[e]),m=[],d=T.useRef(!1),g=T.useRef(null),y={axis:i,groupRef:g,registerItem:(w,C)=>{const E=m.findIndex(A=>w===A.value);E!==-1?m[E].layout=C[i]:m.push({value:w,layout:C[i]}),m.sort(AL)},updateOrder:(w,C,E)=>{if(d.current)return;const A=TL(m,w,C,E);m!==A&&(d.current=!0,r(A.map(EL).filter(N=>o.indexOf(N)!==-1)))}};T.useEffect(()=>{d.current=!1});const v=w=>{g.current=w,typeof c=="function"?c(w):c&&(c.current=w)},x={overflowAnchor:"none",...u.style};return _.jsx(h,{...u,style:x,ref:v,ignoreStrict:!0,children:_.jsx(Ow.Provider,{value:y,children:t})})}const CL=T.forwardRef(wL);function EL(t){return t.value}function AL(t,e){return t.layout.min-e.layout.min}const zu=50,Vx=25,RL=new Set(["auto","scroll"]),Ao=new WeakMap,Ro=new WeakMap;let xo=null;function NL(){if(xo){const t=Ym(xo,"y");t&&(Ro.delete(t),Ao.delete(t));const e=Ym(xo,"x");e&&e!==t&&(Ro.delete(e),Ao.delete(e)),xo=null}}function ML(t,e){const i=getComputedStyle(t),r=e==="x"?i.overflowX:i.overflowY,o=t===document.body||t===document.documentElement;return RL.has(r)||o}function Ym(t,e){let i=t?.parentElement;for(;i;){if(ML(i,e))return i;i=i.parentElement}return null}function DL(t,e,i){const r=e.getBoundingClientRect(),o=i==="x"?Math.max(0,r.left):Math.max(0,r.top),u=i==="x"?Math.min(window.innerWidth,r.right):Math.min(window.innerHeight,r.bottom),c=t-o,h=u-t;if(c<zu){const m=1-c/zu;return{amount:-Vx*m*m,edge:"start"}}else if(h<zu){const m=1-h/zu;return{amount:Vx*m*m,edge:"end"}}return{amount:0,edge:null}}function kL(t,e,i,r){if(!t)return;xo=t;const o=Ym(t,i);if(!o)return;const u=e-(i==="x"?window.scrollX:window.scrollY),{amount:c,edge:h}=DL(u,o,i);if(h===null){Ro.delete(o),Ao.delete(o);return}const m=Ro.get(o),d=o===document.body||o===document.documentElement;if(m!==h){if(!(h==="start"&&r<0||h==="end"&&r>0))return;Ro.set(o,h);const y=i==="x"?o.scrollWidth-(d?window.innerWidth:o.clientWidth):o.scrollHeight-(d?window.innerHeight:o.clientHeight);Ao.set(o,y)}if(c>0){const g=Ao.get(o);if((i==="x"?d?window.scrollX:o.scrollLeft:d?window.scrollY:o.scrollTop)>=g)return}i==="x"?d?window.scrollBy({left:c}):o.scrollLeft+=c:d?window.scrollBy({top:c}):o.scrollTop+=c}function zx(t,e=0){return Bt(t)?t:Dw(e)}function OL({children:t,style:e={},value:i,as:r="li",onDrag:o,onDragEnd:u,layout:c=!0,...h},m){const d=cs(()=>rg[r]),g=T.useContext(Ow),y={x:zx(e.x),y:zx(e.y)},v=bL([y.x,y.y],([A,N])=>A||N?1:"unset"),{axis:x,registerItem:w,updateOrder:C,groupRef:E}=g;return _.jsx(d,{drag:x,...h,dragSnapToOrigin:!0,style:{...e,x:y.x,y:y.y,zIndex:v},layout:c,onDrag:(A,N)=>{const{velocity:D,point:L}=N,B=y[x].get();C(i,B,D[x]),kL(E.current,L[x],x,D[x]),o&&o(A,N)},onDragEnd:(A,N)=>{NL(),u&&u(A,N)},onLayoutMeasure:A=>{w(i,A)},ref:m,ignoreStrict:!0,children:t})}const LL=T.forwardRef(OL);let Qm=null;const jL=({item:t,index:e,onRemove:i,onPlay:r,onInvite:o,isFirst:u,queueMode:c,invitedSongId:h,onDragOverNowPlaying:m,onDropOnNowPlaying:d})=>{const g=SL(),y=T.useRef(!1),v=C=>{if(!Qm)return!1;const E=Qm.getBoundingClientRect(),A=C.clientY??C.touches?.[0]?.clientY??0,N=C.clientX??C.touches?.[0]?.clientX??0;return A>=E.top&&A<=E.bottom&&N>=E.left&&N<=E.right},x=C=>{const E=v(C);E!==y.current&&(y.current=E,m?.(E))},w=C=>{y.current?(y.current=!1,m?.(!1),d?.(t)):(y.current=!1,m?.(!1))};return _.jsx(LL,{value:t,id:t.id,dragListener:!1,dragControls:g,layout:"position",className:"relative",whileDrag:{scale:1.02},onDrag:x,onDragEnd:w,children:_.jsxs(Br,{className:"flex flex-col gap-2 p-2 border-0 shadow-sm relative group rounded-lg select-none",children:[_.jsxs("div",{className:"flex items-start gap-3",children:[_.jsx("div",{className:"text-slate-300 mt-1 cursor-grab active:cursor-grabbing hover:text-slate-500 transition-colors touch-none",onPointerDown:C=>g.start(C),children:_.jsx(KM,{size:16})}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsx("h3",{className:"font-bold text-slate-800 text-sm leading-snug truncate uppercase tracking-tight",title:t.title,children:t.title||"Khng c tiu "}),_.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[_.jsx("span",{className:"text-[10px] font-bold text-slate-500 bg-slate-100 px-2 py-0.5 rounded border border-slate-200 uppercase tracking-wider",children:t.addedBy}),t.isPriority&&_.jsx("span",{className:"text-[10px] font-bold text-white bg-red-500 px-2 py-0.5 rounded border border-red-600 uppercase tracking-wider animate-pulse",children:"u Tin"}),t.round&&!t.isPriority&&_.jsxs("span",{className:"text-[10px] font-bold text-indigo-500 bg-indigo-50 px-2 py-0.5 rounded border border-indigo-100 uppercase tracking-wider",children:["Vng ",t.round]})]})]}),_.jsx("button",{onClick:()=>i(t.id),className:"text-slate-300 hover:text-red-500 transition-colors p-1 rounded-md cursor-pointer active:scale-90",title:"Xa",children:_.jsx(YT,{size:16})})]}),u&&c==="manual"&&_.jsxs("div",{className:"mt-1 pt-2 border-t border-slate-100 flex gap-2",children:[_.jsx(wn,{size:"sm",onClick:()=>o(t),className:"bg-indigo-600 hover:bg-indigo-700 text-white font-black text-[10px] px-3 py-1.5 uppercase tracking-wider flex-1",children:"Mi Ln Sn Khu"}),_.jsx(wn,{size:"sm",onClick:()=>r(t),className:`text-white font-black text-[10px] px-3 py-1.5 uppercase tracking-wider flex-1 ${h===t.id?"bg-green-600 hover:bg-green-700":"bg-slate-800 hover:bg-slate-900"}`,children:"Pht Ngay"})]}),u&&c==="auto"&&_.jsx("div",{className:"mt-1 pt-2 border-t border-slate-100 flex justify-end",children:_.jsx(wn,{size:"sm",onClick:()=>r(t),className:"bg-slate-800 hover:bg-slate-900 text-white font-black text-[10px] px-3 py-1.5 uppercase tracking-wider w-full",children:"Pht Ngay"})})]})})},PL=({onReAnnounce:t})=>{const{queue:e,removeFromQueue:i,currentSong:r,setCurrentSong:o,setIsPlaying:u,isPlaying:c,reorderQueue:h,queueMode:m,invitedSongId:d,setInvitedSongId:g,waitingForGuest:y,setWaitingForGuest:v}=me(),[x,w]=T.useState(!1),[C,E]=T.useState(null),[A,N]=T.useState(null),[D,L]=T.useState(!1),B=T.useRef(null),ne=X=>{const j=e.find(Y=>Y.id===X);j&&E(j)},K=()=>{C&&(r?.id===C.id&&(o(null),u(!1)),i(C.id),E(null))},z=X=>{o(X),i(X.id)},ee=X=>{g(X.id)},se=async()=>{try{const{clearFirebaseQueue:X}=await zr(async()=>{const{clearFirebaseQueue:j}=await Promise.resolve().then(()=>LE);return{clearFirebaseQueue:j}},[]);await X(),e.forEach(j=>i(j.id)),w(!1)}catch(X){console.error("[QueueList] Clear queue failed:",X)}},ye=X=>{B.current=X,Qm=X},ve=X=>{L(X)},Ee=X=>{N(X)},Ve=()=>{if(!A)return;const X={...A,isStaged:!0};u(!1),v(!1),g(null),o(X),i(A.id),N(null)};return _.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"space-y-4",children:[_.jsx(Tx,{children:r&&_.jsxs(rg.div,{ref:ye,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0},className:"mb-6",children:[_.jsxs("div",{className:"flex items-center gap-2 mb-2 px-1",children:[_.jsxs("span",{className:"relative flex h-3 w-3",children:[_.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-indigo-400 opacity-75"}),_.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-indigo-500"})]}),_.jsx("h2",{className:"text-xs font-black text-indigo-500 uppercase tracking-widest",children:y?"ang Ch Khch...":c?"ang Pht":"Sn Sng"})]}),_.jsxs(Br,{className:`p-3 bg-indigo-600 border-0 relative rounded-xl text-white shadow-sm overflow-hidden transition-all duration-200 ${D?"ring-3 ring-amber-400 ring-offset-2 scale-[1.02] bg-indigo-500":""}`,children:[_.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-white/10 rounded-full -mr-10 -mt-10"}),D&&_.jsx("div",{className:"absolute inset-0 bg-amber-400/20 z-20 flex items-center justify-center rounded-xl",children:_.jsxs("div",{className:"flex items-center gap-2 bg-amber-500 text-white px-4 py-2 rounded-lg shadow-lg",children:[_.jsx(b_,{size:18}),_.jsx("span",{className:"text-xs font-black uppercase tracking-wider",children:"Th  thay th"})]})}),_.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[_.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center flex-shrink-0 border border-white/10",children:_.jsxs("div",{className:"flex gap-0.5 items-end h-3",children:[_.jsx("div",{className:"w-0.5 bg-white animate-[bounce_1s_infinite] h-1.5"}),_.jsx("div",{className:"w-0.5 bg-white animate-[bounce_1.2s_infinite] h-3"}),_.jsx("div",{className:"w-0.5 bg-white animate-[bounce_0.8s_infinite] h-2"}),_.jsx("div",{className:"w-0.5 bg-white animate-[bounce_1.1s_infinite] h-2.5"})]})}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsx("h3",{className:"font-bold text-sm leading-normal truncate mb-0.5",title:r.title,style:{paddingBottom:"2px"},children:r.title}),_.jsxs("div",{className:"flex items-center text-[10px] text-indigo-100 gap-1.5",children:[_.jsx("span",{className:"truncate max-w-[80px] opacity-80",style:{display:"none"},children:r.artist}),_.jsx("span",{className:"w-0.5 h-0.5 rounded-full bg-white/50 shrink-0",style:{display:"none"}}),_.jsxs("div",{className:"flex items-center gap-1 bg-white/20 px-1.5 py-0.5 rounded-md border border-white/10",children:[_.jsx("span",{className:"opacity-70 font-medium",children:"Ht:"}),_.jsx("span",{className:"font-black text-white uppercase truncate max-w-[80px]",children:r.addedBy||"Khch"})]})]})]})]}),m==="manual"&&!c&&_.jsx("div",{className:"mt-2 pt-2 border-t border-white/20 flex gap-2 relative z-10",children:_.jsx("button",{onClick:t,className:"flex-1 bg-white/20 hover:bg-white/30 text-white font-black text-[10px] px-3 py-1.5 uppercase tracking-wider rounded-lg transition-all cursor-pointer active:scale-95",children:" Mi Ln Li"})})]})]})}),_.jsxs("div",{className:"space-y-2",children:[_.jsxs("div",{className:"flex justify-between items-end px-1 mb-2",children:[_.jsx("h2",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Hng Ch"}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"text-[10px] font-black text-slate-400 bg-slate-100 px-2 py-0.5 rounded-full",children:e.length}),e.length>0&&_.jsx("button",{onClick:()=>w(!0),className:"text-slate-400 hover:text-red-500 transition-colors p-1 rounded-md cursor-pointer active:scale-90 hover:bg-red-50",title:"Xa hng ch",children:_.jsx(YT,{size:14})})]})]}),e.length===0&&!r&&_.jsx("div",{className:"text-center py-10 text-slate-300 text-xs font-bold uppercase tracking-widest",children:"Cha c bi no"}),_.jsx(CL,{axis:"y",values:e,onReorder:h,className:"space-y-2",children:_.jsx(Tx,{children:e.map((X,j)=>_.jsx(jL,{item:X,index:j,onRemove:ne,onPlay:z,onInvite:ee,isFirst:!r&&j===0,queueMode:m,invitedSongId:d,onDragOverNowPlaying:ve,onDropOnNowPlaying:Ee},X.id))})})]})]}),x&&_.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/85 p-4 animate-in fade-in duration-200",children:_.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm overflow-hidden shadow-2xl transform transition-all scale-100",children:[_.jsxs("div",{className:"p-4 border-b border-slate-100 bg-red-50 flex justify-between items-center",children:[_.jsx("h3",{className:"text-lg font-black text-red-600 uppercase tracking-tighter",children:"Xa Hng Ch?"}),_.jsx("button",{onClick:()=>w(!1),className:"p-2 hover:bg-red-100 rounded-full transition-colors",children:_.jsx(Ju,{size:20,className:"text-red-500"})})]}),_.jsxs("div",{className:"p-6",children:[_.jsxs("p",{className:"text-slate-700 font-bold mb-1",children:["Bn mun xa tt c ",_.jsx("span",{className:"text-red-600",children:e.length})," bi ht?"]}),_.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Hnh ng ny khng th hon tc."})]}),_.jsxs("div",{className:"p-4 bg-slate-50 flex gap-3 border-t border-slate-100",children:[_.jsx(wn,{onClick:()=>w(!1),variant:"ghost",className:"flex-1 font-bold text-slate-600",children:"Hy"}),_.jsx(wn,{onClick:se,className:"flex-1 bg-red-600 hover:bg-red-700 text-white font-black",children:"Xa Tt C"})]})]})}),C&&_.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/85 p-4 animate-in fade-in duration-200",children:_.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm overflow-hidden shadow-2xl transform transition-all scale-100",children:[_.jsxs("div",{className:"p-4 border-b border-slate-100 bg-slate-50 flex justify-between items-center",children:[_.jsx("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tighter",children:"Xc Nhn Xa"}),_.jsx("button",{onClick:()=>E(null),className:"p-2 hover:bg-slate-200 rounded-full transition-colors",children:_.jsx(Ju,{size:20,className:"text-slate-500"})})]}),_.jsxs("div",{className:"p-6",children:[_.jsx("p",{className:"text-slate-600 font-medium mb-2",children:"Bn c chc mun xa bi ht ny?"}),_.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200",children:[_.jsx("h4",{className:"font-black text-slate-800 text-sm line-clamp-2",children:C.title}),_.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[_.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Ht:"}),_.jsx("span",{className:"text-[10px] font-bold text-indigo-600 bg-indigo-50 px-2 py-0.5 rounded border border-indigo-100 uppercase",children:C.addedBy})]})]})]}),_.jsxs("div",{className:"p-4 bg-slate-50 flex gap-3 border-t border-slate-100",children:[_.jsx(wn,{onClick:()=>E(null),variant:"ghost",className:"flex-1 font-bold text-slate-600",children:"Gi Li"}),_.jsx(wn,{onClick:K,className:"flex-1 bg-red-600 hover:bg-red-700 text-white font-black",children:"Xa Bi"})]})]})}),A&&_.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/85 p-4 animate-in fade-in duration-200",children:_.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm overflow-hidden shadow-2xl transform transition-all scale-100",children:[_.jsxs("div",{className:"p-4 border-b border-slate-100 bg-amber-50 flex justify-between items-center",children:[_.jsx("h3",{className:"text-lg font-black text-amber-700 uppercase tracking-tighter",children:"Thay Th Bi Ht?"}),_.jsx("button",{onClick:()=>N(null),className:"p-2 hover:bg-amber-100 rounded-full transition-colors",children:_.jsx(Ju,{size:20,className:"text-amber-600"})})]}),_.jsxs("div",{className:"p-6 space-y-3",children:[_.jsxs("p",{className:"text-slate-600 font-medium text-sm",children:["Bn mun thay th bi ang ",c?"pht":"sn sng","?"]}),_.jsxs("div",{className:"bg-red-50 p-3 rounded-lg border border-red-200",children:[_.jsx("div",{className:"flex items-center gap-1.5 mb-1",children:_.jsx("span",{className:"text-[9px] font-black text-red-500 uppercase tracking-wider",children:"B"})}),_.jsx("h4",{className:"font-black text-slate-800 text-sm line-clamp-1",children:r?.title}),_.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[_.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Ht:"}),_.jsx("span",{className:"text-[10px] font-bold text-red-600 bg-red-100 px-2 py-0.5 rounded border border-red-200 uppercase",children:r?.addedBy})]})]}),_.jsx("div",{className:"flex justify-center",children:_.jsx("div",{className:"w-6 h-6 rounded-full bg-amber-100 flex items-center justify-center",children:_.jsx(b_,{size:14,className:"text-amber-600 rotate-180"})})}),_.jsxs("div",{className:"bg-green-50 p-3 rounded-lg border border-green-200",children:[_.jsx("div",{className:"flex items-center gap-1.5 mb-1",children:_.jsx("span",{className:"text-[9px] font-black text-green-600 uppercase tracking-wider",children:"Thay bng"})}),_.jsx("h4",{className:"font-black text-slate-800 text-sm line-clamp-1",children:A.title}),_.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[_.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Ht:"}),_.jsx("span",{className:"text-[10px] font-bold text-green-600 bg-green-100 px-2 py-0.5 rounded border border-green-200 uppercase",children:A.addedBy})]})]})]}),_.jsxs("div",{className:"p-4 bg-slate-50 flex gap-3 border-t border-slate-100",children:[_.jsx(wn,{onClick:()=>N(null),variant:"ghost",className:"flex-1 font-bold text-slate-600",children:"Hy"}),_.jsx(wn,{onClick:Ve,className:"flex-1 bg-amber-500 hover:bg-amber-600 text-white font-black",children:"Thay Th"})]})]})})]})},Lw=ke.forwardRef(({className:t,error:e,...i},r)=>_.jsxs("div",{className:"w-full",children:[_.jsx("input",{ref:r,className:Ap("w-full px-5 py-4 rounded-2xl bg-slate-50 border border-slate-200 text-slate-800 placeholder-slate-400 outline-none transition-all duration-300 focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 shadow-inner",e&&"border-red-500 focus:border-red-500 focus:ring-red-500/10 bg-red-50/50",t),...i}),e&&_.jsx("p",{className:"mt-2 text-sm text-red-500 ml-2",children:e})]}));async function IL(t){if(!t)return[];const e=t.toLowerCase().includes("karaoke")?t:`${t} karaoke`;try{const i=new AbortController,r=setTimeout(()=>i.abort(),8e3),o=await fetch(`/api/yt/search?q=${encodeURIComponent(e)}`,{signal:i.signal});if(clearTimeout(r),!o.ok)throw new Error(o.status);const u=await o.json(),c=["karaoke","beat","instrumental","nhc sng","tone","phi"];return u.filter(h=>{const m=h.title.toLowerCase();return c.some(d=>m.includes(d))}).map(h=>{let m=h.viewCount||0,d=1;const g=h.title.toLowerCase(),y=t.toLowerCase(),v=y.split(/\s+/).filter(E=>E.length>0);g.includes(y)&&(d*=2),y.includes("tone nam")&&g.includes("tone nam")&&(d*=3),y.includes("tone n")&&g.includes("tone n")&&(d*=3),y.includes("tone nu")&&g.includes("tone n")&&(d*=3),g.includes("karaoke")&&(d*=1.2),(g.includes("beat")||g.includes("instrumental"))&&(d*=1.1);let x=0;v.forEach(E=>{g.includes(E)&&x++}),d+=x*.1,x===v.length&&(d*=1.5),["live","concert","fancam","cover","remix"].forEach(E=>{g.includes(E)&&!y.includes(E)&&(d*=.5)}),(g.includes("official")||g.includes("mv"))&&!g.includes("karaoke")&&(d*=.5);let C=m*d;return C===0&&x>0&&(C=1e3*d),{...h,score:C}}).sort((h,m)=>m.score-h.score).map(h=>({...h,videoId:h.id,isApi:!0}))}catch(i){return console.error("YouTube Search Failed:",i),[]}}const VL=[["Duyn Phn","Nh Qunh"],["Su Tm Thip Hng","Quang L - L Quyn"],["Vng L Me Bay","Nh Qunh"],["Chuyn Gin Thin L","Mnh Qunh"],["Em Ca Ngy Hm Qua","Sn Tng M-TP"],["Lc Tri","Sn Tng M-TP"],["Ni Ny C Anh","Sn Tng M-TP"],["Hng Nhan","Jack"],["Bc Phn","Jack"],["Sng Gi","Jack - K-ICM"],["Ai Chung Tnh c Mi","inh Tng Huy"],["Thuyn Quyn","Diu Kin"],["Mi Anh V Thm Qu Em","Thy Trang"],["o Mi C Mau","Phi Nhung"],["Trch Ai V Tnh","Phi Nhung"],["Chim Trng M Ci","an Trng - Cm Ly"],["Ct i Ni Su","Tng Duy Tn"],["Bn Trn Tng Lu","Tng Duy Tn"],["See Tnh","Hong Thy Linh"],[" M Ni Cho M Nghe","Hong Thy Linh"],["Ngy Mai Ngi Ta Ly Chng","Thnh t"],["Hoa N Khng Mu","Hoi Lm"],["Bun Lm Chi Em i","Hoi Lm"],["G Ca Tri Tim","Quang L - Mai Thin Vn"],["p M Cuc Tnh","an Nguyn"],["Li Nh Ngi Yu","an Nguyn"],["Xun Ny Con Khng V","Quang L"],["Cnh Thip u Xun","Nh Qunh"],["Cu Hn Cu Th","nh Dng"],[" Vng","nh Dng"],["Ph m","Nh Qunh"],["Ma m Tnh Nh","Quang L"],["Chuyn Tu Hong Hn","L Quyn"],["Sng Trng Min Qu Ngoi","Quang L"],["Nhn C Cho Em","Mnh Qunh"],["Tnh Ch p Khi Cn Dang D","L Quyn"],["i Thng Hai M","L Quyn"],["Lu i Tnh i","m Vnh Hng"],["Bin Tnh","m Vnh Hng"],["Xin Li Tnh Yu","m Vnh Hng"],["Say Tnh","m Vnh Hng"],["Na Vng Trng","m Vnh Hng"],["Chc Ai  S V","Sn Tng M-TP"],["Mun Ri M Sao Cn","Sn Tng M-TP"],["Chng Ta Ca Hin Ti","Sn Tng M-TP"],["Hy Trao Cho Anh","Sn Tng M-TP"],["C Chc Yu L y","Sn Tng M-TP"],["Em Gi Ma","Hng Trm"],["Ngc","Hng Trm"],["Duyn Mnh L","Hng Trm"]];function jw(t){return t?t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(//g,"d").replace(//g,"D").toLowerCase():""}const Bx=VL.map(t=>{const[e,i]=t;return{title:e,artist:i,searchStr:jw(`${e} ${i}`),raw:t}}),zL=t=>{if(!t||t.length<2)return[];const e=jw(t.trim()),i=[];for(let r=0;r<Bx.length;r++){const o=Bx[r];if(o.searchStr.includes(e)&&i.push({title:o.title,artist:o.artist,query:`${o.title} ${o.artist}`,source:"local",score:1}),i.length>=10)break}return i},Pw="AIzaSyCrFZQQ5dQGN2g6wgl2zlGkb4gpigA7OnQ",BL="gemini-2.5-flash",Iw=`https://generativelanguage.googleapis.com/v1beta/models/${BL}:generateContent`,Vw=t=>{if(!t)return null;let e=t.replace(/```json/g,"").replace(/```/g,"").trim();e=e.replace(/([{,]\s*)([a-zA-Z0-9_]+)(\s*:)/g,'$1"$2"$3'),e=e.replace(/([{,]\s*)'([a-zA-Z0-9_]+)'(\s*:)/g,'$1"$2"$3');const i=e.indexOf("["),r=e.lastIndexOf("]");if(i!==-1){if(r!==-1&&r>i)return e.substring(i,r+1);{let c=e.substring(i);const h=c.lastIndexOf("}");if(h!==-1)return c.substring(0,h+1)+"]"}}const o=e.indexOf("{"),u=e.lastIndexOf("}");return o!==-1?u!==-1&&u>o?e.substring(o,u+1):e.substring(o):e},UL=`Gi  bi ht karaoke.
Input: t kha (c th sai chnh t, g tt, thiu du).
Output: JSON array string 8-10 items "Title|Artist|Query".
Format: ["Title|Artist|Query", "Title|Artist|Query"]
Quy tc:
1. CH gi  bi ht C THT, ph bin ti Vit Nam. TUYT I KHNG BA TN.
2. U TIN SA LI CHNH T & VIT TT (vd: "co"->"cho", "dc"->"c").
3. a dng kt qu, TRNH trng lp.
4. CH TR V JSON ARRAY STRING.
5. Dng du gch ng (|)  ngn cch.`,HL=async(t,e)=>{if(!t||t.trim().length<2)return null;try{const i=await fetch(`${Iw}?key=${Pw}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:t.trim().slice(0,100)}]}],systemInstruction:{parts:[{text:UL}]},generationConfig:{response_mime_type:"application/json",response_schema:{type:"ARRAY",items:{type:"STRING"}},max_output_tokens:2048,temperature:.3,thinkingConfig:{thinkingBudget:0}}}),signal:e});if(!i.ok){const u=await i.text().catch(()=>"");return console.warn("Gemini API Error:",i.status,u),null}const o=(await i.json()).candidates?.[0]?.content?.parts?.[0]?.text;if(!o)return null;try{const u=Vw(o);if(!u)return null;const c=JSON.parse(u);if(!Array.isArray(c))return null;const h=[],m=new Set;return c.forEach(d=>{if(typeof d!="string")return;const g=d.split("|"),y=g[0]?.trim(),v=g[1]?.trim()||"";if(!y)return;const x=`${y.toLowerCase()}-${v.toLowerCase()}`;m.has(x)||(m.add(x),h.push({title:y,artist:v,query:g[2]?.trim()||y}))}),h}catch(u){throw console.warn("Gemini JSON Parse Error (Suggestions):",u.message),console.debug("Raw Text:",o),new Error("JSON_PARSE_ERROR")}}catch(i){if(i.name==="AbortError"||i.message==="JSON_PARSE_ERROR")throw i;return console.warn("Gemini Request Failed:",i),null}},Km=async(t,e,i=2)=>{for(let r=0;r<=i;r++)try{const o=await HL(t,e);if(o)return o}catch(o){if(o.name==="AbortError")throw o;if(o.message==="JSON_PARSE_ERROR"&&r<i){console.warn(`Gemini JSON Error, Retrying (${r+1}/${i})...`);continue}r===i&&console.warn("Gemini Suggestions Failed after retries:",o)}return null},FL=`Extract ONLY the Song Title.
Input: raw youtube title.
Output: JSON { "title": "Song Name", "artist": "Artist Name" }
Rules:
1. EXCLUDE Artist Name from Title.
2. If format is "Artist - Title" or "Artist | Title", extract Title correctly.
3. Remove 'karaoke', 'remix', 'beat', 'cover', 'mv', 'official', 'lyrics', '[...]', '(...)' tags.
4. Remove 'tone', 'h tone', 'nng tone', 'd ht', 'tone nam', 'tone n', 'h beat', 'gc'.
5. Capitalize correctly.`,GL=async t=>{if(!t)return null;try{const e=await fetch(`${Iw}?key=${Pw}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:t.slice(0,150)}]}],systemInstruction:{parts:[{text:FL}]},generationConfig:{response_mime_type:"application/json",max_output_tokens:100,temperature:.1,thinkingConfig:{thinkingBudget:0}}})});if(!e.ok)return null;const r=(await e.json()).candidates?.[0]?.content?.parts?.[0]?.text;if(!r)return null;try{const o=Vw(r);return o?JSON.parse(o):null}catch(o){return console.warn("Gemini JSON Parse Error (Clean Title):",o.message),console.debug("Raw Text:",r),null}}catch(e){return console.warn("LLM Clean Title Request Failed:",e),null}},qL=Object.freeze(Object.defineProperty({__proto__:null,cleanSongTitle:GL,fetchGeminiSuggestions:Km,getSmartSuggestions:Km},Symbol.toStringTag,{value:"Module"})),Ux="karaoke_history",Hx="youtube_id_cache",YL=(t,e)=>{try{const r=JSON.parse(localStorage.getItem(Ux)||"[]").filter(o=>o.title!==t);r.unshift({title:t,artist:e,timestamp:Date.now()}),localStorage.setItem(Ux,JSON.stringify(r.slice(0,50)))}catch(i){console.error("Record play failed",i)}},QL=(t,e,i)=>{try{const r=JSON.parse(localStorage.getItem(Hx)||"{}"),o=`${t}-${e}`;r[o]=i,localStorage.setItem(Hx,JSON.stringify(r))}catch{}},Zd=new Map,zw=async(t,e,i)=>{if(!t||t.trim().length<2)return[];const r=t.trim(),o=zL(r);if(Zd.has(r)){const u=Zd.get(r);return i&&setTimeout(()=>i(u),0),o}return Km(t,e).then(u=>{if(!e.aborted&&u&&Array.isArray(u)&&u.length>0){const c=u.map(h=>({...h,source:"ai"}));Zd.set(r,c),i&&i(c)}}).catch(u=>{}),o},KL=Object.freeze(Object.defineProperty({__proto__:null,cacheYoutubeId:QL,getSmartSuggestions:zw,recordPlay:YL},Symbol.toStringTag,{value:"Module"})),XL=(t,e)=>{const[i,r]=T.useState([]),[o,u]=T.useState(!1),c=T.useRef(null),h=T.useRef(null),m=T.useRef(null),d=T.useCallback(async g=>{if(!g||g.trim().length<2){r([]),u(!1);return}const y=g.trim();u(!0),c.current&&c.current.abort(),c.current=new AbortController;const v=c.current.signal;try{const w=await zw(y,v,C=>{v.aborted||(r(E=>[...E,...C]),u(!1))});v.aborted||(r(w),m.current=y,w.length>=2&&u(!1))}catch(x){x.name!=="AbortError"&&console.warn("Suggestion chain failed",x),v.aborted||u(!1)}},[]);return T.useEffect(()=>(h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{d(t)},50),()=>{h.current&&clearTimeout(h.current),c.current&&c.current.abort()}),[t,d]),T.useEffect(()=>{e&&t&&t.trim().length>=2&&i.length===0&&d(t)},[e,t,i.length,d]),{suggestions:i,isLoading:o}},WL=({suggestions:t,isLoading:e,onSelect:i,selectedIndex:r=-1})=>e?_.jsx("div",{className:"absolute top-full left-0 right-0 bg-white shadow-xl rounded-b-xl border border-slate-200 mt-1 z-50 p-4",children:_.jsxs("div",{className:"flex items-center justify-center gap-2 text-slate-400",children:[_.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-current border-t-transparent rounded-full"}),_.jsx("span",{className:"text-sm font-medium",children:"ang tm  tng..."})]})}):!t||t.length===0?null:_.jsxs("div",{className:"absolute top-full left-0 right-0 bg-white shadow-xl rounded-b-xl border border-slate-200 z-50 overflow-hidden",children:[_.jsx("div",{className:"max-h-[60vh] overflow-y-auto custom-scrollbar",children:t.map((o,u)=>{const c=u===r,h=o.source==="ai"&&(u===0||t[u-1].source!=="ai");return _.jsxs(T.Fragment,{children:[h&&_.jsxs("div",{className:"px-4 py-2 bg-indigo-50 text-xs font-bold text-indigo-500 uppercase tracking-widest flex items-center gap-2 mt-1 border-t border-indigo-100",children:[_.jsx(Sm,{size:12}),"Gi  t AI"]}),_.jsxs("div",{onMouseDown:m=>{m.preventDefault(),i(o.query)},className:`flex items-center gap-4 p-4 cursor-pointer transition-colors border-b border-slate-50 last:border-0 group
                                    ${c?"bg-indigo-50 border-l-4 border-l-indigo-500":"hover:bg-indigo-50 border-l-4 border-l-transparent"}
                                    ${o.source==="ai"?"bg-indigo-50/30":""}
                                `,children:[_.jsx("div",{className:`p-2 rounded-full transition-colors ${c?"bg-indigo-100 text-indigo-600":o.source==="ai"?"bg-purple-100/50 text-purple-500":"bg-slate-100 text-slate-400 group-hover:bg-indigo-100 group-hover:text-indigo-600"}`,children:o.source==="ai"?_.jsx(Sm,{size:20}):_.jsx(UT,{size:20})}),_.jsx("div",{className:"flex-1 min-w-0",children:_.jsx("div",{className:`text-lg font-bold truncate transition-colors ${c?"text-indigo-700":"text-slate-800 group-hover:text-indigo-700"}`,children:o.title})})]})]},u)})}),_.jsx("div",{className:"bg-slate-50 p-2 text-center text-[10px] font-bold text-slate-300 uppercase tracking-widest",children:"Thng minh bi Gemini AI"})]}),$L={a:["A","","","","",""],an:["An","n","n","n","n"],anh:["Anh","nh","nh"],au:["u","u"],ba:["Ba","B","B","B","B"],bac:["Bc","Bc","Bc"],bach:["Bch","Bch"],ban:["Ban","Bn","Bn","Bn","Bn"],bang:["Bang","Bng","Bng","Bng","Bng"],bao:["Bao","Bo","Bo","Bo","Bo"],bay:["Bay","By","By","By","By"],be:["B","B","B","B"],ben:["Bn","Bn"],bi:["Bi","B","B","B"],bia:["Bia","Ba"],bich:["Bch"],bien:["Bin","Bin","Bin"],binh:["Binh","Bnh","Bnh"],bo:["Bo","B","B","B","B","B","B","B","B"],boi:["Bi","Bi"],bon:["Bn","Bn"],bong:["Bong","Bng","Bng","Bng","Bng"],bu:["Bu","B","B","B"],bui:["Bi","Bi"],buon:["Bun","Bun"],buong:["Bung","Bung","Bng"],buoi:["Bi"],ca:["Ca","C","C","C"],cac:["Cc"],cai:["Cai","Ci","Ci"],cam:["Cam","Cm","Cm","Cm"],can:["Can","Cn","Cn","Cn","Cn","Cn"],canh:["Canh","Cnh","Cnh","Cnh"],cao:["Cao","Co","Co","Co"],cat:["Ct","Ct"],chi:["Chi","Ch","Ch","Ch"],chien:["Chin","Chin"],chinh:["Chinh","Chnh","Chnh"],chu:["Chu","Ch","Ch","Ch","Chu","Chu"],chung:["Chung","Chng","Chng","Chng"],chuong:["Chng","Chng","Chng"],co:["Co","C","C","C","C","C","C","C","C","C"],cong:["Cong","Cong","Cng","Cng","Cng","Cng"],cu:["Cu","C","C","C","C","C","C","C"],cuc:["Cc","Cc"],cuong:["Cng","Cng","Cng"],cuu:["Cu","Cu","Cu"],da:["Da","D","a","","",""],dac:["c","c"],dai:["Dai","Di","i","ai"],dam:["m","m","m"],dan:["Dan","Dn","Dn","Dn","an","n","n"],dang:["Dang","Dng","ang","ng","ng","ng","ng"],dao:["Dao","Do","Do","o","o","o"],dat:["t","t"],dau:["Du","Du","Du","au","u","u","u","u"],de:["D","","",""],di:["Di","D","D","i"],diep:["Dip","ip"],dieu:["Diu","Diu","Diu","iu","iu","iu"],dinh:["Dinh","Dnh","inh","nh","nh","nh"],do:["Do","D","o","","","","","",""],doan:["Doan","oan","on","on"],doi:["i","i","i","i"],don:["n","n","n"],dong:["Dong","Dng","ng","ng","ng"],du:["Du","D","D","D","u","","","D"],duc:["Dc","c"],dung:["Dung","Dng","Dng","Dng","ng"],duoc:["c"],duong:["Dng","Dng","ng"],duy:["Duy","Dy"],duyen:["Duyn"],gia:["Gia","Gi","Gi"],giai:["Giai","Gii"],giam:["Giam","Gim","Gim"],gian:["Gian","Gin","Gin","Gin"],giang:["Giang","Ging","Ging"],giao:["Giao","Gio"],giap:["Gip"],giau:["Giu"],gio:["Gio","Gi","Gi"],gioi:["Gii","Gii"],giu:["Gi"],ha:["Ha","H","H","H"],hai:["Hai","Hi","Hi","Hi"],ham:["Hm"],han:["Han","Hn","Hn","Hn","Hn","Hn"],hang:["Hang","Hng","Hng","Hng"],hanh:["Hanh","Hnh","Hnh"],hao:["Hao","Ho","Ho","Ho"],hat:["Ht","Ht"],hau:["Hau","Hu","Hu"],hien:["Hin","Hin","Hin","Hin","Hin"],hieu:["Hiu","Hiu","Hiu","Hiu","Hiu"],hinh:["Hnh"],hoa:["Hoa","Ha","Ha","Ha","Ha"],hoai:["Hoi"],hoan:["Hoan","Hon","Hon","Hon"],hoang:["Hoang","Hong","Hong"],hoc:["Hc"],hoi:["Hoi","Hi","Hi","Hi","Hi"],hop:["Hp","Hp"],hue:["Hu","Hu"],hung:["Hung","Hng","Hng","Hng"],huy:["Huy","Hy"],huyen:["Huyn","Huyn"],huynh:["Huynh","Hunh"],huong:["Hng","Hng","Hng","Hng"],kha:["Kha","Kh","Kh"],khai:["Khai","Khi"],khanh:["Khanh","Khnh"],khiem:["Khim","Khim"],khoa:["Khoa","Kha"],khoi:["Khi","Khi"],khuong:["Khng"],khuyen:["Khuyn","Khuyn"],kien:["Kin","Kin","Kin"],kieu:["Kiu"],kim:["Kim","Km"],kinh:["Kinh","Knh"],ky:["Ky","K","K","K","K"],lai:["Lai","Li","Li","Li"],lam:["Lam","Lm","Lm","Lm"],lan:["Lan","Ln","Ln","Ln"],lang:["Lang","Lng","Lng"],lanh:["Lanh","Lnh","Lnh"],le:["Le","L","L","L"],lien:["Lin"],lieu:["Liu","Liu","Liu","Liu"],linh:["Linh","Lnh","Lnh"],loan:["Loan","Lon"],loc:["Lc","Lc"],loi:["Li","Li","Li"],long:["Long","Lng"],lua:["La","La"],luan:["Lun","Lun"],luat:["Lut"],luc:["Lc","Lc"],luong:["Lng","Lng"],luu:["Lu"],ly:["Ly","L","L"],ma:["Ma","M","M","M","M"],mai:["Mai","Mi","Mi"],man:["Mn","Mn","Mn","Mn"],manh:["Manh","Mnh"],mao:["Mao","Mo","Mo"],may:["May","My","My"],me:["M","M","M"],men:["Mn","Mn"],mi:["Mi","M","M","M","M"],mien:["Min","Min","Min"],minh:["Minh","Mnh"],mo:["M","M","M","M"],moc:["Mc","Mc"],moi:["Mi","Mi","Mi","Mi"],mong:["Mong","Mng","Mng"],mu:["Mu","M","M"],mua:["Mua","Ma","Ma"],muc:["Mc","Mc"],mui:["Mi","Mi"],my:["My","M","M"],na:["Na","N"],nam:["Nam","Nm","Nm","Nm"],nan:["Nan","Nn"],nang:["Nang","Nng","Nng","Nng"],nga:["Nga","Ng","Ng"],ngai:["Ngi","Ngi"],ngan:["Ngn","Ngn","Ngn","Ngn"],nghi:["Nghi","Ngh","Ngh","Ngh"],nghia:["Ngha"],nghiep:["Nghip"],ngoc:["Ngc"],ngu:["Ng","Ng","Ng","Ng"],nguyen:["Nguyn","Nguyn","Nguyn"],nguyet:["Nguyt"],nhan:["Nhan","Nhn","Nhn","Nhn","Nhn"],nhat:["Nht","Nht"],nhi:["Nhi","Nh","Nh","Nh"],nhien:["Nhin"],nhieu:["Nhiu"],nho:["Nho","Nh","Nh","Nh"],nhu:["Nhu","Nh","Nh"],nhung:["Nhung","Nhng"],ni:["Ni","N"],nien:["Nin"],ninh:["Ninh"],no:["No","N","N","N","N"],noi:["Ni","Ni","Ni","Ni","Ni"],nu:["Nu","N","N"],nuong:["Nng"],o:["O","","","","","","","","","","","","",""],oa:["Oa"],oanh:["Oanh"],on:["n","n","n"],ong:["Ong","ng"],pa:["Pa"],pham:["Phm","Phm"],phan:["Phan","Phn","Phn","Phn","Phn"],phat:["Pht","Pht"],phi:["Phi","Ph","Ph"],phong:["Phong","Phng","Phng","Phng"],phu:["Phu","Ph","Ph","Ph","Ph"],phuc:["Phc","Phc"],phung:["Phung","Phng","Phng"],phuoc:["Phc"],phuong:["Phng","Phng","Phng"],qua:["Qua","Qu","Qu","Qu"],quan:["Quan","Qun","Qun","Qun","Qun","Qun"],quang:["Quang","Qung"],que:["Qu","Qu"],quoc:["Quc"],quy:["Quy","Qu","Qu","Qu","Qu"],quyen:["Quyn","Quyn","Quyn"],quynh:["Qunh"],ra:["Ra","R"],rang:["Rang","Rng","Rng","Rng"],ri:["Ri","R"],ro:["R","R","R"],roi:["Roi","Ri","Ri"],rom:["Rm"],ru:["Ru","R","R"],run:["Run"],rung:["Rung","Rng"],ruot:["Rut"],sa:["Sa","S"],sac:["Sc"],sai:["Sai","Si"],sam:["Sam","Sm","Sm"],san:["San","Sn","Sn","Sn"],sang:["Sang","Sng","Sng","Sng"],sanh:["Sanh","Snh","Snh"],sao:["Sao","So"],sat:["St","St"],sau:["Sau","Su","Su","Su","Su"],se:["Se","S","S"],sen:["Sen"],seo:["So","So"],si:["Si","S"],sinh:["Sinh"],so:["So","S","S","S","S","S","S"],soc:["Sc"],soi:["Soi","Si","Si"],son:["Son","Sn"],song:["Song","Sng","Sng","Sng"],su:["Su","Susu","S","S","S","S"],sua:["Sua","Sa","Sa"],suc:["Sc","Sc"],sung:["Sung","Sng","Sng"],suoi:["Sui"],suong:["Sng","Sng"],sy:["Sy","S"],ta:["Ta","T","T","T","T"],tac:["Tc","Tc","Tc"],tai:["Tai","Ti","Ti","Ti"],tam:["Tam","Tm","Tm","Tm","Tm","Tm","Tm","Tm"],tan:["Tan","Tn","Tn","Tn","Tn","Tn","Tn","Tn"],tang:["Tang","Tng","Tng","Tng","Tng","Tng","Tng"],tao:["Tao","To","To","To","To"],tap:["Tp","Tp"],tat:["Tt","Tt","Tt"],tay:["Tay","Ty","Ty"],te:["Te","T","T","T"],ten:["Ten","Tn"],teo:["Teo","To"],tet:["Tt"],tha:["Tha","Th","Th"],thac:["Thc"],thai:["Thai","Thi","Thi"],tham:["Tham","Thm","Thm","Thm","Thm","Thm"],than:["Than","Thn","Thn","Thn"],thang:["Thang","Thng","Thng","Thng","Thng"],thanh:["Thanh","Thnh","Thnh","Thnh","Thnh"],thao:["Thao","Tho","Tho"],that:["Tht","Tht"],the:["The","Th","Th","Th","Th","Th"],them:["Thm","Thm"],theo:["Theo","Tho"],thi:["Thi","Th","Th","Th","Th"],thien:["Thin","Thin","Thin"],thiep:["Thip","Thip"],thieu:["Thiu","Thiu","Thiu","Thiu"],thinh:["Thinh","Thnh","Thnh","Thnh","Thnh"],tho:["Tho","Th","Th","Th","Th","Th","Th","Th"],thoa:["Thoa","Tha"],thoai:["Thoi","Thoi"],thom:["Thm"],thon:["Thon","Thn"],thong:["Thong","Thng","Thng","Thng"],thu:["Thu","Th","Th","Th","Th","Th","Th","Th","Th"],thua:["Thua","Tha"],thuan:["Thun","Thun","Thun"],thuc:["Thc","Thc","Thc","Thc"],thui:["Thui","Thi"],thuy:["Thuy","Thy","Thy","Thy","Thy"],thuyen:["Thuyn","Thuyn"],thuong:["Thng","Thng","Thng","Thng"],ti:["Ti","T","T","T","T"],tien:["Tin","Tin","Tin","Tin","Tin"],tiep:["Tip","Tip"],tieu:["Tiu","Tiu","Tiu"],tim:["Tim","Tm","Tm"],tin:["Tin","Tn"],tinh:["Tinh","Tinh","Tnh","Tnh","Tnh","Tnh"],to:["To","T","T","T","T","T","T","T","T","T","T"],toa:["Toa","Ta","Ta","Ta","Ta"],toai:["Toi"],toan:["Toan","Ton","Ton"],toc:["Tc","Tc"],toi:["Ti","Ti","Ti","Ti","Ti"],tom:["Tm"],ton:["Ton","Tn","Tn","Tn"],tong:["Tong","Tng","Tng","Tng","Tng"],tot:["Tt"],tra:["Tra","Tr","Tr"],trac:["Trc","Trc"],trai:["Trai","Tri","Tri","Tri"],tram:["Tram","Trm","Trm","Trm","Trm"],tran:["Tran","Trn","Trn","Trn","Trn","Trn"],trang:["Trang","Trng","Trng","Trng","Trng"],tranh:["Tranh","Trnh"]," trao":["Trao","Tro"],tre:["Tre","Tr","Tr"],tri:["Tri","Tr","Tr","Tr"],trieu:["Triu","Triu","Triu"],trinh:["Trinh","Trnh","Trnh"],tro:["Tro","Tr","Tr","Tr","Tr","Tr"],trong:["Trong","Trng","Trng","Trng","Trng","Trng"],tru:["Tru","Tr","Tr","Tr","Tr","Tr"],truc:["Trc","Trc","Trc"],trung:["Trung","Trng","Trng","Trng"],truong:["Trng","Trng","Trng"],truyen:["Chuyn","Truyn","Truyn"],tu:["Tu","T","T","T","T","T","T","T","T","T"],tuan:["Tun","Tun","Tun"],tue:["Tu"],tung:["Tung","Tng","Tng","Tng"],tuyen:["Tuyn","Tuyn","Tuyn","Tuyt"],tuyet:["Tuyt","Tuyt"],ty:["Ty","T","T","T"],u:["U","","","","","","","","",""],uan:["Un"],uc:["c","c"],uoc:["c"],uy:["Uy","y","y"],uyen:["Uyn","Uyn"],va:["Va","V","V","V"],vai:["Vai","Vi","Vi"],van:["Van","Vn","Vn","Vn","Vn","Vn","Vn","Vn"],vang:["Vang","Vng","Vng","Vng"],vao:["Vo"],vat:["Vt","Vt"],vay:["Vay","Vy","Vy","Vy","Vy"],ve:["Ve","V","V","V","V","V"],len:["Ln","Ln"],vi:["Vi","V","V","V","V"],vien:["Vin","Vin","Vin","Vin"],viet:["Vit","Vit"],vinh:["Vinh","Vnh","Vnh"],vit:["Vt"],vo:["Vo","V","V","V","V","V","V","V"],voi:["Voi","Vi","Vi","Vi","Vi"],vong:["Vong","Vng","Vng","Vng"],vu:["Vu","V","V","V","V"],vui:["Vui"],vuong:["Vng","Vng","Vng"],vuon:["Vn"],vy:["Vy","V","V"],xa:["Xa","X","X","X"],xac:["Xc"],xanh:["Xanh"],xam:["Xm","Xm"],xan:["X"],xau:["Xu","Xu"],xe:["Xe","X"],xem:["Xem"],xen:["Xen"],xeo:["Xo","Xo"],xi:["Xi","X","X"],xin:["Xin","Xn"],xinh:["Xinh"],xo:["Xo","X","X"],xoa:["Xoa","Xa"],xoai:["Xoi"],xom:["Xm"],xon:["Xn"],xu:["Xu","X","X"],xuan:["Xun"],xuc:["Xc"],xue:["Xu"],xui:["Xui"],xung:["Xung"],xuy:["Xy"],xuyen:["Xuyn","Xuyn"],y:["Y","","","","Y"],yen:["Yn","Yn"],yeu:["Yu","Yu"]};function ZL(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(//g,"d").replace(//g,"D").toLowerCase()}function JL(t){return t?t.charAt(0).toUpperCase()+t.slice(1):""}function e4(t){return t.length===0?[]:t.map(r=>{const o=$L[r];return o||[JL(r)]}).reduce((r,o)=>{const u=[];return r.forEach(c=>{o.forEach(h=>{u.push(c?`${c} ${h}`:h)})}),u},[""])}const t4=t=>{if(!t||t.trim().length===0)return[];const i=ZL(t.trim()).split(/\s+/);if(i.length>5)return[];let r=e4(i);const o=t.trim();return r=r.filter(u=>u.toLowerCase()!==o.toLowerCase()),r.unshift(o),r.slice(0,15)},n4=({isOpen:t,onClose:e,onConfirm:i,songTitle:r})=>{const[o,u]=T.useState(""),[c,h]=T.useState([]),[m,d]=T.useState(0),[g,y]=T.useState(!1),v=T.useRef(null),x=T.useRef(null);T.useEffect(()=>{t&&(u(""),h([]),d(0),y(!1),setTimeout(()=>v.current?.focus(),100))},[t]),T.useEffect(()=>{h(t4(o)),d(0)},[o]);const w=N=>{u(N),v.current?.focus()},C=(N=!1)=>{const D=o.trim();!D||g||(y(!0),typeof i=="function"&&i(D,N),e())},E=N=>{let D=m;if(N.key==="ArrowDown")N.preventDefault(),D=m+1,D>=c.length&&(D=0),D>=c.length&&(D=c.length-1);else if(N.key==="ArrowUp")N.preventDefault(),D=m-1,D<0&&(D=0);else if(N.key==="Enter"){N.preventDefault(),c.length>0&&w(c[m]);return}else if(N.key==="Tab"){N.preventDefault(),c.length>0&&w(c[m]);return}D!==m&&(d(D),A(D))},A=N=>{if(x.current){const D=x.current.children[N];D&&D.scrollIntoView({block:"nearest",behavior:"smooth"})}};return t?_.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-md p-4 animate-in fade-in duration-200",children:_.jsxs("div",{className:"bg-white rounded-3xl border border-slate-200 w-full max-w-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[_.jsxs("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[_.jsx("h3",{className:"text-2xl font-black text-slate-800 uppercase tracking-tighter",children:"Thm Bi Ht & Khch Mi"}),_.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-200 rounded-full transition-colors",children:_.jsx(Ju,{size:28,className:"text-slate-500"})})]}),_.jsxs("div",{className:"p-4 flex-1 overflow-hidden flex flex-col gap-4",children:[_.jsxs("div",{className:"bg-indigo-50 p-3 rounded-2xl border border-indigo-100",children:[_.jsx("p",{className:"text-xs font-bold text-indigo-400 uppercase tracking-wide mb-1",children:"Bi ht  chn"}),_.jsx("p",{className:"text-xl font-bold text-indigo-900 leading-tight",children:r})]}),_.jsxs("div",{className:"space-y-3 flex-shrink-0",children:[_.jsx("label",{className:"text-sm font-bold text-slate-500 uppercase tracking-wide ml-1",children:"Tn Khch Ht"}),_.jsxs("div",{className:"relative",children:[_.jsx(gD,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:24}),_.jsx(Lw,{ref:v,value:o,onChange:N=>u(N.target.value),onKeyDown:E,placeholder:"Nhp tn (v d: anh 7...)",className:"pl-12 h-14 text-xl font-black border-2 border-slate-200 focus:border-indigo-600 focus:ring-4 focus:ring-indigo-100 rounded-2xl w-full transition-all text-slate-800 placeholder:text-slate-300"})]})]}),c.length>0&&_.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar -mx-2 px-2",children:[_.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wide mb-2 ml-1",children:"Gi  (Chn bng phm mi tn)"}),_.jsx("div",{ref:x,className:"flex flex-col gap-2",children:c.map((N,D)=>_.jsxs("button",{onClick:()=>w(N),className:`p-3 rounded-xl text-left transition-all flex items-center justify-between group cursor-pointer border
                                            ${D===m?"bg-indigo-600 text-white border-indigo-600 shadow-lg shadow-indigo-200":"bg-white text-slate-700 hover:bg-slate-50 border-slate-100 hover:border-slate-200"}`,children:[_.jsx("span",{className:"text-xl font-bold",children:N}),D===m&&_.jsx(FM,{size:24,className:"animate-in fade-in zoom-in"})]},D))})]}),c.length===0&&o.length>0&&_.jsx("div",{className:"text-center p-4 text-slate-400",children:_.jsxs("p",{children:["Nhn Enter  xc nhn: ",_.jsxs("span",{className:"font-bold text-slate-600",children:['"',o,'"']})]})})]}),_.jsxs("div",{className:"p-4 bg-slate-50 flex justify-end gap-3 border-t border-slate-100",children:[_.jsx(wn,{variant:"ghost",onClick:e,size:"lg",className:"text-slate-500 hover:text-slate-700 font-bold text-lg",children:"Hy"}),_.jsx(wn,{onClick:()=>C(!1),disabled:!o.trim(),size:"lg",className:"px-8 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-black text-lg",children:"Thm Vo Hng Ch"}),_.jsx(wn,{onClick:()=>C(!0),disabled:!o.trim(),size:"lg",className:"px-8 bg-green-600 hover:bg-green-700 text-white rounded-xl font-black text-lg shadow-lg shadow-green-200",children:"u Tin (Ln u)"})]})]})}):null};function ag(t){if(!t)return"";let e=t.replace(/\[.*?\]/g,"").replace(/\(.*?\)/g,"").replace(/(^|\s)(karaoke|beat|tone|tong|nam|n|nu|h tng|ha tong|gc|goc|d ht|de hat|chun|chuan|nhc sng|nhac song|full hd|hd|4k|official|mv|lyric|lyrics|video|audio|remix|cover|live|lofi|lo-fi|ver|version)(?=$|\s)/gi,"").trim();return e=e.replace(/^[ \-|]+|[ \-|]+$/g,"").trim(),e.split(/[-|]/).map(r=>r.trim()).filter(r=>r.length>0)[0]||""}function Fx(t){const e=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/|youtube\.com\/v\/|youtube\.com\/shorts\/)([a-zA-Z0-9_-]{11})/,/^([a-zA-Z0-9_-]{11})$/];for(const i of e){const r=t.trim().match(i);if(r)return r[1]}return null}const i4=({isExpanded:t=!1})=>{const[e,i]=T.useState(""),[r,o]=T.useState([]),[u,c]=T.useState(!1),[h,m]=T.useState(!1),[d,g]=T.useState(-1),[y,v]=T.useState(!1),[x,w]=T.useState(null),[C,E]=T.useState(!1),[A,N]=T.useState(""),[D,L]=T.useState(""),[B,ne]=T.useState(""),K=T.useRef(null),z=T.useRef(null),ee=T.useRef(null),se=T.useRef([]),ye=T.useRef(null),ve=T.useRef(!("webkitSpeechRecognition"in window||"SpeechRecognition"in window)),{suggestions:Ee,isLoading:Ve}=XL(e,h),{addToQueue:X,updateQueueItem:j,queueMode:Y}=me(),H="AIzaSyCrFZQQ5dQGN2g6wgl2zlGkb4gpigA7OnQ",ie=async Z=>{const ce=await Z.arrayBuffer(),$=btoa(String.fromCharCode(...new Uint8Array(ce))),ge=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=${H}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{inlineData:{mimeType:Z.type||"audio/webm",data:$}},{text:"Transcribe this Vietnamese audio. Return ONLY the spoken text, nothing else. If no speech is detected, return empty string."}]}],generationConfig:{max_output_tokens:200,temperature:.1,thinkingConfig:{thinkingBudget:0}}})});if(!ge.ok)throw new Error(`Gemini API error: ${ge.status}`);return(await ge.json()).candidates?.[0]?.content?.parts?.[0]?.text?.trim()||""},ue=T.useCallback(()=>{const Z=window.SpeechRecognition||window.webkitSpeechRecognition,ce=new Z;ce.lang="vi-VN",ce.continuous=!1,ce.interimResults=!0,ce.maxAlternatives=1,K.current=ce;let $=!1,ge=!1;E(!0),N("listening"),L(""),ne(""),ce.onresult=Ie=>{let tt="",At="";for(let xt=Ie.resultIndex;xt<Ie.results.length;xt++){const Un=Ie.results[xt][0].transcript;Ie.results[xt].isFinal?tt+=Un:At+=Un}tt?($=!0,ne(""),i(tt),J(tt),E(!1),N("")):ne(At)},ce.onerror=Ie=>{ge=!0,console.error("[Voice] Web Speech error:",Ie.error),Ie.error==="no-speech"?L("Khng nghe thy ging ni, th li nh"):Ie.error==="not-allowed"?L("Khng th truy cp microphone"):L("Li nhn dng ging ni"),setTimeout(()=>{E(!1),N(""),ne("")},1500)},ce.onend=()=>{!$&&!ge&&(E(!1),N(""),ne(""))},ce.start()},[]),M=T.useCallback(async()=>{ee.current&&ee.current.getTracks().forEach(Z=>Z.stop()),clearTimeout(ye.current),E(!0),N("listening"),L(""),se.current=[];try{const Z=await navigator.mediaDevices.getUserMedia({audio:!0});ee.current=Z;const ce=new MediaRecorder(Z);z.current=ce,ce.ondataavailable=$=>{$.data.size>0&&se.current.push($.data)},ce.onstop=async()=>{if(Z.getTracks().forEach($=>$.stop()),ee.current=null,se.current.length===0){E(!1),N("");return}N("processing");try{const $=new Blob(se.current,{type:ce.mimeType}),ge=await ie($);ge?(i(ge),J(ge)):(L("Khng nghe thy ging ni, th li nh"),await new Promise(Ie=>setTimeout(Ie,1500)))}catch($){console.error("[Voice] Gemini transcribe failed:",$),L("Li nhn dng ging ni"),await new Promise(ge=>setTimeout(ge,1500))}finally{E(!1),N("")}},ce.start(),ye.current=setTimeout(()=>W(),1e4)}catch(Z){console.error("[Voice] Mic access failed:",Z),L("Khng th truy cp microphone"),setTimeout(()=>{E(!1),N("")},1500)}},[H]),G=T.useCallback(()=>{ve.current?M():ue()},[ue,M]),W=T.useCallback(()=>{K.current&&(K.current.stop(),K.current=null),clearTimeout(ye.current),z.current&&z.current.state==="recording"&&z.current.stop()},[]);T.useEffect(()=>()=>{K.current&&K.current.abort(),clearTimeout(ye.current),ee.current&&ee.current.getTracks().forEach(Z=>Z.stop()),z.current&&z.current.state==="recording"&&z.current.stop()},[]);const J=async Z=>{const ce=Z||e;if(ce.trim()){Z&&i(Z),m(!1),g(-1),c(!0);try{const $=Fx(ce);if($){const ge=await fetch(`/api/yt/video?id=${encodeURIComponent($)}`);if(ge.ok){const Ie=await ge.json();o([Ie])}else o([])}else{const ge=await IL(ce);o(ge)}}catch($){console.error("Search failed",$)}finally{c(!1)}}},fe=Z=>{Z.key==="ArrowDown"?(Z.preventDefault(),g(ce=>ce<Ee.length-1?ce+1:ce)):Z.key==="ArrowUp"?(Z.preventDefault(),g(ce=>ce>-1?ce-1:ce)):Z.key==="Enter"&&(Z.preventDefault(),d>=0&&Ee[d]?J(Ee[d].query):J())},_e=Z=>{!Z||!Z.title||(w(Z),v(!0))},de=async(Z,ce=!1)=>{if(!x)return;const $=x.title,ge=x.artist;let Ie=$;x.source==="local"?Ie=x.title:Ie=ag($);let tt=null;try{const{pushToFirebaseQueue:At}=await zr(async()=>{const{pushToFirebaseQueue:Un}=await Promise.resolve().then(()=>LE);return{pushToFirebaseQueue:Un}},void 0);tt=(await At({videoId:x.videoId,title:$,cleanTitle:Ie,artist:ge,addedBy:Z,thumbnail:x.thumbnail,isPriority:ce}))?.key}catch(At){console.warn("Firebase push failed, will add locally:",At),tt=Date.now().toString()}tt&&tt!==Date.now().toString()||X({id:tt,firebaseKey:null,videoId:x.videoId,title:$,cleanTitle:Ie,artist:ge,addedBy:Z,thumbnail:x.thumbnail}),v(!1),w(null),zr(async()=>{const{recordPlay:At,cacheYoutubeId:xt}=await Promise.resolve().then(()=>KL);return{recordPlay:At,cacheYoutubeId:xt}},void 0).then(({recordPlay:At,cacheYoutubeId:xt})=>{At($,ge),x.videoId&&xt($,ge,x.videoId)}),zr(async()=>{const{cleanSongTitle:At}=await Promise.resolve().then(()=>qL);return{cleanSongTitle:At}},void 0).then(({cleanSongTitle:At})=>{At($).then(xt=>{xt&&tt&&(tt&&tt!==Date.now().toString()?zr(async()=>{const{ref:Un,update:$s,getDatabase:hs}=await Promise.resolve().then(()=>sz);return{ref:Un,update:$s,getDatabase:hs}},void 0).then(({ref:Un,update:$s,getDatabase:hs})=>{const ga=hs(),ya=Un(ga,`queue/${tt}`);$s(ya,{cleanTitle:xt.title,cleanArtist:xt.artist}).catch(()=>{})}):j(tt,{cleanTitle:xt.title,cleanArtist:xt.artist}))})})},Te=T.useRef(null);return T.useEffect(()=>{Te.current&&(Te.current.scrollTop=0)},[r]),_.jsxs("div",{className:"flex flex-col h-full bg-slate-50 relative",children:[_.jsxs("div",{className:"p-2 bg-white border-b border-slate-100 sticky top-0 z-30",children:[_.jsxs("div",{className:"relative",children:[_.jsx(GT,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-slate-400",size:16}),_.jsx(Lw,{placeholder:"Tm bi ht...",className:"pl-8 pr-10 h-9 text-sm font-bold rounded-lg border-slate-200 focus:border-indigo-500 focus:ring-indigo-100 block w-full bg-slate-50 text-slate-800 placeholder:text-slate-300 transition-all",value:e,onChange:Z=>{const ce=Z.target.value;i(ce),g(-1),h||m(!0),Fx(ce)&&J(ce)},onKeyDown:fe,onFocus:()=>m(!0),onBlur:()=>setTimeout(()=>m(!1),200)}),_.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex items-center",children:u?_.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-indigo-500 border-t-transparent rounded-full"}):_.jsx("button",{type:"button",onClick:C?W:G,className:`p-1 rounded-full transition-all cursor-pointer ${C?"text-red-500 bg-red-50 animate-pulse":"text-slate-400 hover:text-indigo-600 hover:bg-indigo-50"}`,title:C?"ang nghe...":"Tm bng ging ni",children:_.jsx(Vo,{size:16,strokeWidth:2.5})})}),h&&e.trim().length>=2&&_.jsx(WL,{suggestions:Ee,isLoading:Ve,onSelect:J,selectedIndex:d})]}),_.jsxs("div",{className:"flex gap-1.5 mt-2 overflow-x-auto pb-0.5 scrollbar-hide",children:[["Tone Nam","Tone N","Song Ca","Remix"].map(Z=>_.jsxs("button",{onClick:()=>{if(!e.toLowerCase().includes(Z.toLowerCase())){const ce=(e+" "+Z).trim();i(ce),J(ce)}},className:"px-2 py-0.5 bg-white hover:bg-indigo-50 text-slate-500 hover:text-indigo-600 rounded-full text-[10px] font-bold transition-all whitespace-nowrap border border-slate-200 hover:border-indigo-200 cursor-pointer active:scale-95",children:["+ ",Z]},Z)),_.jsxs("button",{onClick:()=>{const Z=e.trim()||"karaoke";window.open(`https://www.youtube.com/results?search_query=${encodeURIComponent(Z+" karaoke")}`,"_blank","noopener")},className:"px-2 py-0.5 bg-red-600 hover:bg-red-700 text-white rounded-full text-[10px] font-bold transition-all whitespace-nowrap cursor-pointer active:scale-95 flex items-center gap-1",children:[_.jsx(YM,{size:10}),"YouTube"]})]})]}),_.jsxs("div",{ref:Te,className:"flex-1 overflow-y-auto p-1.5 custom-scrollbar",children:[!u&&r.length===0&&_.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-300 space-y-3",children:[_.jsx(UT,{size:48,strokeWidth:1}),_.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest opacity-50",children:e.trim()?"Khng tm thy kt qu":"Nhp tn  tm kim"}),e.trim()&&_.jsxs("p",{className:"text-[10px] text-slate-400 font-medium flex items-center gap-1.5",children:[_.jsx(WM,{size:12}),"Bm ",_.jsx("span",{className:"text-red-500 font-bold",children:"YouTube"}),"  sao chp link  dn vo  tm kim"]})]}),_.jsx("div",{className:`gap-2 pb-16 ${t?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 auto-rows-max":"flex flex-col"}`,children:r.map(Z=>_.jsxs("div",{className:`flex ${t?"flex-col p-3 gap-3":"flex-row items-center p-1.5 gap-2"} bg-white hover:bg-indigo-50 rounded-lg cursor-pointer group transition-all border border-transparent hover:border-indigo-100 active:scale-[0.98] shadow-sm hover:shadow-md h-full`,onClick:()=>_e(Z),children:[_.jsxs("div",{className:`relative ${t?"w-full aspect-video rounded-lg":"w-14 h-10 rounded-md"} overflow-hidden bg-slate-200 flex-shrink-0`,children:[_.jsx("img",{src:Z.thumbnail,alt:"",className:"w-full h-full object-cover",loading:"lazy"}),Z.duration&&_.jsx("span",{className:"absolute bottom-1 right-1 bg-black/70 text-white text-[10px] font-bold px-1 py-0.5 rounded backdrop-blur-sm",children:Z.duration})]}),_.jsxs("div",{className:`flex-1 min-w-0 flex flex-col ${t?"justify-between gap-1":""}`,children:[_.jsxs("div",{children:[_.jsx("h4",{className:`font-bold text-slate-800 leading-snug group-hover:text-indigo-700 transition-colors ${t?"text-base line-clamp-2 mb-1":"text-xs line-clamp-2"}`,title:Z.title,children:Z.cleanTitle||Z.title}),t&&_.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[Z.score>5e4&&_.jsxs("span",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white text-[10px] font-black px-1.5 py-0.5 rounded flex items-center gap-1 shadow-sm",children:[_.jsx(Sm,{size:10,fill:"currentColor"}),"NGON"]}),Z.views&&_.jsxs("span",{className:"text-[10px] font-bold text-slate-400 bg-slate-100 px-1.5 py-0.5 rounded flex items-center gap-1",children:[_.jsx("span",{className:"w-1 h-1 rounded-full bg-slate-400"}),Z.views," lt xem"]})]}),_.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Z.tags&&Z.tags.slice(0,t?4:2).map((ce,$)=>_.jsx("span",{className:`text-[8px] font-bold px-1.5 py-0.5 rounded uppercase tracking-wide
                                                ${ce.includes("Tone")?"bg-blue-50 text-blue-600 border border-blue-100":ce==="Remix"?"bg-purple-50 text-purple-600 border border-purple-100":"bg-slate-100 text-slate-500 border border-slate-200"}`,children:ce},$))})]}),_.jsxs("div",{className:`flex items-center justify-between mt-1 ${t?"border-t border-slate-100 pt-2":""}`,children:[_.jsxs("span",{className:"text-[10px] font-bold text-slate-400 truncate max-w-[120px] uppercase flex items-center gap-1",children:[_.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-slate-300"}),Z.artist]}),t&&_.jsx("button",{className:"bg-indigo-600 hover:bg-indigo-700 text-white text-[10px] font-bold px-3 py-1.5 rounded-full transition-all active:scale-95 shadow-lg shadow-indigo-200",children:"CHN"})]})]}),!t&&_.jsx("button",{className:"p-1.5 rounded-full text-indigo-400 group-hover:bg-indigo-500 group-hover:text-white transition-all flex-shrink-0",children:_.jsx(aD,{size:16,strokeWidth:3})})]},Z.id||Z.videoId))})]}),C&&_.jsxs("div",{className:"fixed inset-0 z-[9999] bg-white/95 backdrop-blur-sm flex flex-col items-center justify-center",children:[_.jsxs("div",{className:"relative mb-8",children:[A==="listening"&&!D&&_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"absolute inset-0 w-28 h-28 -m-6 rounded-full bg-red-100 animate-ping opacity-30"}),_.jsx("div",{className:"absolute inset-0 w-24 h-24 -m-4 rounded-full bg-red-50 animate-pulse opacity-50"})]}),_.jsx("button",{onClick:A==="listening"?W:void 0,className:`relative w-16 h-16 rounded-full flex items-center justify-center shadow-lg transition-all cursor-pointer active:scale-95 ${A==="processing"?"bg-indigo-500 shadow-indigo-200":D?"bg-slate-400 shadow-slate-200":"bg-red-500 hover:bg-red-600 shadow-red-200"} text-white`,children:A==="processing"?_.jsx("div",{className:"animate-spin h-6 w-6 border-3 border-white border-t-transparent rounded-full"}):_.jsx(Vo,{size:28,strokeWidth:2.5})})]}),B&&!D&&_.jsxs("p",{className:"text-xl font-bold text-indigo-600 mb-3 px-8 text-center animate-pulse",children:['"',B,'"']}),_.jsx("p",{className:`text-lg font-bold mb-2 ${D?"text-red-500":"text-slate-700"}`,children:D||(A==="processing"?"ang nhn dng...":"ang nghe...")}),_.jsx("p",{className:"text-xs text-slate-400 font-medium",children:D?"":A==="listening"?ve.current?"Ni xong th bm nt mic  tm":"Ni tn bi ht...":"ang x l ging ni"}),A==="listening"&&_.jsx("button",{onClick:()=>{K.current&&(K.current.abort(),K.current=null),clearTimeout(ye.current),ee.current&&(ee.current.getTracks().forEach(Z=>Z.stop()),ee.current=null),z.current&&z.current.state==="recording"&&(z.current.stop(),z.current=null),E(!1),N(""),ne("")},className:"mt-8 text-xs font-bold text-slate-400 hover:text-slate-600 transition-colors cursor-pointer uppercase tracking-widest",children:"Hu"})]}),_.jsx(n4,{isOpen:y,onClose:()=>v(!1),onConfirm:de,songTitle:x?.title||""})]})};let $e=null,zn=!1,og=100,Bw=!1,Xm=0,Wm=0,s4=new Set;const r4=t=>{$e=t,zn=!0},a4=()=>{$e=null,zn=!1},o4=(t,e)=>{Xm=t,e>0&&(Wm=e)},l4=()=>{s4.forEach(t=>t())},Qn=()=>{if(!zn||!$e)return!1;try{const t=$e.getIframe?.();return!!(t&&t.src)}catch{return!1}},u4=()=>$e,Uw=()=>{try{return!$e||!zn?Xm:$e.getCurrentTime()||0}catch{return Xm}},Hw=()=>{try{return!$e||!zn?Wm:$e.getDuration()||0}catch{return Wm}},Gx=(t,e=!0)=>{try{if(!$e||!zn)return;const i=Math.max(0,Math.min(100,t));i>0&&(og=i),$e.setVolume(i),i>0&&e&&$e.unMute()}catch(i){console.warn("[playerRegistry] setVolume skipped:",i.message)}},$m=()=>{try{if(!$e||!zn)return;$e.mute()}catch{}},No=()=>{try{if(!$e||!zn||Bw)return;$e.unMute(),$e.setVolume(og)}catch{}},qx=t=>{Bw=t;try{if(!$e||!zn)return;t?$e.mute():($e.unMute(),$e.setVolume(og))}catch{}},c4=()=>{try{return!$e||!zn?-1:$e.getPlayerState()??-1}catch{return-1}},Fw=()=>{try{if(!$e||!zn)return!1;const t=$e.getIframe?.();return!!(t&&t.src)}catch{return!1}},Kr=()=>{try{Fw()&&$e.playVideo()}catch(t){console.warn("[playerRegistry] playPlayer skipped:",t.message)}},f4=()=>{try{Fw()&&$e.pauseVideo()}catch(t){console.warn("[playerRegistry] pausePlayer skipped:",t.message)}},h4="karaoke_sync_channel",Gw=(t="host",{onSongEnded:e}={})=>{const i=me(X=>X.currentSong),r=me(X=>X.isPlaying),o=me(X=>X.waitingForGuest),u=me(X=>X.waitCountdown),c=me(X=>X.countdownPaused),h=me(X=>X.micAttemptHint),m=me(X=>X.restartTrigger),d=me(X=>X.queue),g=me(X=>X.setCurrentSong),y=me(X=>X.setIsPlaying),v=me(X=>X.setWaitingForGuest),x=me(X=>X.setWaitCountdown),w=me(X=>X.setCountdownPaused),C=me(X=>X.setMicAttemptHint),E=me(X=>X.triggerRestart),A=T.useRef(null),N=T.useRef(null),D=T.useRef(null),L=T.useCallback(()=>(A.current||(A.current=new BroadcastChannel(h4)),A.current),[]),B=T.useCallback((X,j)=>{try{L().postMessage({type:X,payload:j})}catch{}},[L]);T.useEffect(()=>{if(t!=="projection")return;const X=L();X.onmessage=Y=>{const{type:H,payload:ie}=Y.data;switch(H){case"SET_SONG":{N.current!==ie?.videoId&&(N.current=ie?.videoId||null,g(ie),y(!1),D.current&&clearInterval(D.current),Qn()&&$m());break}case"PLAY":{D.current&&(clearInterval(D.current),D.current=null),y(!0);const ue=()=>{No(),Kr()};if(Qn())ue();else{const M=setInterval(()=>{Qn()&&(clearInterval(M),ue())},300);setTimeout(()=>clearInterval(M),1e4)}break}case"PAUSE":{y(!1),Qn()&&$m();break}case"WAITING_FOR_GUEST":v(ie);break;case"COUNTDOWN":x(ie);break;case"COUNTDOWN_PAUSED":w(ie);break;case"MIC_ATTEMPT":C(ie);break;case"RESTART":{if(Qn()){const ue=u4();ue&&ue.seekTo(0,!0)}E();break}case"SET_VOLUME":Gx(ie,me.getState().isPlaying);break;case"SET_MUTE":qx(ie);break;case"SYNC_QUEUE":me.getState().reorderQueue(ie);break;case"FULL_SYNC":{const{song:ue,playing:M,waiting:G,countdown:W,paused:J,micHint:fe,queue:_e}=ie;if(D.current&&(clearInterval(D.current),D.current=null),ue&&(N.current=ue.videoId,g(ue),M)){const de=setInterval(()=>{Qn()&&(clearInterval(de),Kr(),setTimeout(()=>No(),300),y(!0))},300);setTimeout(()=>clearInterval(de),1e4)}v(G),x(W),w(J||!1),C(fe||null),_e&&me.getState().reorderQueue(_e),typeof ie.volume=="number"&&Gx(ie.volume,M),typeof ie.isMuted=="boolean"&&qx(ie.isMuted);break}}},X.postMessage({type:"REQUEST_SYNC"});const j=setInterval(()=>{Qn()&&B("SYNC_TIME",{time:Uw(),duration:Hw()})},2e3);return()=>{clearInterval(j),X.close(),A.current=null}},[t,L,g,y,v,x,w,C,E,B]);const ne=T.useRef(!1);T.useEffect(()=>{t==="projection"&&(ne.current&&!o&&r&&Qn()&&(No(),Kr()),ne.current=o)},[t,o,r]),T.useEffect(()=>{if(t!=="host")return;const X=L();return X.onmessage=j=>{const{type:Y,payload:H}=j.data;if(Y==="REQUEST_SYNC"){const ie=me.getState();B("FULL_SYNC",{song:ie.currentSong,playing:ie.isPlaying,waiting:ie.waitingForGuest,countdown:ie.waitCountdown,paused:ie.countdownPaused,micHint:ie.micAttemptHint,queue:ie.queue,volume:ie.volume,isMuted:ie.isMuted})}else Y==="SYNC_TIME"?o4(H.time,H.duration):Y==="SONG_ENDED"&&(l4(),e&&e())},()=>{X.close(),A.current=null}},[t,L,B,e]);const K=T.useRef(null);T.useEffect(()=>{if(t!=="host")return;if(i?.isStaged){B("SET_SONG",null);return}const X=i?.videoId||null;X!==K.current&&(K.current=X,i&&B("SET_SONG",i))},[t,i,B]);const z=T.useRef(null);T.useEffect(()=>{t==="host"&&r!==z.current&&(z.current=r,B(r?"PLAY":"PAUSE"))},[t,r,B]);const ee=T.useRef(null);T.useEffect(()=>{t==="host"&&o!==ee.current&&(ee.current=o,B("WAITING_FOR_GUEST",o))},[t,o,B]);const se=T.useRef(null);T.useEffect(()=>{if(t==="host")return se.current&&clearTimeout(se.current),se.current=setTimeout(()=>{B("SYNC_QUEUE",d)},500),()=>{se.current&&clearTimeout(se.current)}},[t,d,B]),T.useEffect(()=>{t==="host"&&B("COUNTDOWN",u)},[t,u,B]),T.useEffect(()=>{t==="host"&&B("COUNTDOWN_PAUSED",c)},[t,c,B]),T.useEffect(()=>{t==="host"&&B("MIC_ATTEMPT",h)},[t,h,B]);const ye=me(X=>X.volume),ve=me(X=>X.isMuted),Ee=T.useRef(100);T.useEffect(()=>{t==="host"&&ye!==Ee.current&&(Ee.current=ye,B("SET_VOLUME",ye))},[t,ye,B]);const Ve=T.useRef(!1);return T.useEffect(()=>{t==="host"&&ve!==Ve.current&&(Ve.current=ve,B("SET_MUTE",ve))},[t,ve,B]),T.useEffect(()=>{t!=="host"||m===0||B("RESTART")},[t,m,B]),{sendMessage:B}};var Jd={exports:{}},em,Yx;function d4(){if(Yx)return em;Yx=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return em=t,em}var tm,Qx;function m4(){if(Qx)return tm;Qx=1;var t=d4();function e(){}function i(){}return i.resetWarningCache=e,tm=function(){function r(c,h,m,d,g,y){if(y!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function o(){return r}var u={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:i,resetWarningCache:e};return u.PropTypes=u,u},tm}var Kx;function p4(){return Kx||(Kx=1,Jd.exports=m4()()),Jd.exports}var g4=p4();const It=Bc(g4);var nm,Xx;function y4(){return Xx||(Xx=1,nm=function t(e,i){if(e===i)return!0;if(e&&i&&typeof e=="object"&&typeof i=="object"){if(e.constructor!==i.constructor)return!1;var r,o,u;if(Array.isArray(e)){if(r=e.length,r!=i.length)return!1;for(o=r;o--!==0;)if(!t(e[o],i[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===i.source&&e.flags===i.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===i.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===i.toString();if(u=Object.keys(e),r=u.length,r!==Object.keys(i).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(i,u[o]))return!1;for(o=r;o--!==0;){var c=u[o];if(!t(e[c],i[c]))return!1}return!0}return e!==e&&i!==i}),nm}var v4=y4();const b4=Bc(v4);var Bu={exports:{}},im,Wx;function _4(){if(Wx)return im;Wx=1;var t;return t=function(){var e={},i={};return e.on=function(r,o){var u={name:r,handler:o};return i[r]=i[r]||[],i[r].unshift(u),u},e.off=function(r){var o=i[r.name].indexOf(r);o!==-1&&i[r.name].splice(o,1)},e.trigger=function(r,o){var u=i[r],c;if(u)for(c=u.length;c--;)u[c].handler(o)},e},im=t,im}var Uu={exports:{}},sm,$x;function x4(){if($x)return sm;$x=1,sm=function(o,u,c){var h=document.head||document.getElementsByTagName("head")[0],m=document.createElement("script");typeof u=="function"&&(c=u,u={}),u=u||{},c=c||function(){},m.type=u.type||"text/javascript",m.charset=u.charset||"utf8",m.async="async"in u?!!u.async:!0,m.src=o,u.attrs&&t(m,u.attrs),u.text&&(m.text=""+u.text);var d="onload"in m?e:i;d(m,c),m.onload||e(m,c),h.appendChild(m)};function t(r,o){for(var u in o)r.setAttribute(u,o[u])}function e(r,o){r.onload=function(){this.onerror=this.onload=null,o(null,r)},r.onerror=function(){this.onerror=this.onload=null,o(new Error("Failed to load "+this.src),r)}}function i(r,o){r.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,o(null,r))}}return sm}var Zx;function S4(){return Zx||(Zx=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=x4(),r=o(i);function o(u){return u&&u.__esModule?u:{default:u}}e.default=function(u){var c=new Promise(function(h){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){h(window.YT);return}else{var m=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(m+"//www.youtube.com/iframe_api",function(g){g&&u.trigger("error",g)})}var d=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){d&&d(),h(window.YT)}});return c},t.exports=e.default})(Uu,Uu.exports)),Uu.exports}var Hu={exports:{}},Fu={exports:{}},Gu={exports:{}},rm,Jx;function T4(){if(Jx)return rm;Jx=1;var t=1e3,e=t*60,i=e*60,r=i*24,o=r*365.25;rm=function(d,g){g=g||{};var y=typeof d;if(y==="string"&&d.length>0)return u(d);if(y==="number"&&isNaN(d)===!1)return g.long?h(d):c(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function u(d){if(d=String(d),!(d.length>100)){var g=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(d);if(g){var y=parseFloat(g[1]),v=(g[2]||"ms").toLowerCase();switch(v){case"years":case"year":case"yrs":case"yr":case"y":return y*o;case"days":case"day":case"d":return y*r;case"hours":case"hour":case"hrs":case"hr":case"h":return y*i;case"minutes":case"minute":case"mins":case"min":case"m":return y*e;case"seconds":case"second":case"secs":case"sec":case"s":return y*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return y;default:return}}}}function c(d){return d>=r?Math.round(d/r)+"d":d>=i?Math.round(d/i)+"h":d>=e?Math.round(d/e)+"m":d>=t?Math.round(d/t)+"s":d+"ms"}function h(d){return m(d,r,"day")||m(d,i,"hour")||m(d,e,"minute")||m(d,t,"second")||d+" ms"}function m(d,g,y){if(!(d<g))return d<g*1.5?Math.floor(d/g)+" "+y:Math.ceil(d/g)+" "+y+"s"}return rm}var eS;function w4(){return eS||(eS=1,(function(t,e){e=t.exports=o.debug=o.default=o,e.coerce=m,e.disable=c,e.enable=u,e.enabled=h,e.humanize=T4(),e.names=[],e.skips=[],e.formatters={};var i;function r(d){var g=0,y;for(y in d)g=(g<<5)-g+d.charCodeAt(y),g|=0;return e.colors[Math.abs(g)%e.colors.length]}function o(d){function g(){if(g.enabled){var y=g,v=+new Date,x=v-(i||v);y.diff=x,y.prev=i,y.curr=v,i=v;for(var w=new Array(arguments.length),C=0;C<w.length;C++)w[C]=arguments[C];w[0]=e.coerce(w[0]),typeof w[0]!="string"&&w.unshift("%O");var E=0;w[0]=w[0].replace(/%([a-zA-Z%])/g,function(N,D){if(N==="%%")return N;E++;var L=e.formatters[D];if(typeof L=="function"){var B=w[E];N=L.call(y,B),w.splice(E,1),E--}return N}),e.formatArgs.call(y,w);var A=g.log||e.log||console.log.bind(console);A.apply(y,w)}}return g.namespace=d,g.enabled=e.enabled(d),g.useColors=e.useColors(),g.color=r(d),typeof e.init=="function"&&e.init(g),g}function u(d){e.save(d),e.names=[],e.skips=[];for(var g=(typeof d=="string"?d:"").split(/[\s,]+/),y=g.length,v=0;v<y;v++)g[v]&&(d=g[v].replace(/\*/g,".*?"),d[0]==="-"?e.skips.push(new RegExp("^"+d.substr(1)+"$")):e.names.push(new RegExp("^"+d+"$")))}function c(){e.enable("")}function h(d){var g,y;for(g=0,y=e.skips.length;g<y;g++)if(e.skips[g].test(d))return!1;for(g=0,y=e.names.length;g<y;g++)if(e.names[g].test(d))return!0;return!1}function m(d){return d instanceof Error?d.stack||d.message:d}})(Gu,Gu.exports)),Gu.exports}var tS;function C4(){return tS||(tS=1,(function(t,e){var i={};e=t.exports=w4(),e.log=u,e.formatArgs=o,e.save=c,e.load=h,e.useColors=r,e.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:m(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}e.formatters.j=function(d){try{return JSON.stringify(d)}catch(g){return"[UnexpectedJSONParseError]: "+g.message}};function o(d){var g=this.useColors;if(d[0]=(g?"%c":"")+this.namespace+(g?" %c":" ")+d[0]+(g?"%c ":" ")+"+"+e.humanize(this.diff),!!g){var y="color: "+this.color;d.splice(1,0,y,"color: inherit");var v=0,x=0;d[0].replace(/%[a-zA-Z%]/g,function(w){w!=="%%"&&(v++,w==="%c"&&(x=v))}),d.splice(x,0,y)}}function u(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function c(d){try{d==null?e.storage.removeItem("debug"):e.storage.debug=d}catch{}}function h(){var d;try{d=e.storage.debug}catch{}return!d&&typeof process<"u"&&"env"in process&&(d=i.DEBUG),d}e.enable(h());function m(){try{return window.localStorage}catch{}}})(Fu,Fu.exports)),Fu.exports}var qu={exports:{}},nS;function E4(){return nS||(nS=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],t.exports=e.default})(qu,qu.exports)),qu.exports}var Yu={exports:{}},iS;function A4(){return iS||(iS=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],t.exports=e.default})(Yu,Yu.exports)),Yu.exports}var Qu={exports:{}},Ku={exports:{}},sS;function R4(){return sS||(sS=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},t.exports=e.default})(Ku,Ku.exports)),Ku.exports}var rS;function N4(){return rS||(rS=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=R4(),r=o(i);function o(u){return u&&u.__esModule?u:{default:u}}e.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},t.exports=e.default})(Qu,Qu.exports)),Qu.exports}var aS;function M4(){return aS||(aS=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=C4(),r=g(i),o=E4(),u=g(o),c=A4(),h=g(c),m=N4(),d=g(m);function g(x){return x&&x.__esModule?x:{default:x}}var y=(0,r.default)("youtube-player"),v={};v.proxyEvents=function(x){var w={},C=function(K){var z="on"+K.slice(0,1).toUpperCase()+K.slice(1);w[z]=function(ee){y('event "%s"',z,ee),x.trigger(K,ee)}},E=!0,A=!1,N=void 0;try{for(var D=h.default[Symbol.iterator](),L;!(E=(L=D.next()).done);E=!0){var B=L.value;C(B)}}catch(ne){A=!0,N=ne}finally{try{!E&&D.return&&D.return()}finally{if(A)throw N}}return w},v.promisifyPlayer=function(x){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,C={},E=function(z){w&&d.default[z]?C[z]=function(){for(var ee=arguments.length,se=Array(ee),ye=0;ye<ee;ye++)se[ye]=arguments[ye];return x.then(function(ve){var Ee=d.default[z],Ve=ve.getPlayerState(),X=ve[z].apply(ve,se);return Ee.stateChangeRequired||Array.isArray(Ee.acceptableStates)&&Ee.acceptableStates.indexOf(Ve)===-1?new Promise(function(j){var Y=function H(){var ie=ve.getPlayerState(),ue=void 0;typeof Ee.timeout=="number"&&(ue=setTimeout(function(){ve.removeEventListener("onStateChange",H),j()},Ee.timeout)),Array.isArray(Ee.acceptableStates)&&Ee.acceptableStates.indexOf(ie)!==-1&&(ve.removeEventListener("onStateChange",H),clearTimeout(ue),j())};ve.addEventListener("onStateChange",Y)}).then(function(){return X}):X})}:C[z]=function(){for(var ee=arguments.length,se=Array(ee),ye=0;ye<ee;ye++)se[ye]=arguments[ye];return x.then(function(ve){return ve[z].apply(ve,se)})}},A=!0,N=!1,D=void 0;try{for(var L=u.default[Symbol.iterator](),B;!(A=(B=L.next()).done);A=!0){var ne=B.value;E(ne)}}catch(K){N=!0,D=K}finally{try{!A&&L.return&&L.return()}finally{if(N)throw D}}return C},e.default=v,t.exports=e.default})(Hu,Hu.exports)),Hu.exports}var oS;function D4(){return oS||(oS=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},r=_4(),o=d(r),u=S4(),c=d(u),h=M4(),m=d(h);function d(y){return y&&y.__esModule?y:{default:y}}var g=void 0;e.default=function(y){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,w=(0,o.default)();if(g||(g=(0,c.default)(w)),v.events)throw new Error("Event handlers cannot be overwritten.");if(typeof y=="string"&&!document.getElementById(y))throw new Error('Element "'+y+'" does not exist.');v.events=m.default.proxyEvents(w);var C=new Promise(function(A){if((typeof y>"u"?"undefined":i(y))==="object"&&y.playVideo instanceof Function){var N=y;A(N)}else g.then(function(D){var L=new D.Player(y,v);return w.on("ready",function(){A(L)}),null})}),E=m.default.promisifyPlayer(C,x);return E.on=w.on,E.off=w.off,E},t.exports=e.default})(Bu,Bu.exports)),Bu.exports}var k4=D4();const O4=Bc(k4);var L4=Object.defineProperty,j4=Object.defineProperties,P4=Object.getOwnPropertyDescriptors,lS=Object.getOwnPropertySymbols,I4=Object.prototype.hasOwnProperty,V4=Object.prototype.propertyIsEnumerable,uS=(t,e,i)=>e in t?L4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,Zm=(t,e)=>{for(var i in e||(e={}))I4.call(e,i)&&uS(t,i,e[i]);if(lS)for(var i of lS(e))V4.call(e,i)&&uS(t,i,e[i]);return t},Jm=(t,e)=>j4(t,P4(e)),z4=(t,e,i)=>new Promise((r,o)=>{var u=m=>{try{h(i.next(m))}catch(d){o(d)}},c=m=>{try{h(i.throw(m))}catch(d){o(d)}},h=m=>m.done?r(m.value):Promise.resolve(m.value).then(u,c);h((i=i.apply(t,e)).next())});function B4(t,e){var i,r;if(t.videoId!==e.videoId)return!0;const o=((i=t.opts)==null?void 0:i.playerVars)||{},u=((r=e.opts)==null?void 0:r.playerVars)||{};return o.start!==u.start||o.end!==u.end}function cS(t={}){return Jm(Zm({},t),{height:0,width:0,playerVars:Jm(Zm({},t.playerVars),{autoplay:0,start:0,end:0})})}function U4(t,e){return t.videoId!==e.videoId||!b4(cS(t.opts),cS(e.opts))}function H4(t,e){var i,r,o,u;return t.id!==e.id||t.className!==e.className||((i=t.opts)==null?void 0:i.width)!==((r=e.opts)==null?void 0:r.width)||((o=t.opts)==null?void 0:o.height)!==((u=e.opts)==null?void 0:u.height)||t.iframeClassName!==e.iframeClassName||t.title!==e.title}var F4={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},G4={videoId:It.string,id:It.string,className:It.string,iframeClassName:It.string,style:It.object,title:It.string,loading:It.oneOf(["lazy","eager"]),opts:It.objectOf(It.any),onReady:It.func,onError:It.func,onPlay:It.func,onPause:It.func,onEnd:It.func,onStateChange:It.func,onPlaybackRateChange:It.func,onPlaybackQualityChange:It.func},oc=class extends ke.Component{constructor(t){super(t),this.destroyPlayerPromise=void 0,this.onPlayerReady=e=>{var i,r;return(r=(i=this.props).onReady)==null?void 0:r.call(i,e)},this.onPlayerError=e=>{var i,r;return(r=(i=this.props).onError)==null?void 0:r.call(i,e)},this.onPlayerStateChange=e=>{var i,r,o,u,c,h,m,d;switch((r=(i=this.props).onStateChange)==null||r.call(i,e),e.data){case oc.PlayerState.ENDED:(u=(o=this.props).onEnd)==null||u.call(o,e);break;case oc.PlayerState.PLAYING:(h=(c=this.props).onPlay)==null||h.call(c,e);break;case oc.PlayerState.PAUSED:(d=(m=this.props).onPause)==null||d.call(m,e);break}},this.onPlayerPlaybackRateChange=e=>{var i,r;return(r=(i=this.props).onPlaybackRateChange)==null?void 0:r.call(i,e)},this.onPlayerPlaybackQualityChange=e=>{var i,r;return(r=(i=this.props).onPlaybackQualityChange)==null?void 0:r.call(i,e)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const e=Jm(Zm({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=O4(this.container,e),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(i=>{this.props.title&&i.setAttribute("title",this.props.title),this.props.loading&&i.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var e;(e=this.internalPlayer)==null||e.getIframe().then(i=>{this.props.id?i.setAttribute("id",this.props.id):i.removeAttribute("id"),this.props.iframeClassName?i.setAttribute("class",this.props.iframeClassName):i.removeAttribute("class"),this.props.opts&&this.props.opts.width?i.setAttribute("width",this.props.opts.width.toString()):i.removeAttribute("width"),this.props.opts&&this.props.opts.height?i.setAttribute("height",this.props.opts.height.toString()):i.removeAttribute("height"),this.props.title?i.setAttribute("title",this.props.title):i.setAttribute("title","YouTube video player"),this.props.loading?i.setAttribute("loading",this.props.loading):i.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var e,i,r,o;if(typeof this.props.videoId>"u"||this.props.videoId===null){(e=this.internalPlayer)==null||e.stopVideo();return}let u=!1;const c={videoId:this.props.videoId};if((i=this.props.opts)!=null&&i.playerVars&&(u=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(c.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(c.endSeconds=this.props.opts.playerVars.end)),u){(r=this.internalPlayer)==null||r.loadVideoById(c);return}(o=this.internalPlayer)==null||o.cueVideoById(c)},this.refContainer=e=>{this.container=e},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(t){return z4(this,null,function*(){H4(t,this.props)&&this.updatePlayer(),U4(t,this.props)&&(yield this.resetPlayer()),B4(t,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return ke.createElement("div",{className:this.props.className,style:this.props.style},ke.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},Kc=oc;Kc.propTypes=G4;Kc.defaultProps=F4;Kc.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var q4=Kc;const Y4=_.jsx("style",{children:`
        .ytp-endscreen-container { display: none !important; }
        .ytp-suggestions { display: none !important; }
    `}),Q4=({className:t,onReady:e,onStateChange:i,onEnded:r,muted:o=!1,controls:u=!0,quality:c=null,autoUnmute:h=!1,passive:m=!1})=>{const d=me(L=>L.currentSong),g=me(L=>L.isPlaying),y=me(L=>L.setIsPlaying),v=me(L=>L.restartTrigger),x=me(L=>L.waitingForGuest),w=T.useRef(null),C=T.useRef(!1),E=T.useRef(null),A=ke.useMemo(()=>({height:"100%",width:"100%",playerVars:{autoplay:h?1:0,controls:u?1:0,mute:h||o?1:0,disablekb:u?0:1,modestbranding:1,playsinline:1,enablejsapi:1,fs:0,iv_load_policy:3,rel:0,origin:window.location.origin}}),[u,o,h]);T.useEffect(()=>{if(!h)return;const L=()=>{w.current&&w.current.unMute()};return document.addEventListener("click",L,{once:!0}),()=>document.removeEventListener("click",L)},[h]);const N=L=>{w.current=L.target,r4(L.target);const B=L.target.getIframe();B&&(B.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share; fullscreen");const ne=()=>{c&&L.target.setPlaybackQuality&&L.target.setPlaybackQuality(c)};ne(),window.ytQualityInterval&&clearInterval(window.ytQualityInterval),window.ytQualityInterval=setInterval(ne,15e3),C.current=!0,setTimeout(()=>{C.current=!1},1500);const K=me.getState(),z=K.isPlaying&&!K.waitingForGuest;m?z?L.target.unMute():L.target.mute():z?L.target.playVideo():(L.target.mute(),L.target.pauseVideo()),e&&e(L)};T.useEffect(()=>()=>{window.ytQualityInterval&&clearInterval(window.ytQualityInterval),d?.videoId||(a4(),w.current=null)},[d?.videoId,h,c]);const D=L=>{const B=me.getState();if(c&&(L.data===1||L.data===3)&&L.target.setPlaybackQuality(c),m&&L.data===1&&(!B.isPlaying||B.waitingForGuest)){L.target.mute(),L.target.pauseVideo();return}if(!m&&B.waitingForGuest&&L.data===1){L.target.pauseVideo();return}if(C.current&&L.data===1&&!B.isPlaying&&!m){L.target.pauseVideo();return}i&&i(L),m?L.data===1&&(B.isPlaying&&!B.waitingForGuest?L.target.unMute():L.target.mute()):(L.data===1&&y(!0),L.data===2&&y(!1)),L.data===0&&r&&r()};return T.useEffect(()=>{Qn()&&(m||(g&&!x?h?w.current&&(w.current.mute(),w.current.playVideo(),setTimeout(()=>{w.current&&(w.current.unMute(),w.current.setVolume(100))},500)):Kr():f4()))},[g,x,h]),T.useEffect(()=>{v>0&&Qn()&&(w.current.seekTo(0,!0),setTimeout(()=>Kr(),100))},[v]),d?_.jsxs("div",{ref:E,className:t,style:{position:"relative",overflow:"hidden"},children:[Y4,_.jsx(q4,{videoId:d.videoId,opts:A,onReady:N,onStateChange:D,className:"w-full h-full"})]}):_.jsx("div",{className:"bg-black text-white flex items-center justify-center h-full w-full",children:"Cha pht bi no"})},K4=({countdown:t,onSkip:e,onPauseToggle:i})=>{const r=me(C=>C.waitingForGuest),o=me(C=>C.currentSong),u=me(C=>C.waitCountdown),c=me(C=>C.countdownPaused),h=me(C=>C.micAttemptHint),m=t??u,[d,g]=T.useState(!1);if(T.useEffect(()=>{if(r){const C=setTimeout(()=>g(!0),100);return()=>clearTimeout(C)}else g(!1)},[r]),!r)return null;const y=o?.addedBy||"Khch",v=o?.cleanTitle||o?.title||"",x=30,w=Math.max(0,(m??x)/x);return _.jsxs(_.Fragment,{children:[d&&c_.createPortal(_.jsxs("div",{className:`inv-overlay ${d?"inv-overlay--entered":""}`,children:[_.jsxs("div",{className:"inv-orbs",children:[_.jsx("div",{className:"inv-orb",style:{left:"20%",width:"300px",height:"300px",animationDelay:"0s"}}),_.jsx("div",{className:"inv-orb",style:{left:"70%",width:"400px",height:"400px",animationDelay:"-5s"}}),_.jsx("div",{className:"inv-orb",style:{left:"40%",width:"200px",height:"200px",animationDelay:"-10s"}})]}),_.jsxs("div",{className:"inv-content",children:[_.jsxs("div",{className:"inv-mic-wrap",onClick:e,children:[_.jsxs("div",{className:"inv-rings",children:[_.jsx("div",{className:"inv-ring",style:{animationDelay:"0s"}}),_.jsx("div",{className:"inv-ring",style:{animationDelay:"1s"}})]}),_.jsxs("svg",{className:"inv-countdown-svg",viewBox:"0 0 100 100",children:[_.jsx("circle",{cx:"50",cy:"50",r:"48",fill:"none",stroke:"rgba(255,255,255,0.1)",strokeWidth:"3"}),_.jsx("circle",{cx:"50",cy:"50",r:"48",fill:"none",stroke:"#22d3ee",strokeWidth:"3",strokeDasharray:"301.6",strokeDashoffset:301.6*(1-w),strokeLinecap:"round",style:{transition:c?"none":"stroke-dashoffset 1s linear"},transform:"rotate(-90 50 50)"})]}),_.jsx("div",{className:"inv-mic-btn",children:_.jsx(Vo,{size:80,color:"#fff",strokeWidth:2.5})})]}),_.jsx("h1",{className:"inv-singer",children:y}),_.jsx("h2",{className:"inv-subtitle",children:"MI LN SN KHU"}),_.jsxs("div",{className:"inv-song",children:["TRNH BY BI HT: ",_.jsx("span",{className:"inv-song-title",children:v})]}),_.jsxs("p",{className:"inv-instruction",children:["G nh vo mic hoc ni ",_.jsx("span",{className:"inv-alo",children:"A L"}),"  bt u"]})]}),_.jsxs("div",{className:"inv-footer",children:[_.jsxs("div",{className:"inv-countdown-row",children:[_.jsx("span",{className:"inv-countdown-text",children:"T ng pht sau"}),_.jsxs("span",{className:"inv-countdown-num",children:[m," giy"]}),i&&_.jsxs("button",{className:"inv-pause-btn",onClick:C=>{C.stopPropagation(),i?.()},children:[c?_.jsx(FT,{size:16,fill:"currentColor"}):_.jsx(HT,{size:16,fill:"currentColor"}),c?"Tip Tc":"Dng m"]})]}),_.jsxs("button",{className:"inv-start-btn",onClick:e,children:["BT U NGAY ",_.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("path",{d:"M5 12l14 0"}),_.jsx("path",{d:"M13 18l6 -6"}),_.jsx("path",{d:"M13 6l6 6"})]})]})]})]}),document.body),h&&c_.createPortal(_.jsxs("div",{className:`inv-hint ${h==="weak"?"inv-hint--amber":"inv-hint--green"}`,children:[h==="weak"&&" Hy g mnh hn vo mic!",h==="medium"&&" Gn ri! Ni to hn na!"]}),document.body)]})},qw=ke.memo(K4),X4=ke.memo(()=>{const t=me(m=>m.currentSong),e=me(m=>m.queue[0]?.videoId??null),i=me(m=>m.queue[0]?.cleanTitle||m.queue[0]?.title||null),r=me(m=>m.queue[0]?.addedBy??null),[o,u]=T.useState(!1);if(T.useEffect(()=>{if(t){const d=[],g=()=>{u(!0),d.push(setTimeout(()=>u(!1),8e3))};let y=0;if(t.duration)if(typeof t.duration=="string"&&t.duration.includes(":")){const v=t.duration.split(":").map(Number);v.length===2?y=v[0]*60+v[1]:v.length===3&&(y=v[0]*3600+v[1]*60+v[2])}else y=parseInt(t.duration,10)||0;if(d.push(setTimeout(g,5e3)),y>60){const v=y*1e3/2;v>13e3&&d.push(setTimeout(g,v));let x=y*1e3-35e3;x<0&&(x=y*1e3*.85),x>v+8e3&&d.push(setTimeout(g,x))}else d.push(setInterval(g,45e3));return()=>{d.forEach(v=>{clearTimeout(v),clearInterval(v)})}}else u(!1)},[t]),T.useEffect(()=>{t&&e&&u(!0)},[e]),!t)return null;const c=t.cleanTitle||ag(t.title),h=t.addedBy||"Khch";return _.jsx("div",{className:"absolute top-0 left-0 right-0 z-50 pointer-events-none flex justify-center px-6 pt-5",style:{opacity:o?1:0,transform:o?"translateY(0)":"translateY(-100%)",transition:"opacity 0.5s ease, transform 0.5s ease"},children:_.jsxs("div",{className:"flex items-stretch gap-0 max-w-[95vw] rounded-2xl overflow-hidden",style:{boxShadow:"0 8px 32px rgba(0,0,0,0.6)"},children:[_.jsxs("div",{className:"flex items-center gap-5 bg-black/80 px-8 py-5 min-w-0",children:[_.jsx("div",{className:"w-14 h-14 rounded-xl bg-yellow-400/20 flex items-center justify-center flex-shrink-0",children:_.jsx(Vo,{size:32,className:"text-yellow-400"})}),_.jsxs("div",{className:"min-w-0",children:[_.jsx("div",{className:"text-yellow-400 text-sm font-bold uppercase tracking-widest leading-none mb-2",children:"ANG HT"}),_.jsx("div",{className:"text-white font-black text-3xl uppercase max-w-[70vw] leading-tight",children:c}),_.jsx("div",{className:"text-yellow-300 text-2xl font-bold uppercase tracking-wide mt-1",children:h})]})]}),_.jsxs("div",{className:"flex items-center gap-5 bg-indigo-900/80 px-8 py-5 min-w-0",children:[_.jsx("div",{className:"w-14 h-14 rounded-xl bg-indigo-400/20 flex items-center justify-center flex-shrink-0",children:_.jsx(qT,{size:32,className:"text-indigo-300"})}),_.jsxs("div",{className:"min-w-0",children:[_.jsx("div",{className:"text-indigo-300 text-sm font-bold uppercase tracking-widest leading-none mb-2",children:"TIP THEO"}),e?_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"text-white font-black text-3xl uppercase max-w-[70vw] leading-tight",children:i}),_.jsx("div",{className:"text-cyan-300 text-2xl font-bold uppercase tracking-wide mt-1",children:r||"Khch"})]}):_.jsx("div",{className:"text-white/50 font-bold text-lg uppercase",children:"Chc b con ht vui v!"})]})]})]})})}),W4="/assets/bg-CLi_Pinb.mp4";class $4 extends ke.Component{constructor(e){super(e),this.state={hasError:!1,errorKey:0}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e){console.warn("[TV] Player crashed, recovering...",e.message),setTimeout(()=>this.setState({hasError:!1}),500)}componentDidUpdate(e){e.videoId!==this.props.videoId&&this.state.hasError&&this.setState({hasError:!1})}render(){return this.state.hasError?_.jsx("div",{className:"w-full h-full bg-black flex items-center justify-center",children:_.jsx("div",{className:"text-white/50 text-xl",children:"ang ti..."})}):this.props.children}}const Z4=ke.memo(()=>{const t=me(r=>r.isPlaying),e=me(r=>r.waitingForGuest),i=T.useRef(!0);return T.useEffect(()=>{const r=setTimeout(()=>{i.current=!1},15e3);return()=>clearTimeout(r)},[]),T.useEffect(()=>{if(!t||e)return;const r=i.current?1500:3e3,o=setInterval(()=>{const u=c4();u===1?No():(u===-1||u===5||u===2)&&($m(),Kr(),setTimeout(()=>No(),500))},r);return()=>clearInterval(o)},[t,e]),null}),J4=()=>{const{sendMessage:t}=Gw("projection"),e=me(v=>v.currentSong),i=me(v=>v.isPlaying),[r,o]=T.useState(!!document.fullscreenElement),[u,c]=T.useState(!0),h=T.useRef(null),m=T.useCallback(()=>{document.fullscreenElement?document.exitFullscreen().catch(()=>{}):document.documentElement.requestFullscreen().catch(()=>{})},[]);T.useEffect(()=>{const v=window.AudioContext||window.webkitAudioContext;if(!v)return;const x=new v;(()=>{x.state==="suspended"&&x.resume();const A=x.createOscillator(),N=x.createGain();A.type="sine",A.frequency.value=1,N.gain.value=.001,A.connect(N),N.connect(x.destination),A.start(),A.stop(x.currentTime+.5)})();const C=x.createOscillator(),E=x.createGain();return C.frequency.value=440,E.gain.value=0,C.connect(E),E.connect(x.destination),C.start(),()=>{C.stop(),x.close()}},[]);const d=T.useCallback(()=>{t("SONG_ENDED")},[t]);T.useEffect(()=>{const v=()=>o(!!document.fullscreenElement);return document.addEventListener("fullscreenchange",v),()=>document.removeEventListener("fullscreenchange",v)},[]),T.useEffect(()=>{const v=async()=>{if(!document.fullscreenElement)try{await document.documentElement.requestFullscreen()}catch{}};return document.fullscreenElement||document.addEventListener("click",v,{once:!0}),()=>{document.removeEventListener("click",v)}},[e?.videoId]);const g=T.useCallback(()=>{h.current&&clearTimeout(h.current),h.current=setTimeout(()=>c(!1),3e3)},[]),y=T.useRef(null);return T.useEffect(()=>{const v=()=>{y.current||(y.current=!0,c(!0),g(),setTimeout(()=>{y.current=!1},500))};return g(),window.addEventListener("mousemove",v),()=>{window.removeEventListener("mousemove",v),h.current&&clearTimeout(h.current)}},[g]),_.jsxs("div",{className:"h-screen w-screen bg-black overflow-hidden flex items-center justify-center relative",children:[_.jsx(Z4,{}),_.jsx("div",{className:`w-full h-full relative z-10 transition-opacity duration-500 ${e&&i?"opacity-100":"opacity-0 pointer-events-none"}`,children:e?_.jsxs("div",{className:"w-full h-full relative",children:[_.jsx($4,{videoId:e.videoId,children:_.jsx(Q4,{className:"w-full h-full",autoUnmute:!0,quality:"hd1080",controls:!1,passive:!0,onEnded:d})}),_.jsx("div",{className:"absolute inset-0 z-10"}),_.jsx(X4,{})]}):_.jsx("div",{className:"w-full h-full"})}),(!e||!i)&&_.jsx("div",{className:"absolute inset-0 z-0 overflow-hidden",children:_.jsx("video",{src:W4,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover"})}),_.jsx(qw,{}),_.jsx("button",{onClick:m,className:`absolute top-4 right-4 z-50 p-3 bg-black/50 hover:bg-black/80 text-white rounded-xl transition-all duration-500 cursor-pointer active:scale-90 ${u?"opacity-100":"opacity-0 pointer-events-none"}`,title:r?"Thot ton mn hnh":"Ton mn hnh",children:r?_.jsx(tD,{size:28}):_.jsx(ZM,{size:28})})]})},ej=({className:t})=>{const e=me(h=>h.currentSong),i=me(h=>h.isPlaying),r=T.useRef(null),[o,u]=T.useState(!1);if(T.useEffect(()=>{r.current&&(r.current.style.animationPlayState=i?"running":"paused")},[i]),!e)return _.jsx("div",{className:"bg-black text-white flex items-center justify-center h-full w-full",children:"Cha pht bi no"});const c=`https://img.youtube.com/vi/${e.videoId}/hqdefault.jpg`;return _.jsxs("div",{className:`${t} bg-black flex items-center justify-center relative overflow-hidden`,onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[_.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-30 object-cover",style:{backgroundImage:`url(${c})`}}),_.jsxs("div",{ref:r,className:"relative z-10 h-[92%] aspect-square rounded-full border-4 border-slate-800 shadow-2xl overflow-hidden will-change-transform",style:{animation:"disc-spin 10s linear infinite",animationPlayState:i?"running":"paused"},children:[_.jsx("img",{src:c,alt:"Song Thumbnail",className:"w-full h-full object-cover scale-110"}),_.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-16 h-16 bg-black rounded-full border-2 border-slate-700 flex items-center justify-center",children:_.jsx("div",{className:"w-6 h-6 bg-slate-900 rounded-full"})})]}),_.jsxs("div",{className:"absolute bottom-0 left-0 right-0 z-20 flex items-center gap-3 px-4 py-3 bg-black/85",style:{opacity:o?1:0,transform:o?"translateY(0)":"translateY(100%)",transition:"opacity 0.3s ease, transform 0.3s ease"},children:[_.jsx(Vo,{size:16,className:"text-yellow-400 flex-shrink-0"}),_.jsxs("div",{className:"min-w-0 flex items-center gap-2 flex-1",children:[_.jsx("span",{className:"text-yellow-400 font-black text-sm uppercase truncate",children:e.title}),_.jsx("span",{className:"text-white/30 flex-shrink-0",children:""}),_.jsx("span",{className:"text-white/60 font-bold text-xs uppercase flex-shrink-0",children:e.addedBy||"Khch"})]}),_.jsx("div",{className:`px-2 py-0.5 rounded text-[10px] font-black uppercase ${i?"bg-red-600 text-white":"bg-orange-500 text-white"}`,children:i?"ANG HT":"TM NGNG"})]})]})},fS=t=>{if(!t||isNaN(t))return"0:00";const e=Math.floor(t/60),i=Math.floor(t%60);return`${e}:${i.toString().padStart(2,"0")}`},tj=()=>{const t=me(E=>E.currentSong),e=me(E=>E.restartTrigger),i=me(E=>E.volume),r=me(E=>E.setVolume),o=me(E=>E.isMuted),u=me(E=>E.setIsMuted),[c,h]=T.useState(0),[m,d]=T.useState(0),g=T.useRef(!1),y=T.useRef(100);T.useEffect(()=>{e>0&&(g.current=!0,h(0),setTimeout(()=>{g.current=!1},1e3))},[e]),T.useEffect(()=>{if(!t)return;const E=setInterval(()=>{if(!g.current){const A=Uw(),N=Hw();h(D=>{const L=Math.floor(A);return Math.floor(D)===L?D:L}),d(D=>{const L=Math.floor(N);return Math.floor(D)===L?D:L})}},1e3);return()=>clearInterval(E)},[t]);const v=E=>{const A=Number(E.target.value);r(A),A>0&&(u(!1),y.current=A)},x=()=>{o?(u(!1),r(y.current)):(y.current=i,u(!0),r(0))};if(!t)return null;const w=m>0?c/m*100:0,C=o||i===0?SD:i<50?vD:_D;return _.jsxs("div",{className:"space-y-2",children:[_.jsxs("div",{className:"space-y-1",children:[_.jsx("div",{className:"h-1.5 bg-slate-200 rounded-full overflow-hidden",children:_.jsx("div",{className:"h-full bg-indigo-500 rounded-full transition-all duration-100",style:{width:`${w}%`}})}),_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsx("span",{className:"text-[10px] font-bold text-slate-400 tabular-nums",children:fS(c)}),_.jsx("span",{className:"text-[10px] font-bold text-slate-400 tabular-nums",children:fS(m)})]})]}),_.jsx("div",{className:"flex items-center gap-3",children:_.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[_.jsxs("button",{onClick:x,className:"p-1.5 rounded-lg hover:bg-slate-100 text-slate-500 hover:text-slate-700 transition-all cursor-pointer active:scale-90 flex items-center gap-1",title:"m lng TV",children:[_.jsx("span",{className:"text-[9px] font-black text-indigo-500 uppercase",children:"TV"}),_.jsx(C,{size:16})]}),_.jsxs("div",{className:"relative flex-1 group max-w-[140px]",children:[_.jsx("div",{className:"h-1 bg-slate-200 rounded-full overflow-hidden",children:_.jsx("div",{className:"h-full bg-indigo-400 rounded-full transition-all duration-75",style:{width:`${i}%`}})}),_.jsx("input",{type:"range",min:0,max:100,step:1,value:i,onChange:v,onMouseUp:E=>E.target.blur(),onTouchEnd:E=>E.target.blur(),tabIndex:-1,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"})]}),_.jsxs("span",{className:"text-[10px] font-bold text-slate-400 w-7 text-right tabular-nums",children:[i,"%"]})]})})]})},nj=({openTV:t,closeTV:e,isTVOpen:i})=>{const[r,o]=T.useState("extend"),[u,c]=T.useState(!1);T.useEffect(()=>{fetch("/api/display/status").then(d=>d.json()).then(d=>{d.mode&&o(d.mode)}).catch(()=>{})},[]);const h=T.useCallback(async d=>{if(!(d===r||u)){c(!0);try{d==="duplicate"&&(i&&e(),me.getState().setIsPlaying(!1));const y=await(await fetch(`/api/display/${d}`,{method:"POST"})).json();o(y.mode),d==="extend"&&setTimeout(()=>{t();const{currentSong:v}=me.getState();v&&me.getState().setIsPlaying(!0)},2500)}catch(g){console.error("[DisplayToggle] Switch failed:",g)}finally{c(!1)}}},[r,u,t,e,i]),m=r==="extend";return _.jsxs("div",{className:"relative flex bg-slate-200 rounded-lg p-[3px]",style:{opacity:u?.6:1},children:[_.jsx("div",{className:"absolute top-[3px] bottom-[3px] rounded-md transition-all duration-300 ease-in-out",style:{width:"50%",left:m?"50%":"3px",background:m?"linear-gradient(135deg, #22c55e, #16a34a)":"linear-gradient(135deg, #ef4444, #dc2626)",boxShadow:m?"0 2px 8px rgba(34, 197, 94, 0.35)":"0 2px 8px rgba(239, 68, 68, 0.35)"}}),_.jsxs("button",{type:"button",disabled:u,className:`relative z-10 flex items-center justify-center gap-1.5 px-4 py-1.5 rounded-md text-xs font-extrabold uppercase tracking-wide cursor-pointer transition-colors duration-200 ${m?"text-slate-400 hover:text-slate-600":"text-white"}`,onClick:()=>h("duplicate"),children:[_.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2"}),_.jsx("path",{d:"M8 21h8"}),_.jsx("path",{d:"M12 17v4"})]}),"YouTube"]}),_.jsxs("button",{type:"button",disabled:u,className:`relative z-10 flex items-center justify-center gap-1.5 px-4 py-1.5 rounded-md text-xs font-extrabold uppercase tracking-wide cursor-pointer transition-colors duration-200 ${m?"text-white":"text-slate-400 hover:text-slate-600"}`,onClick:()=>h("extend"),children:[_.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("path",{d:"M12 2a3 3 0 00-3 3v7a3 3 0 006 0V5a3 3 0 00-3-3z"}),_.jsx("path",{d:"M19 10v2a7 7 0 01-14 0v-2"}),_.jsx("path",{d:"M12 19v3"})]}),"Karaoke"]})]})},ij=()=>({announce:T.useCallback(e=>{if(!e||!window.speechSynthesis)return Promise.resolve();const i=e.replace(/[\[\]\(\)\|\-]/g," ").replace(/\b(karaoke|beat|gc|tng|tone|nam|n|song ca|h|ca s|full|hd|official|video|music|lyrics|lyric|mv|audio|remix|cover|live|lofi|nhc sng|mi nht|hay nht|acoustic|ver|version)\b/gi,"").replace(/\s+/g," ").trim();return i?(o=>new Promise(async u=>{try{const c=`/tts?ie=UTF-8&tl=vi&client=gtx&q=${encodeURIComponent(o)}`,m=await(await fetch(c)).blob(),d=new Audio(URL.createObjectURL(m));d.playbackRate=1,d.onended=()=>u(),d.onerror=g=>{console.error("Audio playback error",g),u()},await d.play()}catch(c){console.error("TTS Error:",c),u()}}))(i):Promise.resolve()},[]),isPlaying:!1}),am=45e3,sj=.5,rj=4,aj=1500,oj=2,lj=3e3,uj=85,cj=1100,fj=()=>{const t=T.useRef(null),e=T.useRef(null),i=T.useCallback(()=>{if(e.current){try{e.current.close()}catch{}e.current=null}t.current&&(t.current.getTracks().forEach(o=>o.stop()),t.current=null)},[]);return{waitForPresence:T.useCallback((o,u,c)=>new Promise(async h=>{if(o?.aborted){h("abort");return}let m=!1,d=0,g=0,y=Date.now();const v=setInterval(()=>{const w=Date.now();me?.getState?.()?.countdownPaused||(g+=w-y),y=w;const E=Math.max(0,Math.ceil((am-g)/1e3));u&&u(E),g>=am&&x("timeout")},1e3),x=w=>{m||(m=!0,clearInterval(v),i(),h(w))};o&&o.addEventListener("abort",()=>x("abort"),{once:!0}),u&&u(Math.ceil(am/1e3));try{const w=await navigator.mediaDevices.getUserMedia({audio:!0});if(t.current=w,m){i();return}const C=new AudioContext;e.current=C,C.state==="suspended"&&await C.resume();const E=C.createMediaStreamSource(w),A=C.createAnalyser();A.fftSize=2048,A.smoothingTimeConstant=.6,E.connect(A);const N=C.sampleRate,D=A.frequencyBinCount,L=N/A.fftSize,B=Math.floor(uj/L),ne=Math.min(Math.ceil(cj/L),D-1),K=ne-B+1,z=new Float32Array(A.fftSize),ee=new Uint8Array(D),se=[];let ye=0,ve=0,Ee=!1,Ve=null,X=!1,j=0,Y=0,H=0;const ie=()=>{if(m)return;if(o?.aborted){x("abort");return}if(g<1e4){requestAnimationFrame(ie);return}H||(H=Date.now()+lj),A.getFloatTimeDomainData(z);let ue=0;for(let Te=0;Te<z.length;Te++){const Z=Math.abs(z[Te]);Z>ue&&(ue=Z)}A.getByteFrequencyData(ee);let M=0,G=0;for(let Te=0;Te<D;Te++){const Z=(ee[Te]/255)**2;M+=Z,Te>=B&&Te<=ne&&(G+=Z)}const W=Math.sqrt(M/D),J=Math.sqrt(G/K),fe=W>.001?J/W:0;if(!X){if(Date.now()>H){if(X=!0,se.length>0){const Te=se.map($=>$.peak).sort(($,ge)=>$-ge),Z=se.map($=>$.voiceRms).sort(($,ge)=>$-ge),ce=Math.floor(se.length*.9);ye=Te[ce]||Te[Te.length-1],ve=Z[ce]||Z[Z.length-1],Ee=!0}}else j%3===0&&se.push({peak:ue,voiceRms:J,rms:W}),j++;requestAnimationFrame(ie);return}j++;const _e=Math.max(sj,ye*2.5),de=Ee?Math.max(ve*oj,.15):.25;if(ue>_e){if(Y++,Y>=rj){x("mic");return}}else Y=0;if(J>de&&fe>.5){if(!Ve)Ve=Date.now();else if(Date.now()-Ve>=aj){x("mic");return}}else Ve=null;if(c&&Ee){const Te=Date.now();if(Te-d>2e3){const Z=ue/_e,ce=J/de,$=Math.max(Z,ce);$>.5&&$<1?(d=Te,c("medium")):$>.2&&$<.5&&(d=Te,c("weak"))}}requestAnimationFrame(ie)};ie()}catch(w){console.warn("Mic detection unavailable:",w.message)}}),[i]),cancelDetection:i}},hj=()=>{const[t,e]=T.useState(!1),i=T.useRef(null),r=T.useCallback(()=>{i.current&&i.current.closed&&(i.current=null,e(!1))},[]);T.useEffect(()=>{const c=setInterval(r,1e3);return()=>clearInterval(c)},[r]);const o=T.useCallback(async()=>{if(i.current&&!i.current.closed){i.current.focus();return}let c=null;if("getScreenDetails"in window)try{const d=await window.getScreenDetails(),g=d.currentScreen;c=d.screens.find(y=>y!==g)}catch(d){console.warn("Window Management API not available or denied:",d)}if(c){const d=window.location.port||"5176",g=new URLSearchParams({left:String(c.left),top:String(c.top),width:String(c.width),height:String(c.height),port:d});try{if((await fetch(`/api/tv/open?${g}`)).ok){e(!0);const v=window.open("","karaoke_tv");v?i.current=v:i.current={closed:!1},console.log("[TV] Chrome app mode launched on secondary screen");return}}catch(y){console.warn("[TV] Server launch failed, falling back to window.open:",y)}}let h="width=1280,height=720,menubar=no,toolbar=no,location=no,status=no";c&&(h=`popup,left=${c.left},top=${c.top},width=${c.width},height=${c.height}`);const m=window.open("/projection","karaoke_tv",h);m&&(i.current=m,e(!0))},[]),u=T.useCallback(()=>{i.current&&!i.current.closed&&i.current.close(),i.current=null,e(!1)},[]);return{isTVOpen:t,openTV:o,closeTV:u}},dj=()=>{};var hS={};const Yw={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const te=function(t,e){if(!t)throw fa(e)},fa=function(t){return new Error("Firebase Database ("+Yw.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};const Qw=function(t){const e=[];let i=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},mj=function(t){const e=[];let i=0,r=0;for(;i<t.length;){const o=t[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=t[i++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=t[i++],c=t[i++],h=t[i++],m=((o&7)<<18|(u&63)<<12|(c&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const u=t[i++],c=t[i++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return e.join("")},lg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const u=t[o],c=o+1<t.length,h=c?t[o+1]:0,m=o+2<t.length,d=m?t[o+2]:0,g=u>>2,y=(u&3)<<4|h>>4;let v=(h&15)<<2|d>>6,x=d&63;m||(x=64,c||(v=64)),r.push(i[g],i[y],i[v],i[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Qw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const u=i[t.charAt(o++)],h=o<t.length?i[t.charAt(o)]:0;++o;const d=o<t.length?i[t.charAt(o)]:64;++o;const y=o<t.length?i[t.charAt(o)]:64;if(++o,u==null||h==null||d==null||y==null)throw new pj;const v=u<<2|h>>4;if(r.push(v),d!==64){const x=h<<4&240|d>>2;if(r.push(x),y!==64){const w=d<<6&192|y;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class pj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Kw=function(t){const e=Qw(t);return lg.encodeByteArray(e,!0)},bc=function(t){return Kw(t).replace(/\./g,"")},ep=function(t){try{return lg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function gj(t){return Xw(void 0,t)}function Xw(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const i=e;return new Date(i.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const i in e)!e.hasOwnProperty(i)||!yj(i)||(t[i]=Xw(t[i],e[i]));return t}function yj(t){return t!=="__proto__"}function vj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const bj=()=>vj().__FIREBASE_DEFAULTS__,_j=()=>{if(typeof process>"u"||typeof hS>"u")return;const t=hS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},xj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ep(t[1]);return e&&JSON.parse(e)},Ww=()=>{try{return dj()||bj()||_j()||xj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Sj=t=>Ww()?.emulatorHosts?.[t],Tj=t=>{const e=Sj(t);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},$w=()=>Ww()?.config;class ol{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function ug(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function wj(t){return(await fetch(t,{credentials:"include"})).ok}function Cj(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,u=t.sub||t.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...t};return[bc(JSON.stringify(i)),bc(JSON.stringify(c)),""].join(".")}const Mo={};function Ej(){const t={prod:[],emulator:[]};for(const e of Object.keys(Mo))Mo[e]?t.emulator.push(e):t.prod.push(e);return t}function Aj(t){let e=document.getElementById(t),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),i=!0),{created:i,element:e}}let dS=!1;function Rj(t,e){if(typeof window>"u"||typeof document>"u"||!ug(window.location.host)||Mo[t]===e||Mo[t]||dS)return;Mo[t]=e;function i(v){return`__firebase__banner__${v}`}const r="__firebase__banner",u=Ej().prod.length>0;function c(){const v=document.getElementById(r);v&&v.remove()}function h(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function m(v,x){v.setAttribute("width","24"),v.setAttribute("id",x),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function d(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{dS=!0,c()},v}function g(v,x){v.setAttribute("id",x),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function y(){const v=Aj(r),x=i("text"),w=document.getElementById(x)||document.createElement("span"),C=i("learnmore"),E=document.getElementById(C)||document.createElement("a"),A=i("preprendIcon"),N=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const D=v.element;h(D),g(E,C);const L=d();m(N,A),D.append(N,w,E,L),document.body.appendChild(D)}u?(w.innerText="Preview backend disconnected.",N.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(N.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}function Nj(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Zw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nj())}function Mj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Dj(){return Yw.NODE_ADMIN===!0}function kj(){try{return typeof indexedDB=="object"}catch{return!1}}function Oj(){return new Promise((t,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const Lj="FirebaseError";class ll extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=Lj,Object.setPrototypeOf(this,ll.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jw.prototype.create)}}class Jw{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,u=this.errors[e],c=u?jj(u,r):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new ll(o,h,r)}}function jj(t,e){return t.replace(Pj,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const Pj=/\{\$([^}]+)}/g;function Go(t){return JSON.parse(t)}function Et(t){return JSON.stringify(t)}const eC=function(t){let e={},i={},r={},o="";try{const u=t.split(".");e=Go(ep(u[0])||""),i=Go(ep(u[1])||""),o=u[2],r=i.d||{},delete i.d}catch{}return{header:e,claims:i,data:r,signature:o}},Ij=function(t){const e=eC(t),i=e.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},Vj=function(t){const e=eC(t).claims;return typeof e=="object"&&e.admin===!0};function $n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Zr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function mS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function _c(t,e,i){const r={};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=e.call(i,t[o],o,t));return r}function xc(t,e){if(t===e)return!0;const i=Object.keys(t),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const u=t[o],c=e[o];if(pS(u)&&pS(c)){if(!xc(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function pS(t){return t!==null&&typeof t=="object"}function zj(t){const e=[];for(const[i,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class Bj{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,i){i||(i=0);const r=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)r[y]=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),i+=4;else for(let y=0;y<16;y++)r[y]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i+=4;for(let y=16;y<80;y++){const v=r[y-3]^r[y-8]^r[y-14]^r[y-16];r[y]=(v<<1|v>>>31)&4294967295}let o=this.chain_[0],u=this.chain_[1],c=this.chain_[2],h=this.chain_[3],m=this.chain_[4],d,g;for(let y=0;y<80;y++){y<40?y<20?(d=h^u&(c^h),g=1518500249):(d=u^c^h,g=1859775393):y<60?(d=u&c|h&(u|c),g=2400959708):(d=u^c^h,g=3395469782);const v=(o<<5|o>>>27)+d+m+g+r[y]&4294967295;m=h,h=c,c=(u<<30|u>>>2)&4294967295,u=o,o=v}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(e,i){if(e==null)return;i===void 0&&(i=e.length);const r=i-this.blockSize;let o=0;const u=this.buf_;let c=this.inbuf_;for(;o<i;){if(c===0)for(;o<=r;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<i;)if(u[c]=e.charCodeAt(o),++c,++o,c===this.blockSize){this.compress_(u),c=0;break}}else for(;o<i;)if(u[c]=e[o],++c,++o,c===this.blockSize){this.compress_(u),c=0;break}}this.inbuf_=c,this.total_+=i}digest(){const e=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let u=24;u>=0;u-=8)e[r]=this.chain_[o]>>u&255,++r;return e}}function Xc(t,e){return`${t} failed: ${e} argument `}const Uj=function(t){const e=[];let i=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);if(o>=55296&&o<=56319){const u=o-55296;r++,te(r<t.length,"Surrogate pair missing trail surrogate.");const c=t.charCodeAt(r)-56320;o=65536+(u<<10)+c}o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):o<65536?(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},Wc=function(t){let e=0;for(let i=0;i<t.length;i++){const r=t.charCodeAt(i);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,i++):e+=3}return e};function Ks(t){return t&&t._delegate?t._delegate:t}class qo{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ls="[DEFAULT]";class Hj{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new ol;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Gj(e))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=Ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ls){return this.instances.has(e)}getOptions(e=Ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(u);r===h&&c.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&e(u,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Fj(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ls){return this.component?this.component.multipleInstances?e:Ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Fj(t){return t===Ls?void 0:t}function Gj(t){return t.instantiationMode==="EAGER"}class qj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new Hj(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Je||(Je={}));const Yj={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},Qj=Je.INFO,Kj={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},Xj=(t,e,...i)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=Kj[e];if(o)console[o](`[${r}]  ${t.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tC{constructor(e){this.name=e,this._logLevel=Qj,this._logHandler=Xj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Yj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...e),this._logHandler(this,Je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...e),this._logHandler(this,Je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...e),this._logHandler(this,Je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...e),this._logHandler(this,Je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...e),this._logHandler(this,Je.ERROR,...e)}}const Wj=(t,e)=>e.some(i=>t instanceof i);let gS,yS;function $j(){return gS||(gS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Zj(){return yS||(yS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nC=new WeakMap,tp=new WeakMap,iC=new WeakMap,om=new WeakMap,cg=new WeakMap;function Jj(t){const e=new Promise((i,r)=>{const o=()=>{t.removeEventListener("success",u),t.removeEventListener("error",c)},u=()=>{i(ns(t.result)),o()},c=()=>{r(t.error),o()};t.addEventListener("success",u),t.addEventListener("error",c)});return e.then(i=>{i instanceof IDBCursor&&nC.set(i,t)}).catch(()=>{}),cg.set(e,t),e}function e6(t){if(tp.has(t))return;const e=new Promise((i,r)=>{const o=()=>{t.removeEventListener("complete",u),t.removeEventListener("error",c),t.removeEventListener("abort",c)},u=()=>{i(),o()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",u),t.addEventListener("error",c),t.addEventListener("abort",c)});tp.set(t,e)}let np={get(t,e,i){if(t instanceof IDBTransaction){if(e==="done")return tp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||iC.get(t);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ns(t[e])},set(t,e,i){return t[e]=i,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function t6(t){np=t(np)}function n6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=t.call(lm(this),e,...i);return iC.set(r,e.sort?e.sort():[e]),ns(r)}:Zj().includes(t)?function(...e){return t.apply(lm(this),e),ns(nC.get(this))}:function(...e){return ns(t.apply(lm(this),e))}}function i6(t){return typeof t=="function"?n6(t):(t instanceof IDBTransaction&&e6(t),Wj(t,$j())?new Proxy(t,np):t)}function ns(t){if(t instanceof IDBRequest)return Jj(t);if(om.has(t))return om.get(t);const e=i6(t);return e!==t&&(om.set(t,e),cg.set(e,t)),e}const lm=t=>cg.get(t);function s6(t,e,{blocked:i,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(t,e),h=ns(c);return r&&c.addEventListener("upgradeneeded",m=>{r(ns(c.result),m.oldVersion,m.newVersion,ns(c.transaction),m)}),i&&c.addEventListener("blocked",m=>i(m.oldVersion,m.newVersion,m)),h.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",d=>o(d.oldVersion,d.newVersion,d))}).catch(()=>{}),h}const r6=["get","getKey","getAll","getAllKeys","count"],a6=["put","add","delete","clear"],um=new Map;function vS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(um.get(e))return um.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=a6.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||r6.includes(i)))return;const u=async function(c,...h){const m=this.transaction(c,o?"readwrite":"readonly");let d=m.store;return r&&(d=d.index(h.shift())),(await Promise.all([d[i](...h),o&&m.done]))[0]};return um.set(e,u),u}t6(t=>({...t,get:(e,i,r)=>vS(e,i)||t.get(e,i,r),has:(e,i)=>!!vS(e,i)||t.has(e,i)}));class o6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(l6(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function l6(t){return t.getComponent()?.type==="VERSION"}const ip="@firebase/app",bS="0.14.8";const wi=new tC("@firebase/app"),u6="@firebase/app-compat",c6="@firebase/analytics-compat",f6="@firebase/analytics",h6="@firebase/app-check-compat",d6="@firebase/app-check",m6="@firebase/auth",p6="@firebase/auth-compat",g6="@firebase/database",y6="@firebase/data-connect",v6="@firebase/database-compat",b6="@firebase/functions",_6="@firebase/functions-compat",x6="@firebase/installations",S6="@firebase/installations-compat",T6="@firebase/messaging",w6="@firebase/messaging-compat",C6="@firebase/performance",E6="@firebase/performance-compat",A6="@firebase/remote-config",R6="@firebase/remote-config-compat",N6="@firebase/storage",M6="@firebase/storage-compat",D6="@firebase/firestore",k6="@firebase/ai",O6="@firebase/firestore-compat",L6="firebase",j6="12.9.0";const sp="[DEFAULT]",P6={[ip]:"fire-core",[u6]:"fire-core-compat",[f6]:"fire-analytics",[c6]:"fire-analytics-compat",[d6]:"fire-app-check",[h6]:"fire-app-check-compat",[m6]:"fire-auth",[p6]:"fire-auth-compat",[g6]:"fire-rtdb",[y6]:"fire-data-connect",[v6]:"fire-rtdb-compat",[b6]:"fire-fn",[_6]:"fire-fn-compat",[x6]:"fire-iid",[S6]:"fire-iid-compat",[T6]:"fire-fcm",[w6]:"fire-fcm-compat",[C6]:"fire-perf",[E6]:"fire-perf-compat",[A6]:"fire-rc",[R6]:"fire-rc-compat",[N6]:"fire-gcs",[M6]:"fire-gcs-compat",[D6]:"fire-fst",[O6]:"fire-fst-compat",[k6]:"fire-vertex","fire-js":"fire-js",[L6]:"fire-js-all"};const Sc=new Map,I6=new Map,rp=new Map;function _S(t,e){try{t.container.addComponent(e)}catch(i){wi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,i)}}function Tc(t){const e=t.name;if(rp.has(e))return wi.debug(`There were multiple attempts to register component ${e}.`),!1;rp.set(e,t);for(const i of Sc.values())_S(i,t);for(const i of I6.values())_S(i,t);return!0}function V6(t,e){const i=t.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),t.container.getProvider(e)}function z6(t){return t==null?!1:t.settings!==void 0}const B6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},is=new Jw("app","Firebase",B6);class U6{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw is.create("app-deleted",{appName:this._name})}}const H6=j6;function sC(t,e={}){let i=t;typeof e!="object"&&(e={name:e});const r={name:sp,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw is.create("bad-app-name",{appName:String(o)});if(i||(i=$w()),!i)throw is.create("no-options");const u=Sc.get(o);if(u){if(xc(i,u.options)&&xc(r,u.config))return u;throw is.create("duplicate-app",{appName:o})}const c=new qj(o);for(const m of rp.values())c.addComponent(m);const h=new U6(i,r,c);return Sc.set(o,h),h}function F6(t=sp){const e=Sc.get(t);if(!e&&t===sp&&$w())return sC();if(!e)throw is.create("no-app",{appName:t});return e}function Xr(t,e,i){let r=P6[t]??t;i&&(r+=`-${i}`);const o=r.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${e}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wi.warn(c.join(" "));return}Tc(new qo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const G6="firebase-heartbeat-database",q6=1,Yo="firebase-heartbeat-store";let cm=null;function rC(){return cm||(cm=s6(G6,q6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Yo)}catch(i){console.warn(i)}}}}).catch(t=>{throw is.create("idb-open",{originalErrorMessage:t.message})})),cm}async function Y6(t){try{const i=(await rC()).transaction(Yo),r=await i.objectStore(Yo).get(aC(t));return await i.done,r}catch(e){if(e instanceof ll)wi.warn(e.message);else{const i=is.create("idb-get",{originalErrorMessage:e?.message});wi.warn(i.message)}}}async function xS(t,e){try{const r=(await rC()).transaction(Yo,"readwrite");await r.objectStore(Yo).put(e,aC(t)),await r.done}catch(i){if(i instanceof ll)wi.warn(i.message);else{const r=is.create("idb-set",{originalErrorMessage:i?.message});wi.warn(r.message)}}}function aC(t){return`${t.name}!${t.options.appId}`}const Q6=1024,K6=30;class X6{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new $6(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=SS();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>K6){const o=Z6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){wi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=SS(),{heartbeatsToSend:i,unsentEntries:r}=W6(this._heartbeatsCache.heartbeats),o=bc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return wi.warn(e),""}}}function SS(){return new Date().toISOString().substring(0,10)}function W6(t,e=Q6){const i=[];let r=t.slice();for(const o of t){const u=i.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),TS(i)>e){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),TS(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class $6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kj()?Oj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Y6(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return xS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return xS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function TS(t){return bc(JSON.stringify({version:2,heartbeats:t})).length}function Z6(t){if(t.length===0)return-1;let e=0,i=t[0].date;for(let r=1;r<t.length;r++)t[r].date<i&&(i=t[r].date,e=r);return e}function J6(t){Tc(new qo("platform-logger",e=>new o6(e),"PRIVATE")),Tc(new qo("heartbeat",e=>new X6(e),"PRIVATE")),Xr(ip,bS,t),Xr(ip,bS,"esm2020"),Xr("fire-js","")}J6("");var wS={};const CS="@firebase/database",ES="1.1.0";let oC="";function lC(t){oC=t}class eP{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,i){i==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Et(i))}get(e){const i=this.domStorage_.getItem(this.prefixedName_(e));return i==null?null:Go(i)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class tP{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,i){i==null?delete this.cache_[e]:this.cache_[e]=i}get(e){return $n(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const uC=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new eP(e)}}catch{}return new tP},Vs=uC("localStorage"),nP=uC("sessionStorage");const Wr=new tC("@firebase/database"),iP=(function(){let t=1;return function(){return t++}})(),cC=function(t){const e=Uj(t),i=new Bj;i.update(e);const r=i.digest();return lg.encodeByteArray(r)},ul=function(...t){let e="";for(let i=0;i<t.length;i++){const r=t[i];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=ul.apply(null,r):typeof r=="object"?e+=Et(r):e+=r,e+=" "}return e};let Do=null,AS=!0;const sP=function(t,e){te(!0,"Can't turn on custom loggers persistently."),Wr.logLevel=Je.VERBOSE,Do=Wr.log.bind(Wr)},zt=function(...t){if(AS===!0&&(AS=!1,Do===null&&nP.get("logging_enabled")===!0&&sP()),Do){const e=ul.apply(null,t);Do(e)}},cl=function(t){return function(...e){zt(t,...e)}},ap=function(...t){const e="FIREBASE INTERNAL ERROR: "+ul(...t);Wr.error(e)},Ci=function(...t){const e=`FIREBASE FATAL ERROR: ${ul(...t)}`;throw Wr.error(e),new Error(e)},Qt=function(...t){const e="FIREBASE WARNING: "+ul(...t);Wr.warn(e)},rP=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Qt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},fg=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},aP=function(t){if(document.readyState==="complete")t();else{let e=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},Jr="[MIN_NAME]",Hs="[MAX_NAME]",Xs=function(t,e){if(t===e)return 0;if(t===Jr||e===Hs)return-1;if(e===Jr||t===Hs)return 1;{const i=RS(t),r=RS(e);return i!==null?r!==null?i-r===0?t.length-e.length:i-r:-1:r!==null?1:t<e?-1:1}},oP=function(t,e){return t===e?0:t<e?-1:1},go=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Et(e))},hg=function(t){if(typeof t!="object"||t===null)return Et(t);const e=[];for(const r in t)e.push(r);e.sort();let i="{";for(let r=0;r<e.length;r++)r!==0&&(i+=","),i+=Et(e[r]),i+=":",i+=hg(t[e[r]]);return i+="}",i},fC=function(t,e){const i=t.length;if(i<=e)return[t];const r=[];for(let o=0;o<i;o+=e)o+e>i?r.push(t.substring(o,i)):r.push(t.substring(o,o+e));return r};function Ut(t,e){for(const i in t)t.hasOwnProperty(i)&&e(i,t[i])}const hC=function(t){te(!fg(t),"Invalid JSON number");const e=11,i=52,r=(1<<e-1)-1;let o,u,c,h,m;t===0?(u=0,c=0,o=1/t===-1/0?1:0):(o=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(t)/Math.LN2),r),u=h+r,c=Math.round(t*Math.pow(2,i-h)-Math.pow(2,i))):(u=0,c=Math.round(t/Math.pow(2,1-r-i))));const d=[];for(m=i;m;m-=1)d.push(c%2?1:0),c=Math.floor(c/2);for(m=e;m;m-=1)d.push(u%2?1:0),u=Math.floor(u/2);d.push(o?1:0),d.reverse();const g=d.join("");let y="";for(m=0;m<64;m+=8){let v=parseInt(g.substr(m,8),2).toString(16);v.length===1&&(v="0"+v),y=y+v}return y.toLowerCase()},lP=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},uP=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function cP(t,e){let i="Unknown Error";t==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?i="Client doesn't have permission to access the desired data.":t==="unavailable"&&(i="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+i);return r.code=t.toUpperCase(),r}const fP=new RegExp("^-?(0*)\\d{1,10}$"),hP=-2147483648,dP=2147483647,RS=function(t){if(fP.test(t)){const e=Number(t);if(e>=hP&&e<=dP)return e}return null},ha=function(t){try{t()}catch(e){setTimeout(()=>{const i=e.stack||"";throw Qt("Exception was thrown by user callback.",i),e},Math.floor(0))}},mP=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ko=function(t,e){const i=setTimeout(t,e);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};class pP{constructor(e,i){this.appCheckProvider=i,this.appName=e.name,z6(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((i,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(i,r):i(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Qt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class gP{constructor(e,i,r){this.appName_=e,this.firebaseOptions_=i,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(i=>i&&i.code==="auth/token-not-initialized"?(zt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(i,r):i(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(i=>i.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(i=>i.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Qt(e)}}class lc{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}lc.OWNER="owner";const dg="5",dC="v",mC="s",pC="r",gC="f",yC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,vC="ls",bC="p",op="ac",_C="websocket",xC="long_polling";class SC{constructor(e,i,r,o,u=!1,c="",h=!1,m=!1,d=null){this.secure=i,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=m,this.emulatorOptions=d,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Vs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Vs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${i}`}}function yP(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function TC(t,e,i){te(typeof e=="string","typeof type must == string"),te(typeof i=="object","typeof params must == object");let r;if(e===_C)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===xC)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);yP(t)&&(i.ns=t.namespace);const o=[];return Ut(i,(u,c)=>{o.push(u+"="+c)}),r+o.join("&")}class vP{constructor(){this.counters_={}}incrementCounter(e,i=1){$n(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=i}get(){return gj(this.counters_)}}const fm={},hm={};function mg(t){const e=t.toString();return fm[e]||(fm[e]=new vP),fm[e]}function bP(t,e){const i=t.toString();return hm[i]||(hm[i]=e()),hm[i]}class _P{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,i){this.closeAfterResponse=e,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,i){for(this.pendingResponses[e]=i;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&ha(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const NS="start",xP="close",SP="pLPCommand",TP="pRTLPCB",wC="id",CC="pw",EC="ser",wP="cb",CP="seg",EP="ts",AP="d",RP="dframe",AC=1870,RC=30,NP=AC-RC,MP=25e3,DP=3e4;class Yr{constructor(e,i,r,o,u,c,h){this.connId=e,this.repoInfo=i,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=cl(e),this.stats_=mg(i),this.urlFn=m=>(this.appCheckToken&&(m[op]=this.appCheckToken),TC(i,xC,m))}open(e,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new _P(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(DP)),aP(()=>{if(this.isClosed_)return;this.scriptTagHolder=new pg((...u)=>{const[c,h,m,d,g]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===NS)this.id=h,this.password=m;else if(c===xP)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...u)=>{const[c,h]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const r={};r[NS]="t",r[EC]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[wP]=this.scriptTagHolder.uniqueCallbackIdentifier),r[dC]=dg,this.transportSessionId&&(r[mC]=this.transportSessionId),this.lastSessionId&&(r[vC]=this.lastSessionId),this.applicationId&&(r[bC]=this.applicationId),this.appCheckToken&&(r[op]=this.appCheckToken),typeof location<"u"&&location.hostname&&yC.test(location.hostname)&&(r[pC]=gC);const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Yr.forceAllow_=!0}static forceDisallow(){Yr.forceDisallow_=!0}static isAvailable(){return Yr.forceAllow_?!0:!Yr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!lP()&&!uP()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const i=Et(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=Kw(i),o=fC(r,NP);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(e,i){this.myDisconnFrame=document.createElement("iframe");const r={};r[RP]="t",r[wC]=e,r[CC]=i,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const i=Et(e).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class pg{constructor(e,i,r,o){this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=iP(),window[SP+this.uniqueCallbackIdentifier]=e,window[TP+this.uniqueCallbackIdentifier]=i,this.myIFrame=pg.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){zt("frame writing exception"),h.stack&&zt(h.stack),zt(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||zt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,i){for(this.myID=e,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[wC]=this.myID,e[CC]=this.myPW,e[EC]=this.currentSerial;let i=this.urlFn(e),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+RC+r.length<=AC;){const c=this.pendingSegs.shift();r=r+"&"+CP+o+"="+c.seg+"&"+EP+o+"="+c.ts+"&"+AP+o+"="+c.d,o++}return i=i+r,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(e,i,r){this.pendingSegs.push({seg:e,ts:i,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,i){this.outstandingRequests.add(i);const r=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(r,Math.floor(MP)),u=()=>{clearTimeout(o),r()};this.addTag(e,u)}addTag(e,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),i())},r.onerror=()=>{zt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}const kP=16384,OP=45e3;let wc=null;typeof MozWebSocket<"u"?wc=MozWebSocket:typeof WebSocket<"u"&&(wc=WebSocket);class jn{constructor(e,i,r,o,u,c,h){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=cl(this.connId),this.stats_=mg(i),this.connURL=jn.connectionURL_(i,c,h,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,o,u){const c={};return c[dC]=dg,typeof location<"u"&&location.hostname&&yC.test(location.hostname)&&(c[pC]=gC),i&&(c[mC]=i),r&&(c[vC]=r),o&&(c[op]=o),u&&(c[bC]=u),TC(e,_C,c)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Vs.set("previous_websocket_failure",!0);try{let r;Dj(),this.mySock=new wc(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){jn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&wc!==null&&!jn.forceDisallow_}static previouslyFailed(){return Vs.isInMemoryStorage||Vs.get("previous_websocket_failure")===!0}markConnectionHealthy(){Vs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=Go(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(te(this.frames===null,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=Et(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=fC(i,kP);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(OP))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}jn.responsesRequiredToBeHealthy=2;jn.healthyTimeout=3e4;class Qo{static get ALL_TRANSPORTS(){return[Yr,jn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const i=jn&&jn.isAvailable();let r=i&&!jn.previouslyFailed();if(e.webSocketOnly&&(i||Qt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[jn];else{const o=this.transports_=[];for(const u of Qo.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);Qo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Qo.globalTransportInitialized_=!1;const LP=6e4,jP=5e3,PP=10*1024,IP=100*1024,dm="t",MS="d",VP="s",DS="r",zP="e",kS="o",OS="a",LS="n",jS="p",BP="h";class UP{constructor(e,i,r,o,u,c,h,m,d,g){this.id=e,this.repoInfo_=i,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=m,this.onKill_=d,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=cl("c:"+this.id+":"),this.transportManager_=new Qo(i),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,r)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=ko(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>IP?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>PP?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return i=>{e===this.conn_?this.onConnectionLost_(i):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return i=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(i):e===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(e){const i={t:"d",d:e};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(dm in e){const i=e[dm];i===OS?this.upgradeIfSecondaryHealthy_():i===DS?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===kS&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const i=go("t",e),r=go("d",e);if(i==="c")this.onSecondaryControl_(r);else if(i==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:jS,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:OS,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:LS,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const i=go("t",e),r=go("d",e);i==="c"?this.onControl_(r):i==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const i=go(dm,e);if(MS in e){const r=e[MS];if(i===BP){const o={...r};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===LS){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===VP?this.onConnectionShutdown_(r):i===DS?this.onReset_(r):i===zP?ap("Server Error: "+r):i===kS?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ap("Unknown control packet command: "+i)}}onHandshake_(e){const i=e.ts,r=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),dg!==r&&Qt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,r),ko(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(LP))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,i){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ko(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(jP))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:jS,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Vs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class NC{put(e,i,r,o){}merge(e,i,r,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,i,r){}onDisconnectMerge(e,i,r){}onDisconnectCancel(e,i){}reportStats(e){}}class MC{constructor(e){this.allowedEvents_=e,this.listeners_={},te(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...i){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,i)}}on(e,i,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:i,context:r});const o=this.getInitialEvent(e);o&&i.apply(r,o)}off(e,i,r){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let u=0;u<o.length;u++)if(o[u].callback===i&&(!r||r===o[u].context)){o.splice(u,1);return}}validateEventType_(e){te(this.allowedEvents_.find(i=>i===e),"Unknown event: "+e)}}class Cc extends MC{static getInstance(){return new Cc}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Zw()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return te(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const PS=32,IS=768;class Ke{constructor(e,i){if(i===void 0){this.pieces_=e.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=i}toString(){let e="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(e+="/"+this.pieces_[i]);return e||"/"}}function Ue(){return new Ke("")}function Re(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function os(t){return t.pieces_.length-t.pieceNum_}function et(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ke(t.pieces_,e)}function gg(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function HP(t){let e="";for(let i=t.pieceNum_;i<t.pieces_.length;i++)t.pieces_[i]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[i])));return e||"/"}function Ko(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function DC(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let i=t.pieceNum_;i<t.pieces_.length-1;i++)e.push(t.pieces_[i]);return new Ke(e,0)}function ht(t,e){const i=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)i.push(t.pieces_[r]);if(e instanceof Ke)for(let r=e.pieceNum_;r<e.pieces_.length;r++)i.push(e.pieces_[r]);else{const r=e.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&i.push(r[o])}return new Ke(i,0)}function Oe(t){return t.pieceNum_>=t.pieces_.length}function Yt(t,e){const i=Re(t),r=Re(e);if(i===null)return e;if(i===r)return Yt(et(t),et(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function FP(t,e){const i=Ko(t,0),r=Ko(e,0);for(let o=0;o<i.length&&o<r.length;o++){const u=Xs(i[o],r[o]);if(u!==0)return u}return i.length===r.length?0:i.length<r.length?-1:1}function yg(t,e){if(os(t)!==os(e))return!1;for(let i=t.pieceNum_,r=e.pieceNum_;i<=t.pieces_.length;i++,r++)if(t.pieces_[i]!==e.pieces_[r])return!1;return!0}function En(t,e){let i=t.pieceNum_,r=e.pieceNum_;if(os(t)>os(e))return!1;for(;i<t.pieces_.length;){if(t.pieces_[i]!==e.pieces_[r])return!1;++i,++r}return!0}class GP{constructor(e,i){this.errorPrefix_=i,this.parts_=Ko(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Wc(this.parts_[r]);kC(this)}}function qP(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Wc(e),kC(t)}function YP(t){const e=t.parts_.pop();t.byteLength_-=Wc(e),t.parts_.length>0&&(t.byteLength_-=1)}function kC(t){if(t.byteLength_>IS)throw new Error(t.errorPrefix_+"has a key path longer than "+IS+" bytes ("+t.byteLength_+").");if(t.parts_.length>PS)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+PS+") or object contains a cycle "+js(t))}function js(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}class vg extends MC{static getInstance(){return new vg}constructor(){super(["visible"]);let e,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return te(e==="visible","Unknown event type: "+e),[this.visible_]}}const yo=1e3,QP=300*1e3,VS=30*1e3,KP=1.3,XP=3e4,WP="server_kill",zS=3;class _i extends NC{constructor(e,i,r,o,u,c,h,m){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=c,this.appCheckTokenProvider_=h,this.authOverride_=m,this.id=_i.nextPersistentConnectionId_++,this.log_=cl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=yo,this.maxReconnectDelay_=QP,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");vg.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Cc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const o=++this.requestNumber_,u={r:o,a:e,b:i};this.log_(Et(u)),te(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const i=new ol,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const h=c.d;c.s==="ok"?i.resolve(h):i.reject(h)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),i.promise}listen(e,i,r,o){this.initConnection_();const u=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+u),this.listens.has(c)||this.listens.set(c,new Map),te(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),te(!this.listens.get(c).has(u),"listen() called twice for same path/queryId.");const h={onComplete:o,hashFn:i,query:e,tag:r};this.listens.get(c).set(u,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const u={p:r},c="q";e.tag&&(u.q=i._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(c,u,h=>{const m=h.d,d=h.s;_i.warnOnListenWarnings_(m,i),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",h),d!=="ok"&&this.removeListen_(r,o),e.onComplete&&e.onComplete(d,m))})}static warnOnListenWarnings_(e,i){if(e&&typeof e=="object"&&$n(e,"w")){const r=Zr(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();Qt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Vj(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=VS)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=Ij(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const u=o.s,c=o.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),te(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,i)}sendUnlisten_(e,i,r,o){this.log_("Unlisten on "+e+" for "+i);const u={p:e},c="n";o&&(u.q=r,u.t=o),this.sendRequest(c,u)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,o){const u={p:i,d:r};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,c=>{o&&setTimeout(()=>{o(c.s,c.d)},Math.floor(0))})}put(e,i,r,o){this.putInternal("p",e,i,r,o)}merge(e,i,r,o){this.putInternal("m",e,i,r,o)}putInternal(e,i,r,o,u){this.initConnection_();const c={p:i,d:r};u!==void 0&&(c.h=u),this.outstandingPuts_.push({action:e,request:c,onComplete:o}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){const u=r.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Et(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),e==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):e==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):e==="c"?this.onListenRevoked_(i.p,i.q):e==="ac"?this.onAuthRevoked_(i.s,i.d):e==="apc"?this.onAppCheckRevoked_(i.s,i.d):e==="sd"?this.onSecurityDebugPacket_(i):ap("Unrecognized action received from server: "+Et(e)+`
Are you using the latest client?`)}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){te(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=yo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=yo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>XP&&(this.reconnectDelay_=yo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*KP)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+_i.nextConnectionId_++,u=this.lastSessionId;let c=!1,h=null;const m=function(){h?h.close():(c=!0,r())},d=function(y){te(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(y)};this.realtime_={close:m,sendRequest:d};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,v]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);c?zt("getToken() completed but was canceled"):(zt("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=v&&v.token,h=new UP(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,i,r,x=>{Qt(x+" ("+this.repoInfo_.toString()+")"),this.interrupt(WP)},u))}catch(y){this.log_("Failed to get token: "+y),c||(this.repoInfo_.nodeAdmin&&Qt(y),m())}}}interrupt(e){zt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){zt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],mS(this.interruptReasons_)&&(this.reconnectDelay_=yo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;i?r=i.map(u=>hg(u)).join("$"):r="default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const r=new Ke(e).toString();let o;if(this.listens.has(r)){const u=this.listens.get(r);o=u.get(i),u.delete(i),u.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,i){zt("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=zS&&(this.reconnectDelay_=VS,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){zt("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=zS&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";e["sdk."+i+"."+oC.replace(/\./g,"-")]=1,Zw()?e["framework.cordova"]=1:Mj()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Cc.getInstance().currentlyOnline();return mS(this.interruptReasons_)&&e}}_i.nextPersistentConnectionId_=0;_i.nextConnectionId_=0;class Ne{constructor(e,i){this.name=e,this.node=i}static Wrap(e,i){return new Ne(e,i)}}class $c{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,i){const r=new Ne(Jr,e),o=new Ne(Jr,i);return this.compare(r,o)!==0}minPost(){return Ne.MIN}}let Xu;class OC extends $c{static get __EMPTY_NODE(){return Xu}static set __EMPTY_NODE(e){Xu=e}compare(e,i){return Xs(e.name,i.name)}isDefinedOn(e){throw fa("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,i){return!1}minPost(){return Ne.MIN}maxPost(){return new Ne(Hs,Xu)}makePost(e,i){return te(typeof e=="string","KeyIndex indexValue must always be a string."),new Ne(e,Xu)}toString(){return".key"}}const $r=new OC;class Wu{constructor(e,i,r,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=i?r(e.key,i):1,o&&(c*=-1),c<0)this.isReverse_?e=e.left:e=e.right;else if(c===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(e.key,e.value):i={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Dt{constructor(e,i,r,o,u){this.key=e,this.value=i,this.color=r??Dt.RED,this.left=o??tn.EMPTY_NODE,this.right=u??tn.EMPTY_NODE}copy(e,i,r,o,u){return new Dt(e??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const u=r(e,o.key);return u<0?o=o.copy(null,null,null,o.left.insert(e,i,r),null):u===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return tn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,o;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(e,r.key)===0){if(r.right.isEmpty())return tn.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Dt.RED=!0;Dt.BLACK=!1;class $P{copy(e,i,r,o,u){return this}insert(e,i,r){return new Dt(e,i,null)}remove(e,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class tn{constructor(e,i=tn.EMPTY_NODE){this.comparator_=e,this.root_=i}insert(e,i){return new tn(this.comparator_,this.root_.insert(e,i,this.comparator_).copy(null,null,Dt.BLACK,null,null))}remove(e){return new tn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Dt.BLACK,null,null))}get(e){let i,r=this.root_;for(;!r.isEmpty();){if(i=this.comparator_(e,r.key),i===0)return r.value;i<0?r=r.left:i>0&&(r=r.right)}return null}getPredecessorKey(e){let i,r=this.root_,o=null;for(;!r.isEmpty();)if(i=this.comparator_(e,r.key),i===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else i<0?r=r.left:i>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Wu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,i){return new Wu(this.root_,e,this.comparator_,!1,i)}getReverseIteratorFrom(e,i){return new Wu(this.root_,e,this.comparator_,!0,i)}getReverseIterator(e){return new Wu(this.root_,null,this.comparator_,!0,e)}}tn.EMPTY_NODE=new $P;function ZP(t,e){return Xs(t.name,e.name)}function bg(t,e){return Xs(t,e)}let lp;function JP(t){lp=t}const LC=function(t){return typeof t=="number"?"number:"+hC(t):"string:"+t},jC=function(t){if(t.isLeafNode()){const e=t.val();te(typeof e=="string"||typeof e=="number"||typeof e=="object"&&$n(e,".sv"),"Priority must be a string or number.")}else te(t===lp||t.isEmpty(),"priority of unexpected type.");te(t===lp||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let BS;class Mt{static set __childrenNodeConstructor(e){BS=e}static get __childrenNodeConstructor(){return BS}constructor(e,i=Mt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,te(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),jC(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Mt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Mt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Oe(e)?this:Re(e)===".priority"?this.priorityNode_:Mt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return e===".priority"?this.updatePriority(i):i.isEmpty()&&e!==".priority"?this:Mt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=Re(e);return r===null?i:i.isEmpty()&&r!==".priority"?this:(te(r!==".priority"||os(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Mt.__childrenNodeConstructor.EMPTY_NODE.updateChild(et(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+LC(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",i==="number"?e+=hC(this.value_):e+=this.value_,this.lazyHash_=cC(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Mt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Mt.__childrenNodeConstructor?-1:(te(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,o=Mt.VALUE_TYPE_ORDER.indexOf(i),u=Mt.VALUE_TYPE_ORDER.indexOf(r);return te(o>=0,"Unknown leaf type: "+i),te(u>=0,"Unknown leaf type: "+r),o===u?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}Mt.VALUE_TYPE_ORDER=["object","boolean","number","string"];let PC,IC;function eI(t){PC=t}function tI(t){IC=t}class nI extends $c{compare(e,i){const r=e.node.getPriority(),o=i.node.getPriority(),u=r.compareTo(o);return u===0?Xs(e.name,i.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,i){return!e.getPriority().equals(i.getPriority())}minPost(){return Ne.MIN}maxPost(){return new Ne(Hs,new Mt("[PRIORITY-POST]",IC))}makePost(e,i){const r=PC(e);return new Ne(i,new Mt("[PRIORITY-POST]",r))}toString(){return".priority"}}const dt=new nI;const iI=Math.log(2);class sI{constructor(e){const i=u=>parseInt(Math.log(u)/iI,10),r=u=>parseInt(Array(u+1).join("1"),2);this.count=i(e+1),this.current_=this.count-1;const o=r(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ec=function(t,e,i,r){t.sort(e);const o=function(m,d){const g=d-m;let y,v;if(g===0)return null;if(g===1)return y=t[m],v=i?i(y):y,new Dt(v,y.node,Dt.BLACK,null,null);{const x=parseInt(g/2,10)+m,w=o(m,x),C=o(x+1,d);return y=t[x],v=i?i(y):y,new Dt(v,y.node,Dt.BLACK,w,C)}},u=function(m){let d=null,g=null,y=t.length;const v=function(w,C){const E=y-w,A=y;y-=w;const N=o(E+1,A),D=t[E],L=i?i(D):D;x(new Dt(L,D.node,C,null,N))},x=function(w){d?(d.left=w,d=w):(g=w,d=w)};for(let w=0;w<m.count;++w){const C=m.nextBitIsOne(),E=Math.pow(2,m.count-(w+1));C?v(E,Dt.BLACK):(v(E,Dt.BLACK),v(E,Dt.RED))}return g},c=new sI(t.length),h=u(c);return new tn(r||e,h)};let mm;const Ir={};class vi{static get Default(){return te(Ir&&dt,"ChildrenNode.ts has not been loaded"),mm=mm||new vi({".priority":Ir},{".priority":dt}),mm}constructor(e,i){this.indexes_=e,this.indexSet_=i}get(e){const i=Zr(this.indexes_,e);if(!i)throw new Error("No index defined for "+e);return i instanceof tn?i:null}hasIndex(e){return $n(this.indexSet_,e.toString())}addIndex(e,i){te(e!==$r,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const u=i.getIterator(Ne.Wrap);let c=u.getNext();for(;c;)o=o||e.isDefinedOn(c.node),r.push(c),c=u.getNext();let h;o?h=Ec(r,e.getCompare()):h=Ir;const m=e.toString(),d={...this.indexSet_};d[m]=e;const g={...this.indexes_};return g[m]=h,new vi(g,d)}addToIndexes(e,i){const r=_c(this.indexes_,(o,u)=>{const c=Zr(this.indexSet_,u);if(te(c,"Missing index implementation for "+u),o===Ir)if(c.isDefinedOn(e.node)){const h=[],m=i.getIterator(Ne.Wrap);let d=m.getNext();for(;d;)d.name!==e.name&&h.push(d),d=m.getNext();return h.push(e),Ec(h,c.getCompare())}else return Ir;else{const h=i.get(e.name);let m=o;return h&&(m=m.remove(new Ne(e.name,h))),m.insert(e,e.node)}});return new vi(r,this.indexSet_)}removeFromIndexes(e,i){const r=_c(this.indexes_,o=>{if(o===Ir)return o;{const u=i.get(e.name);return u?o.remove(new Ne(e.name,u)):o}});return new vi(r,this.indexSet_)}}let vo;class xe{static get EMPTY_NODE(){return vo||(vo=new xe(new tn(bg),null,vi.Default))}constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&jC(this.priorityNode_),this.children_.isEmpty()&&te(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||vo}updatePriority(e){return this.children_.isEmpty()?this:new xe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const i=this.children_.get(e);return i===null?vo:i}}getChild(e){const i=Re(e);return i===null?this:this.getImmediateChild(i).getChild(et(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,i){if(te(i,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(i);{const r=new Ne(e,i);let o,u;i.isEmpty()?(o=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,i),u=this.indexMap_.addToIndexes(r,this.children_));const c=o.isEmpty()?vo:this.priorityNode_;return new xe(o,c,u)}}updateChild(e,i){const r=Re(e);if(r===null)return i;{te(Re(e)!==".priority"||os(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(et(e),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,o=0,u=!0;if(this.forEachChild(dt,(c,h)=>{i[c]=h.val(e),r++,u&&xe.INTEGER_REGEXP_.test(c)?o=Math.max(o,Number(c)):u=!1}),!e&&u&&o<2*r){const c=[];for(const h in i)c[h]=i[h];return c}else return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+LC(this.getPriority().val())+":"),this.forEachChild(dt,(i,r)=>{const o=r.hash();o!==""&&(e+=":"+i+":"+o)}),this.lazyHash_=e===""?"":cC(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const o=this.resolveIndex_(r);if(o){const u=o.getPredecessorKey(new Ne(e,i));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new Ne(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new Ne(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,Ne.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,e)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,Ne.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,e)>0;)o.getNext(),u=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===fl?-1:0}withIndex(e){if(e===$r||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new xe(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===$r||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const r=this.getIterator(dt),o=i.getIterator(dt);let u=r.getNext(),c=o.getNext();for(;u&&c;){if(u.name!==c.name||!u.node.equals(c.node))return!1;u=r.getNext(),c=o.getNext()}return u===null&&c===null}else return!1;else return!1}}resolveIndex_(e){return e===$r?null:this.indexMap_.get(e.toString())}}xe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class rI extends xe{constructor(){super(new tn(bg),xe.EMPTY_NODE,vi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return xe.EMPTY_NODE}isEmpty(){return!1}}const fl=new rI;Object.defineProperties(Ne,{MIN:{value:new Ne(Jr,xe.EMPTY_NODE)},MAX:{value:new Ne(Hs,fl)}});OC.__EMPTY_NODE=xe.EMPTY_NODE;Mt.__childrenNodeConstructor=xe;JP(fl);tI(fl);const aI=!0;function Ct(t,e=null){if(t===null)return xe.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),te(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const i=t;return new Mt(i,Ct(e))}if(!(t instanceof Array)&&aI){const i=[];let r=!1;if(Ut(t,(c,h)=>{if(c.substring(0,1)!=="."){const m=Ct(h);m.isEmpty()||(r=r||!m.getPriority().isEmpty(),i.push(new Ne(c,m)))}}),i.length===0)return xe.EMPTY_NODE;const u=Ec(i,ZP,c=>c.name,bg);if(r){const c=Ec(i,dt.getCompare());return new xe(u,Ct(e),new vi({".priority":c},{".priority":dt}))}else return new xe(u,Ct(e),vi.Default)}else{let i=xe.EMPTY_NODE;return Ut(t,(r,o)=>{if($n(t,r)&&r.substring(0,1)!=="."){const u=Ct(o);(u.isLeafNode()||!u.isEmpty())&&(i=i.updateImmediateChild(r,u))}}),i.updatePriority(Ct(e))}}eI(Ct);class oI extends $c{constructor(e){super(),this.indexPath_=e,te(!Oe(e)&&Re(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,i){const r=this.extractChild(e.node),o=this.extractChild(i.node),u=r.compareTo(o);return u===0?Xs(e.name,i.name):u}makePost(e,i){const r=Ct(e),o=xe.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ne(i,o)}maxPost(){const e=xe.EMPTY_NODE.updateChild(this.indexPath_,fl);return new Ne(Hs,e)}toString(){return Ko(this.indexPath_,0).join("/")}}class lI extends $c{compare(e,i){const r=e.node.compareTo(i.node);return r===0?Xs(e.name,i.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,i){return!e.equals(i)}minPost(){return Ne.MIN}maxPost(){return Ne.MAX}makePost(e,i){const r=Ct(e);return new Ne(i,r)}toString(){return".value"}}const uI=new lI;function VC(t){return{type:"value",snapshotNode:t}}function ea(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Xo(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Wo(t,e,i){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:i}}function cI(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}class _g{constructor(e){this.index_=e}updateChild(e,i,r,o,u,c){te(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(i);return h.getChild(o).equals(r.getChild(o))&&h.isEmpty()===r.isEmpty()||(c!=null&&(r.isEmpty()?e.hasChild(i)?c.trackChildChange(Xo(i,h)):te(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(ea(i,r)):c.trackChildChange(Wo(i,r,h))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(i,r).withIndex(this.index_)}updateFullNode(e,i,r){return r!=null&&(e.isLeafNode()||e.forEachChild(dt,(o,u)=>{i.hasChild(o)||r.trackChildChange(Xo(o,u))}),i.isLeafNode()||i.forEachChild(dt,(o,u)=>{if(e.hasChild(o)){const c=e.getImmediateChild(o);c.equals(u)||r.trackChildChange(Wo(o,u,c))}else r.trackChildChange(ea(o,u))})),i.withIndex(this.index_)}updatePriority(e,i){return e.isEmpty()?xe.EMPTY_NODE:e.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class $o{constructor(e){this.indexedFilter_=new _g(e.getIndex()),this.index_=e.getIndex(),this.startPost_=$o.getStartPost_(e),this.endPost_=$o.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return i&&r}updateChild(e,i,r,o,u,c){return this.matches(new Ne(i,r))||(r=xe.EMPTY_NODE),this.indexedFilter_.updateChild(e,i,r,o,u,c)}updateFullNode(e,i,r){i.isLeafNode()&&(i=xe.EMPTY_NODE);let o=i.withIndex(this.index_);o=o.updatePriority(xe.EMPTY_NODE);const u=this;return i.forEachChild(dt,(c,h)=>{u.matches(new Ne(c,h))||(o=o.updateImmediateChild(c,xe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,r)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const i=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),i)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const i=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),i)}else return e.getIndex().maxPost()}}class fI{constructor(e){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=i=>{const r=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new $o(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,i,r,o,u,c){return this.rangedFilter_.matches(new Ne(i,r))||(r=xe.EMPTY_NODE),e.getImmediateChild(i).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,i,r,o,u,c):this.fullLimitUpdateChild_(e,i,r,u,c)}updateFullNode(e,i,r){let o;if(i.isLeafNode()||i.isEmpty())o=xe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){o=xe.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;u.hasNext()&&c<this.limit_;){const h=u.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))o=o.updateImmediateChild(h.name,h.node),c++;else break;else continue}}else{o=i.withIndex(this.index_),o=o.updatePriority(xe.EMPTY_NODE);let u;this.reverse_?u=o.getReverseIterator(this.index_):u=o.getIterator(this.index_);let c=0;for(;u.hasNext();){const h=u.getNext();c<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?c++:o=o.updateImmediateChild(h.name,xe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,r)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,i,r,o,u){let c;if(this.reverse_){const y=this.index_.getCompare();c=(v,x)=>y(x,v)}else c=this.index_.getCompare();const h=e;te(h.numChildren()===this.limit_,"");const m=new Ne(i,r),d=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),g=this.rangedFilter_.matches(m);if(h.hasChild(i)){const y=h.getImmediateChild(i);let v=o.getChildAfterChild(this.index_,d,this.reverse_);for(;v!=null&&(v.name===i||h.hasChild(v.name));)v=o.getChildAfterChild(this.index_,v,this.reverse_);const x=v==null?1:c(v,m);if(g&&!r.isEmpty()&&x>=0)return u?.trackChildChange(Wo(i,r,y)),h.updateImmediateChild(i,r);{u?.trackChildChange(Xo(i,y));const C=h.updateImmediateChild(i,xe.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(u?.trackChildChange(ea(v.name,v.node)),C.updateImmediateChild(v.name,v.node)):C}}else return r.isEmpty()?e:g&&c(d,m)>=0?(u!=null&&(u.trackChildChange(Xo(d.name,d.node)),u.trackChildChange(ea(i,r))),h.updateImmediateChild(i,r).updateImmediateChild(d.name,xe.EMPTY_NODE)):e}}class Zc{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=dt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return te(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return te(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Jr}hasEnd(){return this.endSet_}getIndexEndValue(){return te(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return te(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Hs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return te(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===dt}copy(){const e=new Zc;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function hI(t){return t.loadsAllData()?new _g(t.getIndex()):t.hasLimit()?new fI(t):new $o(t)}function US(t){const e={};if(t.isDefault())return e;let i;if(t.index_===dt?i="$priority":t.index_===uI?i="$value":t.index_===$r?i="$key":(te(t.index_ instanceof oI,"Unrecognized index type!"),i=t.index_.toString()),e.orderBy=Et(i),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Et(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Et(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Et(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Et(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function HS(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let i=t.viewFrom_;i===""&&(t.isViewFromLeft()?i="l":i="r"),e.vf=i}return t.index_!==dt&&(e.i=t.index_.toString()),e}class Ac extends NC{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,i){return i!==void 0?"tag$"+i:(te(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,i,r,o){super(),this.repoInfo_=e,this.onDataUpdate_=i,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=cl("p:rest:"),this.listens_={}}listen(e,i,r,o){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const c=Ac.getListenId_(e,r),h={};this.listens_[c]=h;const m=US(e._queryParams);this.restRequest_(u+".json",m,(d,g)=>{let y=g;if(d===404&&(y=null,d=null),d===null&&this.onDataUpdate_(u,y,!1,r),Zr(this.listens_,c)===h){let v;d?d===401?v="permission_denied":v="rest_error:"+d:v="ok",o(v,null)}})}unlisten(e,i){const r=Ac.getListenId_(e,i);delete this.listens_[r]}get(e){const i=US(e._queryParams),r=e._path.toString(),o=new ol;return this.restRequest_(r+".json",i,(u,c)=>{let h=c;u===404&&(h=null,u=null),u===null?(this.onDataUpdate_(r,h,!1,null),o.resolve(h)):o.reject(new Error(h))}),o.promise}refreshAuthToken(e){}restRequest_(e,i={},r){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(i.auth=o.accessToken),u&&u.token&&(i.ac=u.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+zj(i);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&h.readyState===4){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let m=null;if(h.status>=200&&h.status<300){try{m=Go(h.responseText)}catch{Qt("Failed to parse JSON response for "+c+": "+h.responseText)}r(null,m)}else h.status!==401&&h.status!==404&&Qt("Got unsuccessful REST response for "+c+" Status: "+h.status),r(h.status);r=null}},h.open("GET",c,!0),h.send()})}}class dI{constructor(){this.rootNode_=xe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,i){this.rootNode_=this.rootNode_.updateChild(e,i)}}function Rc(){return{value:null,children:new Map}}function zC(t,e,i){if(Oe(e))t.value=i,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,i);else{const r=Re(e);t.children.has(r)||t.children.set(r,Rc());const o=t.children.get(r);e=et(e),zC(o,e,i)}}function up(t,e,i){t.value!==null?i(e,t.value):mI(t,(r,o)=>{const u=new Ke(e.toString()+"/"+r);up(o,u,i)})}function mI(t,e){t.children.forEach((i,r)=>{e(r,i)})}class pI{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),i={...e};return this.last_&&Ut(this.last_,(r,o)=>{i[r]=i[r]-o}),this.last_=e,i}}const FS=10*1e3,gI=30*1e3,yI=300*1e3;class vI{constructor(e,i){this.server_=i,this.statsToReport_={},this.statsListener_=new pI(e);const r=FS+(gI-FS)*Math.random();ko(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),i={};let r=!1;Ut(e,(o,u)=>{u>0&&$n(this.statsToReport_,o)&&(i[o]=u,r=!0)}),r&&this.server_.reportStats(i),ko(this.reportStats_.bind(this),Math.floor(Math.random()*2*yI))}}var Pn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Pn||(Pn={}));function xg(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Sg(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Tg(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class Nc{constructor(e,i,r){this.path=e,this.affectedTree=i,this.revert=r,this.type=Pn.ACK_USER_WRITE,this.source=xg()}operationForChild(e){if(Oe(this.path)){if(this.affectedTree.value!=null)return te(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Ke(e));return new Nc(Ue(),i,this.revert)}}else return te(Re(this.path)===e,"operationForChild called for unrelated child."),new Nc(et(this.path),this.affectedTree,this.revert)}}class Zo{constructor(e,i){this.source=e,this.path=i,this.type=Pn.LISTEN_COMPLETE}operationForChild(e){return Oe(this.path)?new Zo(this.source,Ue()):new Zo(this.source,et(this.path))}}class Fs{constructor(e,i,r){this.source=e,this.path=i,this.snap=r,this.type=Pn.OVERWRITE}operationForChild(e){return Oe(this.path)?new Fs(this.source,Ue(),this.snap.getImmediateChild(e)):new Fs(this.source,et(this.path),this.snap)}}class ta{constructor(e,i,r){this.source=e,this.path=i,this.children=r,this.type=Pn.MERGE}operationForChild(e){if(Oe(this.path)){const i=this.children.subtree(new Ke(e));return i.isEmpty()?null:i.value?new Fs(this.source,Ue(),i.value):new ta(this.source,Ue(),i)}else return te(Re(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ta(this.source,et(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ls{constructor(e,i,r){this.node_=e,this.fullyInitialized_=i,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Oe(e))return this.isFullyInitialized()&&!this.filtered_;const i=Re(e);return this.isCompleteForChild(i)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class bI{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function _I(t,e,i,r){const o=[],u=[];return e.forEach(c=>{c.type==="child_changed"&&t.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&u.push(cI(c.childName,c.snapshotNode))}),bo(t,o,"child_removed",e,r,i),bo(t,o,"child_added",e,r,i),bo(t,o,"child_moved",u,r,i),bo(t,o,"child_changed",e,r,i),bo(t,o,"value",e,r,i),o}function bo(t,e,i,r,o,u){const c=r.filter(h=>h.type===i);c.sort((h,m)=>SI(t,h,m)),c.forEach(h=>{const m=xI(t,h,u);o.forEach(d=>{d.respondsTo(h.type)&&e.push(d.createEvent(m,t.query_))})})}function xI(t,e,i){return e.type==="value"||e.type==="child_removed"||(e.prevName=i.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function SI(t,e,i){if(e.childName==null||i.childName==null)throw fa("Should only compare child_ events.");const r=new Ne(e.childName,e.snapshotNode),o=new Ne(i.childName,i.snapshotNode);return t.index_.compare(r,o)}function Jc(t,e){return{eventCache:t,serverCache:e}}function Oo(t,e,i,r){return Jc(new ls(e,i,r),t.serverCache)}function BC(t,e,i,r){return Jc(t.eventCache,new ls(e,i,r))}function Mc(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Gs(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let pm;const TI=()=>(pm||(pm=new tn(oP)),pm);class Ze{static fromObject(e){let i=new Ze(null);return Ut(e,(r,o)=>{i=i.set(new Ke(r),o)}),i}constructor(e,i=TI()){this.value=e,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,i){if(this.value!=null&&i(this.value))return{path:Ue(),value:this.value};if(Oe(e))return null;{const r=Re(e),o=this.children.get(r);if(o!==null){const u=o.findRootMostMatchingPathAndValue(et(e),i);return u!=null?{path:ht(new Ke(r),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Oe(e))return this;{const i=Re(e),r=this.children.get(i);return r!==null?r.subtree(et(e)):new Ze(null)}}set(e,i){if(Oe(e))return new Ze(i,this.children);{const r=Re(e),u=(this.children.get(r)||new Ze(null)).set(et(e),i),c=this.children.insert(r,u);return new Ze(this.value,c)}}remove(e){if(Oe(e))return this.children.isEmpty()?new Ze(null):new Ze(null,this.children);{const i=Re(e),r=this.children.get(i);if(r){const o=r.remove(et(e));let u;return o.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,o),this.value===null&&u.isEmpty()?new Ze(null):new Ze(this.value,u)}else return this}}get(e){if(Oe(e))return this.value;{const i=Re(e),r=this.children.get(i);return r?r.get(et(e)):null}}setTree(e,i){if(Oe(e))return i;{const r=Re(e),u=(this.children.get(r)||new Ze(null)).setTree(et(e),i);let c;return u.isEmpty()?c=this.children.remove(r):c=this.children.insert(r,u),new Ze(this.value,c)}}fold(e){return this.fold_(Ue(),e)}fold_(e,i){const r={};return this.children.inorderTraversal((o,u)=>{r[o]=u.fold_(ht(e,o),i)}),i(e,this.value,r)}findOnPath(e,i){return this.findOnPath_(e,Ue(),i)}findOnPath_(e,i,r){const o=this.value?r(i,this.value):!1;if(o)return o;if(Oe(e))return null;{const u=Re(e),c=this.children.get(u);return c?c.findOnPath_(et(e),ht(i,u),r):null}}foreachOnPath(e,i){return this.foreachOnPath_(e,Ue(),i)}foreachOnPath_(e,i,r){if(Oe(e))return this;{this.value&&r(i,this.value);const o=Re(e),u=this.children.get(o);return u?u.foreachOnPath_(et(e),ht(i,o),r):new Ze(null)}}foreach(e){this.foreach_(Ue(),e)}foreach_(e,i){this.children.inorderTraversal((r,o)=>{o.foreach_(ht(e,r),i)}),this.value&&i(e,this.value)}foreachChild(e){this.children.inorderTraversal((i,r)=>{r.value&&e(i,r.value)})}}class Vn{constructor(e){this.writeTree_=e}static empty(){return new Vn(new Ze(null))}}function Lo(t,e,i){if(Oe(e))return new Vn(new Ze(i));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const o=r.path;let u=r.value;const c=Yt(o,e);return u=u.updateChild(c,i),new Vn(t.writeTree_.set(o,u))}else{const o=new Ze(i),u=t.writeTree_.setTree(e,o);return new Vn(u)}}}function cp(t,e,i){let r=t;return Ut(i,(o,u)=>{r=Lo(r,ht(e,o),u)}),r}function GS(t,e){if(Oe(e))return Vn.empty();{const i=t.writeTree_.setTree(e,new Ze(null));return new Vn(i)}}function fp(t,e){return Ws(t,e)!=null}function Ws(t,e){const i=t.writeTree_.findRootMostValueAndPath(e);return i!=null?t.writeTree_.get(i.path).getChild(Yt(i.path,e)):null}function qS(t){const e=[],i=t.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(dt,(r,o)=>{e.push(new Ne(r,o))}):t.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&e.push(new Ne(r,o.value))}),e}function ss(t,e){if(Oe(e))return t;{const i=Ws(t,e);return i!=null?new Vn(new Ze(i)):new Vn(t.writeTree_.subtree(e))}}function hp(t){return t.writeTree_.isEmpty()}function na(t,e){return UC(Ue(),t.writeTree_,e)}function UC(t,e,i){if(e.value!=null)return i.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((o,u)=>{o===".priority"?(te(u.value!==null,"Priority writes must always be leaf nodes"),r=u.value):i=UC(ht(t,o),u,i)}),!i.getChild(t).isEmpty()&&r!==null&&(i=i.updateChild(ht(t,".priority"),r)),i}}function ef(t,e){return qC(e,t)}function wI(t,e,i,r,o){te(r>t.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),t.allWrites.push({path:e,snap:i,writeId:r,visible:o}),o&&(t.visibleWrites=Lo(t.visibleWrites,e,i)),t.lastWriteId=r}function CI(t,e,i,r){te(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:i,writeId:r,visible:!0}),t.visibleWrites=cp(t.visibleWrites,e,i),t.lastWriteId=r}function EI(t,e){for(let i=0;i<t.allWrites.length;i++){const r=t.allWrites[i];if(r.writeId===e)return r}return null}function AI(t,e){const i=t.allWrites.findIndex(h=>h.writeId===e);te(i>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[i];t.allWrites.splice(i,1);let o=r.visible,u=!1,c=t.allWrites.length-1;for(;o&&c>=0;){const h=t.allWrites[c];h.visible&&(c>=i&&RI(h,r.path)?o=!1:En(r.path,h.path)&&(u=!0)),c--}if(o){if(u)return NI(t),!0;if(r.snap)t.visibleWrites=GS(t.visibleWrites,r.path);else{const h=r.children;Ut(h,m=>{t.visibleWrites=GS(t.visibleWrites,ht(r.path,m))})}return!0}else return!1}function RI(t,e){if(t.snap)return En(t.path,e);for(const i in t.children)if(t.children.hasOwnProperty(i)&&En(ht(t.path,i),e))return!0;return!1}function NI(t){t.visibleWrites=HC(t.allWrites,MI,Ue()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function MI(t){return t.visible}function HC(t,e,i){let r=Vn.empty();for(let o=0;o<t.length;++o){const u=t[o];if(e(u)){const c=u.path;let h;if(u.snap)En(i,c)?(h=Yt(i,c),r=Lo(r,h,u.snap)):En(c,i)&&(h=Yt(c,i),r=Lo(r,Ue(),u.snap.getChild(h)));else if(u.children){if(En(i,c))h=Yt(i,c),r=cp(r,h,u.children);else if(En(c,i))if(h=Yt(c,i),Oe(h))r=cp(r,Ue(),u.children);else{const m=Zr(u.children,Re(h));if(m){const d=m.getChild(et(h));r=Lo(r,Ue(),d)}}}else throw fa("WriteRecord should have .snap or .children")}}return r}function FC(t,e,i,r,o){if(!r&&!o){const u=Ws(t.visibleWrites,e);if(u!=null)return u;{const c=ss(t.visibleWrites,e);if(hp(c))return i;if(i==null&&!fp(c,Ue()))return null;{const h=i||xe.EMPTY_NODE;return na(c,h)}}}else{const u=ss(t.visibleWrites,e);if(!o&&hp(u))return i;if(!o&&i==null&&!fp(u,Ue()))return null;{const c=function(d){return(d.visible||o)&&(!r||!~r.indexOf(d.writeId))&&(En(d.path,e)||En(e,d.path))},h=HC(t.allWrites,c,e),m=i||xe.EMPTY_NODE;return na(h,m)}}}function DI(t,e,i){let r=xe.EMPTY_NODE;const o=Ws(t.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(dt,(u,c)=>{r=r.updateImmediateChild(u,c)}),r;if(i){const u=ss(t.visibleWrites,e);return i.forEachChild(dt,(c,h)=>{const m=na(ss(u,new Ke(c)),h);r=r.updateImmediateChild(c,m)}),qS(u).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}else{const u=ss(t.visibleWrites,e);return qS(u).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}}function kI(t,e,i,r,o){te(r||o,"Either existingEventSnap or existingServerSnap must exist");const u=ht(e,i);if(fp(t.visibleWrites,u))return null;{const c=ss(t.visibleWrites,u);return hp(c)?o.getChild(i):na(c,o.getChild(i))}}function OI(t,e,i,r){const o=ht(e,i),u=Ws(t.visibleWrites,o);if(u!=null)return u;if(r.isCompleteForChild(i)){const c=ss(t.visibleWrites,o);return na(c,r.getNode().getImmediateChild(i))}else return null}function LI(t,e){return Ws(t.visibleWrites,e)}function jI(t,e,i,r,o,u,c){let h;const m=ss(t.visibleWrites,e),d=Ws(m,Ue());if(d!=null)h=d;else if(i!=null)h=na(m,i);else return[];if(h=h.withIndex(c),!h.isEmpty()&&!h.isLeafNode()){const g=[],y=c.getCompare(),v=u?h.getReverseIteratorFrom(r,c):h.getIteratorFrom(r,c);let x=v.getNext();for(;x&&g.length<o;)y(x,r)!==0&&g.push(x),x=v.getNext();return g}else return[]}function PI(){return{visibleWrites:Vn.empty(),allWrites:[],lastWriteId:-1}}function Dc(t,e,i,r){return FC(t.writeTree,t.treePath,e,i,r)}function wg(t,e){return DI(t.writeTree,t.treePath,e)}function YS(t,e,i,r){return kI(t.writeTree,t.treePath,e,i,r)}function kc(t,e){return LI(t.writeTree,ht(t.treePath,e))}function II(t,e,i,r,o,u){return jI(t.writeTree,t.treePath,e,i,r,o,u)}function Cg(t,e,i){return OI(t.writeTree,t.treePath,e,i)}function GC(t,e){return qC(ht(t.treePath,e),t.writeTree)}function qC(t,e){return{treePath:t,writeTree:e}}class VI{constructor(){this.changeMap=new Map}trackChildChange(e){const i=e.type,r=e.childName;te(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),te(r!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const u=o.type;if(i==="child_added"&&u==="child_removed")this.changeMap.set(r,Wo(r,e.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&u==="child_added")this.changeMap.delete(r);else if(i==="child_removed"&&u==="child_changed")this.changeMap.set(r,Xo(r,o.oldSnap));else if(i==="child_changed"&&u==="child_added")this.changeMap.set(r,ea(r,e.snapshotNode));else if(i==="child_changed"&&u==="child_changed")this.changeMap.set(r,Wo(r,e.snapshotNode,o.oldSnap));else throw fa("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}class zI{getCompleteChild(e){return null}getChildAfterChild(e,i,r){return null}}const YC=new zI;class Eg{constructor(e,i,r=null){this.writes_=e,this.viewCache_=i,this.optCompleteServerCache_=r}getCompleteChild(e){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(e))return i.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new ls(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Cg(this.writes_,e,r)}}getChildAfterChild(e,i,r){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Gs(this.viewCache_),u=II(this.writes_,o,i,1,r,e);return u.length===0?null:u[0]}}function BI(t){return{filter:t}}function UI(t,e){te(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),te(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function HI(t,e,i,r,o){const u=new VI;let c,h;if(i.type===Pn.OVERWRITE){const d=i;d.source.fromUser?c=dp(t,e,d.path,d.snap,r,o,u):(te(d.source.fromServer,"Unknown source."),h=d.source.tagged||e.serverCache.isFiltered()&&!Oe(d.path),c=Oc(t,e,d.path,d.snap,r,o,h,u))}else if(i.type===Pn.MERGE){const d=i;d.source.fromUser?c=GI(t,e,d.path,d.children,r,o,u):(te(d.source.fromServer,"Unknown source."),h=d.source.tagged||e.serverCache.isFiltered(),c=mp(t,e,d.path,d.children,r,o,h,u))}else if(i.type===Pn.ACK_USER_WRITE){const d=i;d.revert?c=QI(t,e,d.path,r,o,u):c=qI(t,e,d.path,d.affectedTree,r,o,u)}else if(i.type===Pn.LISTEN_COMPLETE)c=YI(t,e,i.path,r,u);else throw fa("Unknown operation type: "+i.type);const m=u.getChanges();return FI(e,c,m),{viewCache:c,changes:m}}function FI(t,e,i){const r=e.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),u=Mc(t);(i.length>0||!t.eventCache.isFullyInitialized()||o&&!r.getNode().equals(u)||!r.getNode().getPriority().equals(u.getPriority()))&&i.push(VC(Mc(e)))}}function QC(t,e,i,r,o,u){const c=e.eventCache;if(kc(r,i)!=null)return e;{let h,m;if(Oe(i))if(te(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const d=Gs(e),g=d instanceof xe?d:xe.EMPTY_NODE,y=wg(r,g);h=t.filter.updateFullNode(e.eventCache.getNode(),y,u)}else{const d=Dc(r,Gs(e));h=t.filter.updateFullNode(e.eventCache.getNode(),d,u)}else{const d=Re(i);if(d===".priority"){te(os(i)===1,"Can't have a priority with additional path components");const g=c.getNode();m=e.serverCache.getNode();const y=YS(r,i,g,m);y!=null?h=t.filter.updatePriority(g,y):h=c.getNode()}else{const g=et(i);let y;if(c.isCompleteForChild(d)){m=e.serverCache.getNode();const v=YS(r,i,c.getNode(),m);v!=null?y=c.getNode().getImmediateChild(d).updateChild(g,v):y=c.getNode().getImmediateChild(d)}else y=Cg(r,d,e.serverCache);y!=null?h=t.filter.updateChild(c.getNode(),d,y,g,o,u):h=c.getNode()}}return Oo(e,h,c.isFullyInitialized()||Oe(i),t.filter.filtersNodes())}}function Oc(t,e,i,r,o,u,c,h){const m=e.serverCache;let d;const g=c?t.filter:t.filter.getIndexedFilter();if(Oe(i))d=g.updateFullNode(m.getNode(),r,null);else if(g.filtersNodes()&&!m.isFiltered()){const x=m.getNode().updateChild(i,r);d=g.updateFullNode(m.getNode(),x,null)}else{const x=Re(i);if(!m.isCompleteForPath(i)&&os(i)>1)return e;const w=et(i),E=m.getNode().getImmediateChild(x).updateChild(w,r);x===".priority"?d=g.updatePriority(m.getNode(),E):d=g.updateChild(m.getNode(),x,E,w,YC,null)}const y=BC(e,d,m.isFullyInitialized()||Oe(i),g.filtersNodes()),v=new Eg(o,y,u);return QC(t,y,i,o,v,h)}function dp(t,e,i,r,o,u,c){const h=e.eventCache;let m,d;const g=new Eg(o,e,u);if(Oe(i))d=t.filter.updateFullNode(e.eventCache.getNode(),r,c),m=Oo(e,d,!0,t.filter.filtersNodes());else{const y=Re(i);if(y===".priority")d=t.filter.updatePriority(e.eventCache.getNode(),r),m=Oo(e,d,h.isFullyInitialized(),h.isFiltered());else{const v=et(i),x=h.getNode().getImmediateChild(y);let w;if(Oe(v))w=r;else{const C=g.getCompleteChild(y);C!=null?gg(v)===".priority"&&C.getChild(DC(v)).isEmpty()?w=C:w=C.updateChild(v,r):w=xe.EMPTY_NODE}if(x.equals(w))m=e;else{const C=t.filter.updateChild(h.getNode(),y,w,v,g,c);m=Oo(e,C,h.isFullyInitialized(),t.filter.filtersNodes())}}}return m}function QS(t,e){return t.eventCache.isCompleteForChild(e)}function GI(t,e,i,r,o,u,c){let h=e;return r.foreach((m,d)=>{const g=ht(i,m);QS(e,Re(g))&&(h=dp(t,h,g,d,o,u,c))}),r.foreach((m,d)=>{const g=ht(i,m);QS(e,Re(g))||(h=dp(t,h,g,d,o,u,c))}),h}function KS(t,e,i){return i.foreach((r,o)=>{e=e.updateChild(r,o)}),e}function mp(t,e,i,r,o,u,c,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let m=e,d;Oe(i)?d=r:d=new Ze(null).setTree(i,r);const g=e.serverCache.getNode();return d.children.inorderTraversal((y,v)=>{if(g.hasChild(y)){const x=e.serverCache.getNode().getImmediateChild(y),w=KS(t,x,v);m=Oc(t,m,new Ke(y),w,o,u,c,h)}}),d.children.inorderTraversal((y,v)=>{const x=!e.serverCache.isCompleteForChild(y)&&v.value===null;if(!g.hasChild(y)&&!x){const w=e.serverCache.getNode().getImmediateChild(y),C=KS(t,w,v);m=Oc(t,m,new Ke(y),C,o,u,c,h)}}),m}function qI(t,e,i,r,o,u,c){if(kc(o,i)!=null)return e;const h=e.serverCache.isFiltered(),m=e.serverCache;if(r.value!=null){if(Oe(i)&&m.isFullyInitialized()||m.isCompleteForPath(i))return Oc(t,e,i,m.getNode().getChild(i),o,u,h,c);if(Oe(i)){let d=new Ze(null);return m.getNode().forEachChild($r,(g,y)=>{d=d.set(new Ke(g),y)}),mp(t,e,i,d,o,u,h,c)}else return e}else{let d=new Ze(null);return r.foreach((g,y)=>{const v=ht(i,g);m.isCompleteForPath(v)&&(d=d.set(g,m.getNode().getChild(v)))}),mp(t,e,i,d,o,u,h,c)}}function YI(t,e,i,r,o){const u=e.serverCache,c=BC(e,u.getNode(),u.isFullyInitialized()||Oe(i),u.isFiltered());return QC(t,c,i,r,YC,o)}function QI(t,e,i,r,o,u){let c;if(kc(r,i)!=null)return e;{const h=new Eg(r,e,o),m=e.eventCache.getNode();let d;if(Oe(i)||Re(i)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=Dc(r,Gs(e));else{const y=e.serverCache.getNode();te(y instanceof xe,"serverChildren would be complete if leaf node"),g=wg(r,y)}g=g,d=t.filter.updateFullNode(m,g,u)}else{const g=Re(i);let y=Cg(r,g,e.serverCache);y==null&&e.serverCache.isCompleteForChild(g)&&(y=m.getImmediateChild(g)),y!=null?d=t.filter.updateChild(m,g,y,et(i),h,u):e.eventCache.getNode().hasChild(g)?d=t.filter.updateChild(m,g,xe.EMPTY_NODE,et(i),h,u):d=m,d.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=Dc(r,Gs(e)),c.isLeafNode()&&(d=t.filter.updateFullNode(d,c,u)))}return c=e.serverCache.isFullyInitialized()||kc(r,Ue())!=null,Oo(e,d,c,t.filter.filtersNodes())}}class KI{constructor(e,i){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new _g(r.getIndex()),u=hI(r);this.processor_=BI(u);const c=i.serverCache,h=i.eventCache,m=o.updateFullNode(xe.EMPTY_NODE,c.getNode(),null),d=u.updateFullNode(xe.EMPTY_NODE,h.getNode(),null),g=new ls(m,c.isFullyInitialized(),o.filtersNodes()),y=new ls(d,h.isFullyInitialized(),u.filtersNodes());this.viewCache_=Jc(y,g),this.eventGenerator_=new bI(this.query_)}get query(){return this.query_}}function XI(t){return t.viewCache_.serverCache.getNode()}function WI(t){return Mc(t.viewCache_)}function $I(t,e){const i=Gs(t.viewCache_);return i&&(t.query._queryParams.loadsAllData()||!Oe(e)&&!i.getImmediateChild(Re(e)).isEmpty())?i.getChild(e):null}function XS(t){return t.eventRegistrations_.length===0}function ZI(t,e){t.eventRegistrations_.push(e)}function WS(t,e,i){const r=[];if(i){te(e==null,"A cancel should cancel all event registrations.");const o=t.query._path;t.eventRegistrations_.forEach(u=>{const c=u.createCancelEvent(i,o);c&&r.push(c)})}if(e){let o=[];for(let u=0;u<t.eventRegistrations_.length;++u){const c=t.eventRegistrations_[u];if(!c.matches(e))o.push(c);else if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(u+1));break}}t.eventRegistrations_=o}else t.eventRegistrations_=[];return r}function $S(t,e,i,r){e.type===Pn.MERGE&&e.source.queryId!==null&&(te(Gs(t.viewCache_),"We should always have a full cache before handling merges"),te(Mc(t.viewCache_),"Missing event cache, even though we have a server cache"));const o=t.viewCache_,u=HI(t.processor_,o,e,i,r);return UI(t.processor_,u.viewCache),te(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=u.viewCache,KC(t,u.changes,u.viewCache.eventCache.getNode(),null)}function JI(t,e){const i=t.viewCache_.eventCache,r=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(dt,(u,c)=>{r.push(ea(u,c))}),i.isFullyInitialized()&&r.push(VC(i.getNode())),KC(t,r,i.getNode(),e)}function KC(t,e,i,r){const o=r?[r]:t.eventRegistrations_;return _I(t.eventGenerator_,e,i,o)}let Lc;class XC{constructor(){this.views=new Map}}function eV(t){te(!Lc,"__referenceConstructor has already been defined"),Lc=t}function tV(){return te(Lc,"Reference.ts has not been loaded"),Lc}function nV(t){return t.views.size===0}function Ag(t,e,i,r){const o=e.source.queryId;if(o!==null){const u=t.views.get(o);return te(u!=null,"SyncTree gave us an op for an invalid query."),$S(u,e,i,r)}else{let u=[];for(const c of t.views.values())u=u.concat($S(c,e,i,r));return u}}function WC(t,e,i,r,o){const u=e._queryIdentifier,c=t.views.get(u);if(!c){let h=Dc(i,o?r:null),m=!1;h?m=!0:r instanceof xe?(h=wg(i,r),m=!1):(h=xe.EMPTY_NODE,m=!1);const d=Jc(new ls(h,m,!1),new ls(r,o,!1));return new KI(e,d)}return c}function iV(t,e,i,r,o,u){const c=WC(t,e,r,o,u);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,c),ZI(c,i),JI(c,i)}function sV(t,e,i,r){const o=e._queryIdentifier,u=[];let c=[];const h=us(t);if(o==="default")for(const[m,d]of t.views.entries())c=c.concat(WS(d,i,r)),XS(d)&&(t.views.delete(m),d.query._queryParams.loadsAllData()||u.push(d.query));else{const m=t.views.get(o);m&&(c=c.concat(WS(m,i,r)),XS(m)&&(t.views.delete(o),m.query._queryParams.loadsAllData()||u.push(m.query)))}return h&&!us(t)&&u.push(new(tV())(e._repo,e._path)),{removed:u,events:c}}function $C(t){const e=[];for(const i of t.views.values())i.query._queryParams.loadsAllData()||e.push(i);return e}function rs(t,e){let i=null;for(const r of t.views.values())i=i||$I(r,e);return i}function ZC(t,e){if(e._queryParams.loadsAllData())return tf(t);{const r=e._queryIdentifier;return t.views.get(r)}}function JC(t,e){return ZC(t,e)!=null}function us(t){return tf(t)!=null}function tf(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let jc;function rV(t){te(!jc,"__referenceConstructor has already been defined"),jc=t}function aV(){return te(jc,"Reference.ts has not been loaded"),jc}let oV=1;class ZS{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ze(null),this.pendingWriteTree_=PI(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function eE(t,e,i,r,o){return wI(t.pendingWriteTree_,e,i,r,o),o?da(t,new Fs(xg(),e,i)):[]}function lV(t,e,i,r){CI(t.pendingWriteTree_,e,i,r);const o=Ze.fromObject(i);return da(t,new ta(xg(),e,o))}function ts(t,e,i=!1){const r=EI(t.pendingWriteTree_,e);if(AI(t.pendingWriteTree_,e)){let u=new Ze(null);return r.snap!=null?u=u.set(Ue(),!0):Ut(r.children,c=>{u=u.set(new Ke(c),!0)}),da(t,new Nc(r.path,u,i))}else return[]}function hl(t,e,i){return da(t,new Fs(Sg(),e,i))}function uV(t,e,i){const r=Ze.fromObject(i);return da(t,new ta(Sg(),e,r))}function cV(t,e){return da(t,new Zo(Sg(),e))}function fV(t,e,i){const r=Ng(t,i);if(r){const o=Mg(r),u=o.path,c=o.queryId,h=Yt(u,e),m=new Zo(Tg(c),h);return Dg(t,u,m)}else return[]}function Pc(t,e,i,r,o=!1){const u=e._path,c=t.syncPointTree_.get(u);let h=[];if(c&&(e._queryIdentifier==="default"||JC(c,e))){const m=sV(c,e,i,r);nV(c)&&(t.syncPointTree_=t.syncPointTree_.remove(u));const d=m.removed;if(h=m.events,!o){const g=d.findIndex(v=>v._queryParams.loadsAllData())!==-1,y=t.syncPointTree_.findOnPath(u,(v,x)=>us(x));if(g&&!y){const v=t.syncPointTree_.subtree(u);if(!v.isEmpty()){const x=mV(v);for(let w=0;w<x.length;++w){const C=x[w],E=C.query,A=sE(t,C);t.listenProvider_.startListening(jo(E),Jo(t,E),A.hashFn,A.onComplete)}}}!y&&d.length>0&&!r&&(g?t.listenProvider_.stopListening(jo(e),null):d.forEach(v=>{const x=t.queryToTagMap.get(nf(v));t.listenProvider_.stopListening(jo(v),x)}))}pV(t,d)}return h}function tE(t,e,i,r){const o=Ng(t,r);if(o!=null){const u=Mg(o),c=u.path,h=u.queryId,m=Yt(c,e),d=new Fs(Tg(h),m,i);return Dg(t,c,d)}else return[]}function hV(t,e,i,r){const o=Ng(t,r);if(o){const u=Mg(o),c=u.path,h=u.queryId,m=Yt(c,e),d=Ze.fromObject(i),g=new ta(Tg(h),m,d);return Dg(t,c,g)}else return[]}function pp(t,e,i,r=!1){const o=e._path;let u=null,c=!1;t.syncPointTree_.foreachOnPath(o,(v,x)=>{const w=Yt(v,o);u=u||rs(x,w),c=c||us(x)});let h=t.syncPointTree_.get(o);h?(c=c||us(h),u=u||rs(h,Ue())):(h=new XC,t.syncPointTree_=t.syncPointTree_.set(o,h));let m;u!=null?m=!0:(m=!1,u=xe.EMPTY_NODE,t.syncPointTree_.subtree(o).foreachChild((x,w)=>{const C=rs(w,Ue());C&&(u=u.updateImmediateChild(x,C))}));const d=JC(h,e);if(!d&&!e._queryParams.loadsAllData()){const v=nf(e);te(!t.queryToTagMap.has(v),"View does not exist, but we have a tag");const x=gV();t.queryToTagMap.set(v,x),t.tagToQueryMap.set(x,v)}const g=ef(t.pendingWriteTree_,o);let y=iV(h,e,i,g,u,m);if(!d&&!c&&!r){const v=ZC(h,e);y=y.concat(yV(t,e,v))}return y}function Rg(t,e,i){const o=t.pendingWriteTree_,u=t.syncPointTree_.findOnPath(e,(c,h)=>{const m=Yt(c,e),d=rs(h,m);if(d)return d});return FC(o,e,u,i,!0)}function dV(t,e){const i=e._path;let r=null;t.syncPointTree_.foreachOnPath(i,(d,g)=>{const y=Yt(d,i);r=r||rs(g,y)});let o=t.syncPointTree_.get(i);o?r=r||rs(o,Ue()):(o=new XC,t.syncPointTree_=t.syncPointTree_.set(i,o));const u=r!=null,c=u?new ls(r,!0,!1):null,h=ef(t.pendingWriteTree_,e._path),m=WC(o,e,h,u?c.getNode():xe.EMPTY_NODE,u);return WI(m)}function da(t,e){return nE(e,t.syncPointTree_,null,ef(t.pendingWriteTree_,Ue()))}function nE(t,e,i,r){if(Oe(t.path))return iE(t,e,i,r);{const o=e.get(Ue());i==null&&o!=null&&(i=rs(o,Ue()));let u=[];const c=Re(t.path),h=t.operationForChild(c),m=e.children.get(c);if(m&&h){const d=i?i.getImmediateChild(c):null,g=GC(r,c);u=u.concat(nE(h,m,d,g))}return o&&(u=u.concat(Ag(o,t,r,i))),u}}function iE(t,e,i,r){const o=e.get(Ue());i==null&&o!=null&&(i=rs(o,Ue()));let u=[];return e.children.inorderTraversal((c,h)=>{const m=i?i.getImmediateChild(c):null,d=GC(r,c),g=t.operationForChild(c);g&&(u=u.concat(iE(g,h,m,d)))}),o&&(u=u.concat(Ag(o,t,r,i))),u}function sE(t,e){const i=e.query,r=Jo(t,i);return{hashFn:()=>(XI(e)||xe.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return r?fV(t,i._path,r):cV(t,i._path);{const u=cP(o,i);return Pc(t,i,null,u)}}}}function Jo(t,e){const i=nf(e);return t.queryToTagMap.get(i)}function nf(t){return t._path.toString()+"$"+t._queryIdentifier}function Ng(t,e){return t.tagToQueryMap.get(e)}function Mg(t){const e=t.indexOf("$");return te(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ke(t.substr(0,e))}}function Dg(t,e,i){const r=t.syncPointTree_.get(e);te(r,"Missing sync point for query tag that we're tracking");const o=ef(t.pendingWriteTree_,e);return Ag(r,i,o,null)}function mV(t){return t.fold((e,i,r)=>{if(i&&us(i))return[tf(i)];{let o=[];return i&&(o=$C(i)),Ut(r,(u,c)=>{o=o.concat(c)}),o}})}function jo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(aV())(t._repo,t._path):t}function pV(t,e){for(let i=0;i<e.length;++i){const r=e[i];if(!r._queryParams.loadsAllData()){const o=nf(r),u=t.queryToTagMap.get(o);t.queryToTagMap.delete(o),t.tagToQueryMap.delete(u)}}}function gV(){return oV++}function yV(t,e,i){const r=e._path,o=Jo(t,e),u=sE(t,i),c=t.listenProvider_.startListening(jo(e),o,u.hashFn,u.onComplete),h=t.syncPointTree_.subtree(r);if(o)te(!us(h.value),"If we're adding a query, it shouldn't be shadowed");else{const m=h.fold((d,g,y)=>{if(!Oe(d)&&g&&us(g))return[tf(g).query];{let v=[];return g&&(v=v.concat($C(g).map(x=>x.query))),Ut(y,(x,w)=>{v=v.concat(w)}),v}});for(let d=0;d<m.length;++d){const g=m[d];t.listenProvider_.stopListening(jo(g),Jo(t,g))}}return c}class kg{constructor(e){this.node_=e}getImmediateChild(e){const i=this.node_.getImmediateChild(e);return new kg(i)}node(){return this.node_}}class Og{constructor(e,i){this.syncTree_=e,this.path_=i}getImmediateChild(e){const i=ht(this.path_,e);return new Og(this.syncTree_,i)}node(){return Rg(this.syncTree_,this.path_)}}const vV=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},JS=function(t,e,i){if(!t||typeof t!="object")return t;if(te(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return bV(t[".sv"],e,i);if(typeof t[".sv"]=="object")return _V(t[".sv"],e);te(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},bV=function(t,e,i){if(t==="timestamp")return i.timestamp;te(!1,"Unexpected server value: "+t)},_V=function(t,e,i){t.hasOwnProperty("increment")||te(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&te(!1,"Unexpected increment value: "+r);const o=e.node();if(te(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const c=o.getValue();return typeof c!="number"?r:c+r},rE=function(t,e,i,r){return Lg(e,new Og(i,t),r)},aE=function(t,e,i){return Lg(t,new kg(e),i)};function Lg(t,e,i){const r=t.getPriority().val(),o=JS(r,e.getImmediateChild(".priority"),i);let u;if(t.isLeafNode()){const c=t,h=JS(c.getValue(),e,i);return h!==c.getValue()||o!==c.getPriority().val()?new Mt(h,Ct(o)):t}else{const c=t;return u=c,o!==c.getPriority().val()&&(u=u.updatePriority(new Mt(o))),c.forEachChild(dt,(h,m)=>{const d=Lg(m,e.getImmediateChild(h),i);d!==m&&(u=u.updateImmediateChild(h,d))}),u}}class jg{constructor(e="",i=null,r={children:{},childCount:0}){this.name=e,this.parent=i,this.node=r}}function Pg(t,e){let i=e instanceof Ke?e:new Ke(e),r=t,o=Re(i);for(;o!==null;){const u=Zr(r.node.children,o)||{children:{},childCount:0};r=new jg(o,r,u),i=et(i),o=Re(i)}return r}function ma(t){return t.node.value}function oE(t,e){t.node.value=e,gp(t)}function lE(t){return t.node.childCount>0}function xV(t){return ma(t)===void 0&&!lE(t)}function sf(t,e){Ut(t.node.children,(i,r)=>{e(new jg(i,t,r))})}function uE(t,e,i,r){i&&e(t),sf(t,o=>{uE(o,e,!0)})}function SV(t,e,i){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function dl(t){return new Ke(t.parent===null?t.name:dl(t.parent)+"/"+t.name)}function gp(t){t.parent!==null&&TV(t.parent,t.name,t)}function TV(t,e,i){const r=xV(i),o=$n(t.node.children,e);r&&o?(delete t.node.children[e],t.node.childCount--,gp(t)):!r&&!o&&(t.node.children[e]=i.node,t.node.childCount++,gp(t))}const wV=/[\[\].#$\/\u0000-\u001F\u007F]/,CV=/[\[\].#$\u0000-\u001F\u007F]/,gm=10*1024*1024,Ig=function(t){return typeof t=="string"&&t.length!==0&&!wV.test(t)},cE=function(t){return typeof t=="string"&&t.length!==0&&!CV.test(t)},EV=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),cE(t)},AV=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!fg(t)||t&&typeof t=="object"&&$n(t,".sv")},fE=function(t,e,i,r){r&&e===void 0||rf(Xc(t,"value"),e,i)},rf=function(t,e,i){const r=i instanceof Ke?new GP(i,t):i;if(e===void 0)throw new Error(t+"contains undefined "+js(r));if(typeof e=="function")throw new Error(t+"contains a function "+js(r)+" with contents = "+e.toString());if(fg(e))throw new Error(t+"contains "+e.toString()+" "+js(r));if(typeof e=="string"&&e.length>gm/3&&Wc(e)>gm)throw new Error(t+"contains a string greater than "+gm+" utf8 bytes "+js(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,u=!1;if(Ut(e,(c,h)=>{if(c===".value")o=!0;else if(c!==".priority"&&c!==".sv"&&(u=!0,!Ig(c)))throw new Error(t+" contains an invalid key ("+c+") "+js(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);qP(r,c),rf(t,h,r),YP(r)}),o&&u)throw new Error(t+' contains ".value" child '+js(r)+" in addition to actual children.")}},RV=function(t,e){let i,r;for(i=0;i<e.length;i++){r=e[i];const u=Ko(r);for(let c=0;c<u.length;c++)if(!(u[c]===".priority"&&c===u.length-1)){if(!Ig(u[c]))throw new Error(t+"contains an invalid key ("+u[c]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(FP);let o=null;for(i=0;i<e.length;i++){if(r=e[i],o!==null&&En(o,r))throw new Error(t+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}},NV=function(t,e,i,r){const o=Xc(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");const u=[];Ut(e,(c,h)=>{const m=new Ke(c);if(rf(o,h,ht(i,m)),gg(m)===".priority"&&!AV(h))throw new Error(o+"contains an invalid value for '"+m.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(m)}),RV(o,u)},Vg=function(t,e,i,r){if(!cE(i))throw new Error(Xc(t,e)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},MV=function(t,e,i,r){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Vg(t,e,i)},af=function(t,e){if(Re(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},DV=function(t,e){const i=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Ig(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!EV(i))throw new Error(Xc(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class kV{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function of(t,e){let i=null;for(let r=0;r<e.length;r++){const o=e[r],u=o.getPath();i!==null&&!yg(u,i.path)&&(t.eventLists_.push(i),i=null),i===null&&(i={events:[],path:u}),i.events.push(o)}i&&t.eventLists_.push(i)}function hE(t,e,i){of(t,i),dE(t,r=>yg(r,e))}function Rn(t,e,i){of(t,i),dE(t,r=>En(r,e)||En(e,r))}function dE(t,e){t.recursionDepth_++;let i=!0;for(let r=0;r<t.eventLists_.length;r++){const o=t.eventLists_[r];if(o){const u=o.path;e(u)?(OV(t.eventLists_[r]),t.eventLists_[r]=null):i=!1}}i&&(t.eventLists_=[]),t.recursionDepth_--}function OV(t){for(let e=0;e<t.events.length;e++){const i=t.events[e];if(i!==null){t.events[e]=null;const r=i.getEventRunner();Do&&zt("event: "+i.toString()),ha(r)}}}const LV="repo_interrupt",jV=25;class PV{constructor(e,i,r,o){this.repoInfo_=e,this.forceRestClient_=i,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new kV,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Rc(),this.transactionQueueTree_=new jg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function IV(t,e,i){if(t.stats_=mg(t.repoInfo_),t.forceRestClient_||mP())t.server_=new Ac(t.repoInfo_,(r,o,u,c)=>{eT(t,r,o,u,c)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>tT(t,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Et(i)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new _i(t.repoInfo_,e,(r,o,u,c)=>{eT(t,r,o,u,c)},r=>{tT(t,r)},r=>{VV(t,r)},t.authTokenProvider_,t.appCheckProvider_,i),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=bP(t.repoInfo_,()=>new vI(t.stats_,t.server_)),t.infoData_=new dI,t.infoSyncTree_=new ZS({startListening:(r,o,u,c)=>{let h=[];const m=t.infoData_.getNode(r._path);return m.isEmpty()||(h=hl(t.infoSyncTree_,r._path,m),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),zg(t,"connected",!1),t.serverSyncTree_=new ZS({startListening:(r,o,u,c)=>(t.server_.listen(r,u,o,(h,m)=>{const d=c(h,m);Rn(t.eventQueue_,r._path,d)}),[]),stopListening:(r,o)=>{t.server_.unlisten(r,o)}})}function mE(t){const i=t.infoData_.getNode(new Ke(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function lf(t){return vV({timestamp:mE(t)})}function eT(t,e,i,r,o){t.dataUpdateCount++;const u=new Ke(e);i=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,i):i;let c=[];if(o)if(r){const m=_c(i,d=>Ct(d));c=hV(t.serverSyncTree_,u,m,o)}else{const m=Ct(i);c=tE(t.serverSyncTree_,u,m,o)}else if(r){const m=_c(i,d=>Ct(d));c=uV(t.serverSyncTree_,u,m)}else{const m=Ct(i);c=hl(t.serverSyncTree_,u,m)}let h=u;c.length>0&&(h=ia(t,u)),Rn(t.eventQueue_,h,c)}function tT(t,e){zg(t,"connected",e),e===!1&&HV(t)}function VV(t,e){Ut(e,(i,r)=>{zg(t,i,r)})}function zg(t,e,i){const r=new Ke("/.info/"+e),o=Ct(i);t.infoData_.updateSnapshot(r,o);const u=hl(t.infoSyncTree_,r,o);Rn(t.eventQueue_,r,u)}function Bg(t){return t.nextWriteId_++}function zV(t,e,i){const r=dV(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(o=>{const u=Ct(o).withIndex(e._queryParams.getIndex());pp(t.serverSyncTree_,e,i,!0);let c;if(e._queryParams.loadsAllData())c=hl(t.serverSyncTree_,e._path,u);else{const h=Jo(t.serverSyncTree_,e);c=tE(t.serverSyncTree_,e._path,u,h)}return Rn(t.eventQueue_,e._path,c),Pc(t.serverSyncTree_,e,i,null,!0),u},o=>(ml(t,"get for query "+Et(e)+" failed: "+o),Promise.reject(new Error(o))))}function BV(t,e,i,r,o){ml(t,"set",{path:e.toString(),value:i,priority:r});const u=lf(t),c=Ct(i,r),h=Rg(t.serverSyncTree_,e),m=aE(c,h,u),d=Bg(t),g=eE(t.serverSyncTree_,e,m,d,!0);of(t.eventQueue_,g),t.server_.put(e.toString(),c.val(!0),(v,x)=>{const w=v==="ok";w||Qt("set at "+e+" failed: "+v);const C=ts(t.serverSyncTree_,d,!w);Rn(t.eventQueue_,e,C),yp(t,o,v,x)});const y=Hg(t,e);ia(t,y),Rn(t.eventQueue_,y,[])}function UV(t,e,i,r){ml(t,"update",{path:e.toString(),value:i});let o=!0;const u=lf(t),c={};if(Ut(i,(h,m)=>{o=!1,c[h]=rE(ht(e,h),Ct(m),t.serverSyncTree_,u)}),o)zt("update() called with empty data.  Don't do anything."),yp(t,r,"ok",void 0);else{const h=Bg(t),m=lV(t.serverSyncTree_,e,c,h);of(t.eventQueue_,m),t.server_.merge(e.toString(),i,(d,g)=>{const y=d==="ok";y||Qt("update at "+e+" failed: "+d);const v=ts(t.serverSyncTree_,h,!y),x=v.length>0?ia(t,e):e;Rn(t.eventQueue_,x,v),yp(t,r,d,g)}),Ut(i,d=>{const g=Hg(t,ht(e,d));ia(t,g)}),Rn(t.eventQueue_,e,[])}}function HV(t){ml(t,"onDisconnectEvents");const e=lf(t),i=Rc();up(t.onDisconnect_,Ue(),(o,u)=>{const c=rE(o,u,t.serverSyncTree_,e);zC(i,o,c)});let r=[];up(i,Ue(),(o,u)=>{r=r.concat(hl(t.serverSyncTree_,o,u));const c=Hg(t,o);ia(t,c)}),t.onDisconnect_=Rc(),Rn(t.eventQueue_,Ue(),r)}function FV(t,e,i){let r;Re(e._path)===".info"?r=pp(t.infoSyncTree_,e,i):r=pp(t.serverSyncTree_,e,i),hE(t.eventQueue_,e._path,r)}function GV(t,e,i){let r;Re(e._path)===".info"?r=Pc(t.infoSyncTree_,e,i):r=Pc(t.serverSyncTree_,e,i),hE(t.eventQueue_,e._path,r)}function qV(t){t.persistentConnection_&&t.persistentConnection_.interrupt(LV)}function ml(t,...e){let i="";t.persistentConnection_&&(i=t.persistentConnection_.id+":"),zt(i,...e)}function yp(t,e,i,r){e&&ha(()=>{if(i==="ok")e(null);else{const o=(i||"error").toUpperCase();let u=o;r&&(u+=": "+r);const c=new Error(u);c.code=o,e(c)}})}function pE(t,e,i){return Rg(t.serverSyncTree_,e,i)||xe.EMPTY_NODE}function Ug(t,e=t.transactionQueueTree_){if(e||uf(t,e),ma(e)){const i=yE(t,e);te(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&YV(t,dl(e),i)}else lE(e)&&sf(e,i=>{Ug(t,i)})}function YV(t,e,i){const r=i.map(d=>d.currentWriteId),o=pE(t,e,r);let u=o;const c=o.hash();for(let d=0;d<i.length;d++){const g=i[d];te(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const y=Yt(e,g.path);u=u.updateChild(y,g.currentOutputSnapshotRaw)}const h=u.val(!0),m=e;t.server_.put(m.toString(),h,d=>{ml(t,"transaction put response",{path:m.toString(),status:d});let g=[];if(d==="ok"){const y=[];for(let v=0;v<i.length;v++)i[v].status=2,g=g.concat(ts(t.serverSyncTree_,i[v].currentWriteId)),i[v].onComplete&&y.push(()=>i[v].onComplete(null,!0,i[v].currentOutputSnapshotResolved)),i[v].unwatcher();uf(t,Pg(t.transactionQueueTree_,e)),Ug(t,t.transactionQueueTree_),Rn(t.eventQueue_,e,g);for(let v=0;v<y.length;v++)ha(y[v])}else{if(d==="datastale")for(let y=0;y<i.length;y++)i[y].status===3?i[y].status=4:i[y].status=0;else{Qt("transaction at "+m.toString()+" failed: "+d);for(let y=0;y<i.length;y++)i[y].status=4,i[y].abortReason=d}ia(t,e)}},c)}function ia(t,e){const i=gE(t,e),r=dl(i),o=yE(t,i);return QV(t,o,r),r}function QV(t,e,i){if(e.length===0)return;const r=[];let o=[];const c=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const m=e[h],d=Yt(i,m.path);let g=!1,y;if(te(d!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)g=!0,y=m.abortReason,o=o.concat(ts(t.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=jV)g=!0,y="maxretry",o=o.concat(ts(t.serverSyncTree_,m.currentWriteId,!0));else{const v=pE(t,m.path,c);m.currentInputSnapshot=v;const x=e[h].update(v.val());if(x!==void 0){rf("transaction failed: Data returned ",x,m.path);let w=Ct(x);typeof x=="object"&&x!=null&&$n(x,".priority")||(w=w.updatePriority(v.getPriority()));const E=m.currentWriteId,A=lf(t),N=aE(w,v,A);m.currentOutputSnapshotRaw=w,m.currentOutputSnapshotResolved=N,m.currentWriteId=Bg(t),c.splice(c.indexOf(E),1),o=o.concat(eE(t.serverSyncTree_,m.path,N,m.currentWriteId,m.applyLocally)),o=o.concat(ts(t.serverSyncTree_,E,!0))}else g=!0,y="nodata",o=o.concat(ts(t.serverSyncTree_,m.currentWriteId,!0))}Rn(t.eventQueue_,i,o),o=[],g&&(e[h].status=2,(function(v){setTimeout(v,Math.floor(0))})(e[h].unwatcher),e[h].onComplete&&(y==="nodata"?r.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):r.push(()=>e[h].onComplete(new Error(y),!1,null))))}uf(t,t.transactionQueueTree_);for(let h=0;h<r.length;h++)ha(r[h]);Ug(t,t.transactionQueueTree_)}function gE(t,e){let i,r=t.transactionQueueTree_;for(i=Re(e);i!==null&&ma(r)===void 0;)r=Pg(r,i),e=et(e),i=Re(e);return r}function yE(t,e){const i=[];return vE(t,e,i),i.sort((r,o)=>r.order-o.order),i}function vE(t,e,i){const r=ma(e);if(r)for(let o=0;o<r.length;o++)i.push(r[o]);sf(e,o=>{vE(t,o,i)})}function uf(t,e){const i=ma(e);if(i){let r=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[r]=i[o],r++);i.length=r,oE(e,i.length>0?i:void 0)}sf(e,r=>{uf(t,r)})}function Hg(t,e){const i=dl(gE(t,e)),r=Pg(t.transactionQueueTree_,e);return SV(r,o=>{ym(t,o)}),ym(t,r),uE(r,o=>{ym(t,o)}),i}function ym(t,e){const i=ma(e);if(i){const r=[];let o=[],u=-1;for(let c=0;c<i.length;c++)i[c].status===3||(i[c].status===1?(te(u===c-1,"All SENT items should be at beginning of queue."),u=c,i[c].status=3,i[c].abortReason="set"):(te(i[c].status===0,"Unexpected transaction status in abort"),i[c].unwatcher(),o=o.concat(ts(t.serverSyncTree_,i[c].currentWriteId,!0)),i[c].onComplete&&r.push(i[c].onComplete.bind(null,new Error("set"),!1,null))));u===-1?oE(e,void 0):i.length=u+1,Rn(t.eventQueue_,dl(e),o);for(let c=0;c<r.length;c++)ha(r[c])}}function KV(t){let e="";const i=t.split("/");for(let r=0;r<i.length;r++)if(i[r].length>0){let o=i[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function XV(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const i of t.split("&")){if(i.length===0)continue;const r=i.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Qt(`Invalid query segment '${i}' in query '${t}'`)}return e}const nT=function(t,e){const i=WV(t),r=i.namespace;i.domain==="firebase.com"&&Ci(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&i.domain!=="localhost"&&Ci("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||rP();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new SC(i.host,i.secure,r,o,e,"",r!==i.subdomain),path:new Ke(i.pathString)}},WV=function(t){let e="",i="",r="",o="",u="",c=!0,h="https",m=443;if(typeof t=="string"){let d=t.indexOf("//");d>=0&&(h=t.substring(0,d-1),t=t.substring(d+2));let g=t.indexOf("/");g===-1&&(g=t.length);let y=t.indexOf("?");y===-1&&(y=t.length),e=t.substring(0,Math.min(g,y)),g<y&&(o=KV(t.substring(g,y)));const v=XV(t.substring(Math.min(t.length,y)));d=e.indexOf(":"),d>=0?(c=h==="https"||h==="wss",m=parseInt(e.substring(d+1),10)):d=e.length;const x=e.slice(0,d);if(x.toLowerCase()==="localhost")i="localhost";else if(x.split(".").length<=2)i=x;else{const w=e.indexOf(".");r=e.substring(0,w).toLowerCase(),i=e.substring(w+1),u=r}"ns"in v&&(u=v.ns)}return{host:e,port:m,domain:i,subdomain:r,secure:c,scheme:h,pathString:o,namespace:u}};const iT="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",$V=(function(){let t=0;const e=[];return function(i){const r=i===t;t=i;let o;const u=new Array(8);for(o=7;o>=0;o--)u[o]=iT.charAt(i%64),i=Math.floor(i/64);te(i===0,"Cannot push at time == 0");let c=u.join("");if(r){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)c+=iT.charAt(e[o]);return te(c.length===20,"nextPushId: Length should be 20."),c}})();class bE{constructor(e,i,r,o){this.eventType=e,this.eventRegistration=i,this.snapshot=r,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Et(this.snapshot.exportVal())}}class _E{constructor(e,i,r){this.eventRegistration=e,this.error=i,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class xE{constructor(e,i){this.snapshotCallback=e,this.cancelCallback=i}onValue(e,i){this.snapshotCallback.call(null,e,i)}onCancel(e){return te(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class cf{constructor(e,i,r,o){this._repo=e,this._path=i,this._queryParams=r,this._orderByCalled=o}get key(){return Oe(this._path)?null:gg(this._path)}get ref(){return new Bn(this._repo,this._path)}get _queryIdentifier(){const e=HS(this._queryParams),i=hg(e);return i==="{}"?"default":i}get _queryObject(){return HS(this._queryParams)}isEqual(e){if(e=Ks(e),!(e instanceof cf))return!1;const i=this._repo===e._repo,r=yg(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return i&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+HP(this._path)}}class Bn extends cf{constructor(e,i){super(e,i,new Zc,!1)}get parent(){const e=DC(this._path);return e===null?null:new Bn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class qs{constructor(e,i,r){this._node=e,this.ref=i,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const i=new Ke(e),r=Ys(this.ref,e);return new qs(this._node.getChild(i),r,dt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,o)=>e(new qs(o,Ys(this.ref,r),dt)))}hasChild(e){const i=new Ke(e);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function nn(t,e){return t=Ks(t),t._checkNotDeleted("ref"),e!==void 0?Ys(t._root,e):t._root}function Ys(t,e){return t=Ks(t),Re(t._path)===null?MV("child","path",e):Vg("child","path",e),new Bn(t._repo,ht(t._path,e))}function SE(t,e){t=Ks(t),af("push",t._path),fE("push",e,t._path,!0);const i=mE(t._repo),r=$V(i),o=Ys(t,r),u=Ys(t,r);let c;return c=Promise.resolve(u),o.then=c.then.bind(c),o.catch=c.then.bind(c,void 0),o}function Po(t){return af("remove",t._path),pa(t,null)}function pa(t,e){t=Ks(t),af("set",t._path),fE("set",e,t._path,!1);const i=new ol;return BV(t._repo,t._path,e,null,i.wrapCallback(()=>{})),i.promise}function Ic(t,e){NV("update",e,t._path);const i=new ol;return UV(t._repo,t._path,e,i.wrapCallback(()=>{})),i.promise}function Bs(t){t=Ks(t);const e=new xE(()=>{}),i=new ff(e);return zV(t._repo,t,i).then(r=>new qs(r,new Bn(t._repo,t._path),t._queryParams.getIndex()))}class ff{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,i){const r=i._queryParams.getIndex();return new bE("value",this,new qs(e.snapshotNode,new Bn(i._repo,i._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,i){return this.callbackContext.hasCancelCallback?new _E(this,e,i):null}matches(e){return e instanceof ff?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Fg{constructor(e,i){this.eventType=e,this.callbackContext=i}respondsTo(e){let i=e==="children_added"?"child_added":e;return i=i==="children_removed"?"child_removed":i,this.eventType===i}createCancelEvent(e,i){return this.callbackContext.hasCancelCallback?new _E(this,e,i):null}createEvent(e,i){te(e.childName!=null,"Child events should have a childName.");const r=Ys(new Bn(i._repo,i._path),e.childName),o=i._queryParams.getIndex();return new bE(e.type,this,new qs(e.snapshotNode,r,o),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Fg?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function TE(t,e,i,r,o){const u=new xE(i,void 0),c=e==="value"?new ff(u):new Fg(e,u);return FV(t._repo,t,c),()=>GV(t._repo,t,c)}function Gg(t,e,i,r){return TE(t,"value",e)}function wE(t,e,i,r){return TE(t,"child_added",e)}eV(Bn);rV(Bn);const ZV="FIREBASE_DATABASE_EMULATOR_HOST",vp={};let JV=!1;function ez(t,e,i,r){const o=e.lastIndexOf(":"),u=e.substring(0,o),c=ug(u);t.repoInfo_=new SC(e,c,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,i),r&&(t.authTokenProvider_=r)}function CE(t,e,i,r,o){let u=r||t.options.databaseURL;u===void 0&&(t.options.projectId||Ci("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),zt("Using default host for project ",t.options.projectId),u=`${t.options.projectId}-default-rtdb.firebaseio.com`);let c=nT(u,o),h=c.repoInfo,m;typeof process<"u"&&wS&&(m=wS[ZV]),m?(u=`http://${m}?ns=${h.namespace}`,c=nT(u,o),h=c.repoInfo):c.repoInfo.secure;const d=new gP(t.name,t.options,e);DV("Invalid Firebase Database URL",c),Oe(c.path)||Ci("Database URL must point to the root of a Firebase Database (not including a child path).");const g=nz(h,t,d,new pP(t,i));return new EE(g,t)}function tz(t,e){const i=vp[e];(!i||i[t.key]!==t)&&Ci(`Database ${e}(${t.repoInfo_}) has already been deleted.`),qV(t),delete i[t.key]}function nz(t,e,i,r){let o=vp[e.name];o||(o={},vp[e.name]=o);let u=o[t.toURLString()];return u&&Ci("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new PV(t,JV,i,r),o[t.toURLString()]=u,u}class EE{constructor(e,i){this._repoInternal=e,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(IV(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Bn(this._repo,Ue())),this._rootInternal}_delete(){return this._rootInternal!==null&&(tz(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ci("Cannot call "+e+" on a deleted database.")}}function AE(t=F6(),e){const i=V6(t,"database").getImmediate({identifier:e});if(!i._instanceStarted){const r=Tj("database");r&&RE(i,...r)}return i}function RE(t,e,i,r={}){t=Ks(t),t._checkNotDeleted("useEmulator");const o=`${e}:${i}`,u=t._repoInternal;if(t._instanceStarted){if(o===t._repoInternal.repoInfo_.host&&xc(r,u.repoInfo_.emulatorOptions))return;Ci("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let c;if(u.repoInfo_.nodeAdmin)r.mockUserToken&&Ci('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new lc(lc.OWNER);else if(r.mockUserToken){const h=typeof r.mockUserToken=="string"?r.mockUserToken:Cj(r.mockUserToken,t.app.options.projectId);c=new lc(h)}ug(e)&&(wj(e),Rj("Database",!0)),ez(u,o,r,c)}function iz(t){lC(H6),Tc(new qo("database",(e,{instanceIdentifier:i})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return CE(r,o,u,i)},"PUBLIC").setMultipleInstances(!0)),Xr(CS,ES,t),Xr(CS,ES,"esm2020")}_i.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};_i.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};iz();const sz=Object.freeze(Object.defineProperty({__proto__:null,DataSnapshot:qs,Database:EE,_QueryImpl:cf,_QueryParams:Zc,_ReferenceImpl:Bn,_repoManagerDatabaseFromApp:CE,_setSDKVersion:lC,_validatePathString:Vg,_validateWritablePath:af,child:Ys,connectDatabaseEmulator:RE,get:Bs,getDatabase:AE,onChildAdded:wE,onValue:Gg,push:SE,ref:nn,remove:Po,set:pa,update:Ic},Symbol.toStringTag,{value:"Module"}));var rz="firebase",az="12.9.0";Xr(rz,az,"app");const sT={apiKey:"AIzaSyAweEeSIFt434-nnNBi5sYy1hTXvTe7XmE",authDomain:"karaoke-sau-nhan-e798b.firebaseapp.com",databaseURL:"https://karaoke-sau-nhan-e798b-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"karaoke-sau-nhan-e798b"};let at=null,Zn=!1;try{if(sT.databaseURL){const t=sC(sT);at=AE(t),Zn=!0}else console.warn("[Firebase] databaseURL not configured. Queue sync disabled.")}catch(t){console.error("[Firebase] Init failed:",t.message)}const rT="karaoke_device_id";function oz(){let t=localStorage.getItem(rT);return t||(t="user_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),localStorage.setItem(rT,t)),t}function lz(t){const e=[],i={};Object.entries(t).forEach(([c,h])=>{let m=[];h.songs&&(Array.isArray(h.songs)?m=[...h.songs]:m=Object.values(h.songs));const d=m.filter(y=>y.isPriority),g=m.filter(y=>!y.isPriority);d.length>0&&d.forEach(y=>{e.push({...y,customerId:c,customerName:h.name,isPriority:!0,firebaseKey:y.id||y.firebaseKey})}),g.length>0&&(i[c]={...h,songs:g.sort((y,v)=>(y.addedAt||0)-(v.addedAt||0))})}),e.sort((c,h)=>(c.addedAt||0)-(h.addedAt||0));const r=[],o=Object.entries(i).map(([c,h])=>({id:c,...h}));o.sort((c,h)=>(c.firstOrderTime||0)-(h.firstOrderTime||0));const u=Math.max(...o.map(c=>(c.startRound||1)-1+(c.songs||[]).length),0);for(let c=1;c<=u;c++)for(const h of o){const m=h.startRound||1,d=c-m,g=h.songs||[];if(d>=0&&d<g.length){const y=g[d];r.push({...y,customerId:h.id,customerName:h.name,round:c,originalSongIndex:d,firebaseKey:y.id||y.firebaseKey||`${h.id}_${d}`})}}return[...e,...r]}function NE(){return!Zn||!at?null:nn(at,"customerQueues")}function qg(){return!Zn||!at?null:nn(at,"playQueue")}async function ME(){if(!(!Zn||!at))try{const e=(await Bs(NE())).val()||{},i=lz(e);await pa(qg(),i)}catch(t){console.error("Failed to sync play queue:",t)}}async function DE(t){if(!Zn||!at)return Promise.resolve();const e=oz(),i=nn(at,`customerQueues/${e}`);let o=(await Bs(i)).val();const u=Date.now();if(!o){let v=1;const w=(await Bs(qg())).val();if(w){const E=(Array.isArray(w)?w:Object.values(w)).find(A=>!A.isPriority);E&&E.round&&(v=E.round)}o={name:t.addedBy||"Khch mi",firstOrderTime:u,startRound:v,songs:{}}}const c=nn(at,`customerQueues/${e}/songs`),h=SE(c),m=h.key,d={id:m,videoId:t.videoId,title:t.title,cleanTitle:t.cleanTitle||t.title,artist:t.artist||"",addedBy:t.addedBy,thumbnail:t.thumbnail||"",addedAt:u,isPriority:t.isPriority||!1,source:t.source||"web"};await pa(h,d);const y=(await Bs(i)).val();return!y||!y.firstOrderTime?await Ic(i,{firstOrderTime:o.firstOrderTime||u,startRound:o.startRound||1,name:t.addedBy}):await Ic(i,{name:t.addedBy}),await ME(),{key:m}}async function Yg(t){if(!(!Zn||!at))try{const i=(await Bs(NE())).val();if(!i)return;let r=null;for(const[o,u]of Object.entries(i))if(u.songs&&u.songs[t]){r=`customerQueues/${o}/songs/${t}`;break}r?(await Po(nn(at,r)),await ME()):console.warn("Song not found to remove:",t)}catch(e){console.error("Error removing song:",e)}}function uz(){if(!Zn||!at)return Promise.resolve();const t={};return t.customerQueues=null,t.playQueue=null,Ic(nn(at),t)}function kE(t){if(!Zn||!at)return Promise.resolve();const e=nn(at,"nowPlaying"),i={...t};return Object.keys(i).forEach(r=>{i[r]===void 0&&(i[r]=null)}),pa(e,{...i,startedAt:Date.now()})}function Qg(){if(!Zn||!at)return Promise.resolve();const t=nn(at,"nowPlaying");return pa(t,null)}function cz(t){if(!Zn||!at)return t(null),()=>{};const e=nn(at,"nowPlaying");return Gg(e,i=>{t(i.val()||null)})}function OE(t){const e=qg();return e?Gg(e,i=>{const r=i.val(),o=r?Object.values(r):[];t(o)}):(t([]),()=>{})}const LE=Object.freeze(Object.defineProperty({__proto__:null,clearFirebaseQueue:uz,clearNowPlaying:Qg,listenToFirebaseQueue:OE,listenToNowPlaying:cz,pushToFirebaseQueue:DE,removeFromFirebaseQueue:Yg,setNowPlaying:kE},Symbol.toStringTag,{value:"Module"}));function fz(t){const e=me(h=>h.reorderQueue),i=me(h=>h.queue),[r,o]=T.useState(!1),u=T.useRef(!0);T.useEffect(()=>{const h=OE(m=>{u.current&&(u.current=!1);const g=(m||[]).map(y=>({id:y.firebaseKey,firebaseKey:y.firebaseKey,videoId:y.videoId,title:y.title,cleanTitle:y.cleanTitle,artist:y.artist,addedBy:y.addedBy||y.customerName||"Khch",thumbnail:y.thumbnail,source:y.source||"web",customerId:y.customerId,round:y.round,isPriority:y.isPriority}));e(g),o(!0)});return()=>h()},[]);const c=T.useRef(i);T.useEffect(()=>{if(!r){c.current=i;return}const h=new Set(c.current.map(d=>d.firebaseKey).filter(Boolean)),m=new Set(i.map(d=>d.firebaseKey).filter(Boolean));for(const d of h)m.has(d)||Yg(d).catch(g=>console.error("Remove failed",g));c.current=i},[i,r])}const aT="__karaoke_session_active__",Vc="__karaoke_current_song__",zc="__karaoke_queue__";function hz(){return ke.useMemo(()=>sessionStorage.getItem(aT)?!0:(sessionStorage.setItem(aT,"1"),!1),[])}function bp(t){t?sessionStorage.setItem(Vc,JSON.stringify(t)):sessionStorage.removeItem(Vc)}function dz(t){t&&t.length>0?sessionStorage.setItem(zc,JSON.stringify(t)):sessionStorage.removeItem(zc)}function mz(){try{const t=sessionStorage.getItem(Vc);if(t)return JSON.parse(t)}catch(t){console.warn("[useSessionRestore] Failed to parse saved currentSong:",t)}return null}function pz(){try{const t=sessionStorage.getItem(zc);if(t)return JSON.parse(t)}catch(t){console.warn("[useSessionRestore] Failed to parse saved queue:",t)}return[]}function jE(t,e,i){const r=hz(),[o,u]=ke.useState(!1),c=ke.useRef(!1);return ke.useEffect(()=>{if(c.current)return;if(c.current=!0,!r){Qg().catch(()=>{}),sessionStorage.removeItem(Vc),sessionStorage.removeItem(zc);return}const h=mz();h&&(t(h),e(!0),u(!0));const m=pz();m&&m.length>0&&i&&i(m)},[r,t,e,i]),{isRefresh:r,isRestoredSong:o,setIsRestoredSong:u}}const gz=Object.freeze(Object.defineProperty({__proto__:null,saveCurrentSongToSession:bp,saveQueueToSession:dz,useSessionRestore:jE},Symbol.toStringTag,{value:"Module"})),yz=()=>{T.useEffect(()=>{if(!at)return;const e=nn(at,"queue");Bs(e).then(async r=>{if(r.exists()){const o=r.val();for(const[u,c]of Object.entries(o))await t(u,c)}});const i=wE(e,async r=>{const o=r.val(),u=r.key;o&&await t(u,o)});return()=>i()},[]);const t=async(e,i)=>{if(!i||typeof i!="object"){console.warn("[LegacyBridge] Invalid item format (not an object), removing:",e),await Po(nn(at,`queue/${e}`));return}if(!i.videoId||!i.title){console.warn("[LegacyBridge] Item missing required fields (videoId/title), removing:",e,i),await Po(nn(at,`queue/${e}`));return}try{await DE({videoId:i.videoId||"",title:i.title||"Unknown Title",cleanTitle:i.cleanTitle||"",artist:i.artist||"",addedBy:i.addedBy||"Khch (Web C)",thumbnail:i.thumbnail||"",source:"legacy_bridge",isPriority:!!i.isPriority}),await Po(nn(at,`queue/${e}`))}catch(r){console.error("[LegacyBridge] Failed to migrate:",r)}};return null},vz=()=>{const{isPlaying:t,setIsPlaying:e,triggerRestart:i,queue:r,addToQueue:o,removeFromQueue:u,reorderQueue:c,setCurrentSong:h,currentSong:m,queueMode:d,toggleQueueMode:g,invitedSongId:y,setInvitedSongId:v,setWaitingForGuest:x,waitCountdown:w,setWaitCountdown:C,setCountdownPaused:E,setMicAttemptHint:A}=me(),{isRefresh:N,isRestoredSong:D,setIsRestoredSong:L}=jE(h,e,c);ke.useEffect(()=>{zr(async()=>{const{saveQueueToSession:$}=await Promise.resolve().then(()=>gz);return{saveQueueToSession:$}},void 0).then(({saveQueueToSession:$})=>{$(r)})},[r]);const B=()=>{if(r.length>0){const $=r[0];h($),u($.id)}else e(!1),h(null)},ne=ke.useCallback(()=>{B()},[r,u,h,e]);Gw("host",{onSongEnded:ne}),fz();const[K,z]=ke.useState(!N);ke.useEffect(()=>{N&&(D||m)&&z(!0)},[N,D,m]),ke.useEffect(()=>{if(N&&!K){const $=setTimeout(()=>z(!0),500);return()=>clearTimeout($)}},[N,K]),ke.useEffect(()=>{if(K&&!m&&r.length>0&&d==="auto"){const $=r[0];h($),u($.id)}},[m,r,d,h,u,K]);const[ee,se]=ke.useState("center"),{announce:ye}=ij(),{waitForPresence:ve,cancelDetection:Ee}=fj(),{isTVOpen:Ve,openTV:X,closeTV:j}=hj(),Y=ke.useRef(!1);ke.useEffect(()=>{Y.current||(Y.current=!0,fetch("/api/display/extend",{method:"POST"}).then(()=>{setTimeout(()=>X(),1500)}).catch(()=>{X()}))},[X]);const H=ke.useRef(null),ie=ke.useRef(!1),ue=ke.useRef(!0);ke.useEffect(()=>{ue.current&&(ue.current=!1,N&&!m)||(m?(bp(m),kE(m).catch(()=>{}),m.firebaseKey&&Yg(m.firebaseKey).catch(()=>{})):(bp(null),Qg().catch(()=>{})))},[m,N]);const M=()=>{if(m?.isStaged){const $={...m,isStaged:!1};J($.id),h($),e(!0);return}if(!m&&r.length>0){const $=r[0];h($),u($.id);return}e(!t)},G=()=>{ie.current=!0,H.current&&H.current.abort()},[W,J]=ke.useState(null),fe=ke.useCallback(async $=>{const ge=$.addedBy||"qu khch";let Ie=$.cleanTitle;Ie||(Ie=ag($.title));const tt=`Xin mi ${ge} ln sn khu, trnh by ca khc ${Ie}`;await ye(tt)},[ye]);ke.useEffect(()=>{if(!y||d!=="manual")return;const $=r.find(Ie=>Ie.id===y);if(!$)return;(async()=>($.cleanTitle?await fe($):(await new Promise(Ie=>setTimeout(Ie,3e3)),await fe($)),h($),u($.id),e(!0)))()},[y,d,r,fe,h,u,e]),ke.useEffect(()=>{if(!m||m.isStaged||m.id===W)return;if(D){J(m.id),L(!1);return}if(d==="manual"&&m.id===y){J(m.id),v(null);return}e(!1),H.current&&H.current.abort();const $=new AbortController;H.current=$,ie.current=!1;const ge=async()=>{if(await fe(m),!($.signal.aborted&&!ie.current)){if(d==="manual"){J(m.id);return}x(!0),await ve($.signal,C,Ie=>{A(Ie),setTimeout(()=>A(null),3e3)}),x(!1),A(null),!($.signal.aborted&&!ie.current)&&(J(m.id),e(!0))}};if(m.cleanTitle)ge();else{const Ie=setTimeout(()=>{m.id!==W&&ge()},3e3);return()=>{clearTimeout(Ie),$.abort(),Ee(),x(!1)}}return()=>{$.abort(),Ee(),x(!1)}},[m,W,d,y,D,fe,e,v,x,L,ve,Ee,A]);const _e=ke.useRef(null),de=()=>i(),Te=()=>{if(e(!1),x(!1),H.current&&H.current.abort(),J(null),r.length>0){const $={...r[0],isStaged:!0};h($),u($.id)}else h(null)},Z=ke.useCallback(()=>{m&&fe(m)},[m,fe]);ke.useEffect(()=>{const $=ge=>{["INPUT","TEXTAREA","IFRAME"].includes(document.activeElement.tagName)||ge.code==="Space"&&(ge.preventDefault(),M())};return window.addEventListener("keydown",$),()=>window.removeEventListener("keydown",$)},[t,M]);const ce=$=>{const ge="flex flex-col gap-4 min-w-0 overflow-hidden transition-[flex] duration-500 ease-in-out will-change-[flex]";switch(ee){case"left":return $==="left"?`${ge} flex-[5]`:$==="center"?`${ge} flex-[4]`:`${ge} flex-[3]`;case"right":return $==="left"?`${ge} flex-[2]`:$==="center"?`${ge} flex-[4]`:`${ge} flex-[6]`;default:return $==="left"?`${ge} flex-[2]`:$==="center"?`${ge} flex-[6]`:`${ge} flex-[2]`}};return _.jsxs("div",{className:"flex flex-col lg:flex-row h-screen font-sans p-2 gap-4 bg-slate-100",children:[_.jsx(yz,{}),_.jsx("div",{className:ce("left"),onClick:()=>se("left"),onMouseEnter:()=>se("left"),children:_.jsxs(Br,{className:`h-full flex flex-col border border-slate-200 shadow-sm bg-white overflow-hidden transition-all ${ee==="left"?"shadow-md border-slate-300":""}`,children:[_.jsxs("div",{className:"p-3 border-b border-slate-100 flex items-center justify-between bg-slate-50",children:[_.jsx("h2",{className:"text-lg font-black text-slate-800 uppercase tracking-tighter",children:"HNG CH"}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("button",{onClick:g,className:`relative inline-flex h-6 w-12 items-center rounded-full transition-colors cursor-pointer ${d==="auto"?"bg-indigo-500":"bg-slate-300"}`,children:_.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform shadow-sm ${d==="auto"?"translate-x-7":"translate-x-1"}`})}),_.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:d==="auto"?"Auto":"Th Cng"})]})]}),_.jsx("div",{className:"flex-1 overflow-y-auto p-2 custom-scrollbar",children:_.jsx(PL,{onReAnnounce:Z})})]})}),_.jsxs("div",{className:ce("center"),onClick:()=>se("center"),onMouseEnter:()=>se("center"),children:[_.jsxs("div",{className:"flex justify-between items-center bg-white p-3 rounded-xl shadow-sm border border-slate-200 mb-0",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("img",{src:"/logo.svg",alt:"Logo",className:"w-12 h-12 rounded-xl shadow-sm bg-white"}),_.jsx("h1",{className:"text-2xl font-black text-slate-800 tracking-tighter uppercase",children:"KARAOKE SU NHN"})]}),_.jsx(nj,{openTV:X,closeTV:j,isTVOpen:Ve})]}),_.jsxs("div",{ref:_e,className:"player-container relative bg-black overflow-hidden shadow-lg rounded-xl aspect-video w-full",children:[_.jsx(ej,{className:"w-full h-full"}),_.jsx(qw,{countdown:w,onSkip:G,onPauseToggle:()=>{const $=me.getState();$.setCountdownPaused(!$.countdownPaused)}})]}),_.jsx(Br,{className:"bg-white border-0 shadow-sm rounded-xl px-3 py-2",children:_.jsx(tj,{})}),_.jsx(Br,{className:"bg-white border-0 shadow-sm rounded-xl p-3",children:_.jsxs("div",{className:"flex gap-4",children:[_.jsxs("button",{onClick:M,className:`flex-1 py-4 px-6 rounded-xl flex items-center justify-center gap-3 transition-all active:scale-95 shadow-lg shadow-indigo-200/50 cursor-pointer ${t?"bg-slate-200 text-slate-600 border border-slate-300 hover:bg-slate-300":"bg-indigo-600 text-white hover:bg-indigo-700"}`,children:[t?_.jsx(HT,{size:28,fill:"currentColor"}):_.jsx(FT,{size:28,fill:"currentColor"}),_.jsx("span",{className:"text-xl font-black uppercase tracking-tight",children:t?"Dng":"Pht"})]}),_.jsxs("button",{onClick:B,disabled:r.length===0,className:"flex-1 py-4 px-6 rounded-xl flex items-center justify-center gap-3 bg-slate-800 text-white transition-all active:scale-95 shadow-lg shadow-slate-400/50 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-900",children:[_.jsx(qT,{size:28,fill:"currentColor"}),_.jsx("span",{className:"text-xl font-black uppercase tracking-tight",children:"Qua Bi"})]}),_.jsxs("button",{onClick:de,disabled:!m,className:"flex-1 py-4 px-6 rounded-xl flex items-center justify-center gap-3 bg-orange-500 text-white transition-all active:scale-95 shadow-lg shadow-orange-200/50 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed hover:bg-orange-600",children:[_.jsx(lD,{size:28}),_.jsx("span",{className:"text-xl font-black uppercase tracking-tight",children:"Pht Li"})]}),_.jsxs("button",{onClick:Te,disabled:!m,className:"flex-1 py-4 px-6 rounded-xl flex items-center justify-center gap-3 bg-red-500 text-white transition-all active:scale-95 shadow-lg shadow-red-200/50 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed hover:bg-red-600",children:[_.jsx(dD,{size:28,fill:"currentColor"}),_.jsx("span",{className:"text-xl font-black uppercase tracking-tight",children:"Xa Bi"})]})]})})]}),_.jsx("div",{className:ce("right"),onClick:()=>se("right"),onMouseEnter:()=>se("right"),onFocusCapture:()=>se("right"),children:_.jsxs(Br,{className:`h-full flex flex-col border border-slate-200 shadow-sm bg-white overflow-hidden transition-all ${ee==="right"?"shadow-md border-slate-300":""}`,children:[_.jsxs("div",{className:"p-3 border-b border-slate-100 bg-slate-50 flex items-center gap-2",children:[_.jsx(GT,{size:18,className:"text-slate-800"}),_.jsx("h2",{className:"text-lg font-black text-slate-800 uppercase tracking-tighter",children:"Tm Kim"})]}),_.jsx("div",{className:"flex-1 overflow-hidden relative",children:_.jsx(i4,{isExpanded:ee==="right"})})]})})]})};function bz(){return _.jsx(P2,{children:_.jsxs(h2,{children:[_.jsx(bm,{path:"/",element:_.jsx(vz,{})}),_.jsx(bm,{path:"/projection",element:_.jsx(J4,{})})]})})}hN.createRoot(document.getElementById("root")).render(_.jsx(T.StrictMode,{children:_.jsx(bz,{})}));
